(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5,6],{"+sW7":function(e,t,n){e.exports=n.p+"desktop-assets/s4.21d636844d5096acf2e4cd247c759a45.svg"},"/aJl":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=(n("17x9"),n("TSYQ")),c=n.n(i),s=n("GB65"),l=n("G5ih"),u=n("BWa0");n("emG5");function d(e){var t=e.active,n=c()({ButtonBackToTop:!0,badge:!0,active:t});return a.a.createElement("a",{href:"#",className:n,onClick:function(){var e=Object(s.bb)();Object(s.tb)(-e,0,"smooth")}},a.a.createElement(u.eb,{className:"badge-icon",name:u.d,width:"32",height:"32"}),a.a.createElement("span",{className:"badge-text"},Object(l.b)("takeMeUp")))}d.defaultProps={active:!1,locationTop:!0},d.__docgenInfo={description:"",methods:[],displayName:"ButtonBackToTop",props:{active:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},locationTop:{defaultValue:{value:"true",computed:!1},required:!1}}},t.a=Object(o.b)(function(e){return{active:!e.ui.footer.get("isFooterVisible")}})(d)},"/b2Y":function(e,t,n){},"/q0z":function(e,t,n){},"0pwo":function(e,t,n){},"129X":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("lSNA"),i=n.n(r),a=n("q1tI"),c=n.n(a),o=(n("17x9"),n("TSYQ")),s=n.n(o);n("BFB+");function l(e){var t=e.children,n=e.className,r=e.stacked,a=e.reversed,o=s()(i()({Media:!0,"Media--stacked":r,"Media--reversed":a},n,n));return c.a.createElement("div",{className:o},t)}function u(e){var t=e.children,n=e.className,r=e.order,a=s()(i()({MediaBody:!0},n,n));return c.a.createElement("div",{className:a,style:r&&{order:r}},t)}u.__docgenInfo={description:"",methods:[],displayName:"MediaBody",props:{children:{type:{name:"node"},required:!0,description:""},order:{type:{name:"number"},required:!(l.__docgenInfo={description:"",methods:[],displayName:"Media",props:{children:{type:{name:"node"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""},stacked:{type:{name:"bool"},required:!1,description:""},reversed:{type:{name:"bool"},required:!1,description:""}}}),description:""},className:{type:{name:"string"},required:!1,description:""}}}},"1O1r":function(e,t,n){},"1POK":function(e,t,n){},"1coQ":function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),i=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("JPcv")),C=n("cm4/"),E=n.n(C),O=n("66r6");function k(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var P=function(e){u()(a,e);var r=k(a);function a(e){var t;o()(this,a),t=r.call(this,e),g()(s()(t),"grabString",function(e){var t=Object(O.o)(e,O.c);if(!t.length)return e;var n="",r=e.substr(0,t[0].begin);r.length&&(n=r);for(var a=!1,o="",i=0;i<t.length;i++){if(0<i){var c=t[i-1],s=t[i].begin-1-c.end,l=e.substr(c.end+1,s);l.length&&(n+=l)}a?n+=O.a+t[i].href:(o=t[i].href,a=!0)}var u=e.substr(t[t.length-1].end+1);return u.length&&(n+=u),o&&(n+=" ".concat(o)),n});var n=e.opUsername?{opUsername:e.opUsername}:{};return n.isLinkifyTargetMedia=e.isLinkifyTargetMedia,n.postMedia=e.postMedia,Object(O.i)(C.linkify,n),t}return i()(a,[{key:"getChildren",value:function(){var e=this.props,t=e.children,n=e.expandlink;return"string"!=typeof t||"true"!==n?t:this.grabString(t)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.expandlink,r=e.component,a=e.postMedia;return b.a.createElement(E.a,{component:r,properties:{target:"_blank",rel:"noopener noreferrer",onClick:t,className:"Linkify-element",expandlink:n,postMedia:a}},this.getChildren())}}]),a}(b.a.Component);P.defaultProps={onClick:function(){return!0},expandlink:"false",postMedia:new v.List},P.__docgenInfo={description:"",methods:[{name:"getChildren",docblock:null,modifiers:[],params:[],returns:null},{name:"grabString",docblock:null,modifiers:[],params:[{name:"str",type:null}],returns:null}],displayName:"ImgurLinkify",props:{onClick:{defaultValue:{value:"() => true",computed:!1},type:{name:"func"},required:!1,description:""},expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},postMedia:{defaultValue:{value:"new List()",computed:!1},type:{name:"object"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},component:{type:{name:"func"},required:!1,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isLinkifyTargetMedia:{type:{name:"bool"},required:!1,description:""}}}},"1p8+":function(e,t,n){},"20NG":function(e,t,n){},"2OyZ":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="DEFAULT_EMBED_NODE_ID",a="DEFAULT_EMBED_DIALOG"},"2X/W":function(e,t,n){},"2YUA":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),a=(n("17x9"),n("/MKj")),c=n("G5ih"),s=n("wmRA"),o=n("/PhX"),l=n("fdoY"),u=n("wAdX"),d=n("7oyi"),m=n("pNV7");n("Rhnt");function p(e){var t=e.closeDialog,n=e.removeFromPublic,r=e.postId,a=e.isAlbum;if(!r)return null;function o(){t()}return i.a.createElement(u.a,{className:"RemoveFromPublicDialog",name:s.I,isModal:!1},i.a.createElement("div",{className:"RemoveFromPublicDialog-head"},i.a.createElement("span",null,Object(c.b)("removeFromPublicDialogTitle")),i.a.createElement(d.a,{className:"RemoveFromPublicDialog-head--close",imageSrc:m.a[m.j],onClick:o})),i.a.createElement("div",{className:"RemoveFromPublicDialog-content"},i.a.createElement("div",{className:"RemoveFromPublicDialog-content--text"},Object(c.b)("removeFromPublicDialogText")),i.a.createElement("div",{className:"RemoveFromPublicDialog-content--buttons"},i.a.createElement(d.a,{className:"btn btn--cancel",onClick:o,label:Object(c.b)("removeFromPublicDialogCancelBtn")}),i.a.createElement(d.a,{className:"btn btn--submit",onClick:function(){n(r,a),t()},label:Object(c.b)("removeFromPublicDialogSubmitBtn")}))))}p.__docgenInfo={description:"",methods:[],displayName:"RemoveFromPublicDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},removeFromPublic:{type:{name:"func"},required:!0,description:""},postId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(a.b)(null,{closeDialog:o.y,removeFromPublic:l.ub})(p)},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2p6Y":function(e,t,n){},3:function(e,t){},"4KxA":function(e,t,n){},"58bT":function(e,t,n){},"5e9/":function(e,t,n){},"5ggk":function(e,t,n){},"5zAP":function(e,t,n){"use strict";n.d(t,"a",function(){return B}),n.d(t,"b",function(){return K});var r,a,o,i,c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),O=n.n(E),k=(n("17x9"),n("Efxr")),P=n("GB65"),S="UploadSpinner",N="Wrapper",j="Pose",q="container",w="giraffe",I="upvote",T="heart",A="drop",D="shadow",R="default",x="rotate",M="preJump",F="jump",_="land",G="postLand",L=[I,T,w],V=n("wKGW");n("Ojet");function U(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var B=function(e){f()(a,e);var n=U(a);function a(e){var t,r;return s()(this,a),r=n.call(this,e),C()(m()(r),"activeItem",0),C()(m()(r),"isUnmounted",!1),C()(m()(r),"timerId",null),C()(m()(r),"animationFrame",function(){r.bounce(),r.splash()}),C()(m()(r),"nextItem",function(){return r.activeItem++,2<r.activeItem&&(r.activeItem=0),r.activeItem}),C()(m()(r),"bounce",function(){var e=r.nextItem();r.bounceAnim(L[e])}),C()(m()(r),"bounceAnim",function(n){var e,t=(e={},C()(e,q+j,M),C()(e,D+j,F),e);Object(P.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,I+j,x),C()(e,w+j,x),C()(e,T+j,x),e))},150),Object(P.Ab)(function(){var e,t=(e={},C()(e,I+N+j,R),C()(e,w+N+j,R),C()(e,T+N+j,R),C()(e,n+N+j,"show"),e);r.isUnmounted||r.setState(t)},250),Object(P.Ab)(function(){r.isUnmounted||r.setState(C()({},D+j,_))},400),r.setState(t)}),C()(m()(r),"splash",function(){for(var t={},e=1;e<=3;e++){var n=0;n=1===e?r.randomNumber(-80,-65):2===e?r.randomNumber(-80,80):r.randomNumber(65,80),t["".concat(A).concat(e).concat(j)]=_,t["".concat(A).concat(e,"-y")]=r.randomNumber(-32,-40),t["".concat(A).concat(e,"-rotate")]=n}Object(P.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(A,"1").concat(j),F),C()(e,"".concat(A,"2").concat(j),F),C()(e,"".concat(A,"3").concat(j),F),e)),Object(P.Ab)(function(){r.isUnmounted||r.setState(t)},10),Object(P.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(A,"1").concat(j),G),C()(e,"".concat(A,"2").concat(j),G),C()(e,"".concat(A,"3").concat(j),G),e))},150),Object(P.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(A,"1").concat(j),R),C()(e,"".concat(A,"2").concat(j),R),C()(e,"".concat(A,"3").concat(j),R),e))},500)},520)}),C()(m()(r),"randomNumber",function(e,t){return Math.floor(Math.random()*(t-e+1))+e}),r.state=(t={},C()(t,w+j,R),C()(t,w+N+j,R),C()(t,I+j,R),C()(t,I+N+j,R),C()(t,T+j,R),C()(t,T+N+j,"show"),C()(t,q+j,R),C()(t,D+j,R),C()(t,A+1+j,R),C()(t,A+2+j,R),C()(t,A+3+j,R),t),r}return u()(a,[{key:"componentDidUpdate",value:function(){var e=this;this.state[q+j]===M&&Object(P.Ab)(function(){e.isUnmounted||e.setState(C()({},q+j,F))},100),this.state[q+j]===F&&Object(P.Ab)(function(){e.isUnmounted||e.setState(C()({},q+j,_))},250),this.state[q+j]===_&&Object(P.Ab)(function(){e.isUnmounted||e.setState(C()({},q+j,G))},100),this.state[q+j]===G&&Object(P.Ab)(function(){e.isUnmounted||e.setState(C()({},q+j,R))},150)}},{key:"componentDidMount",value:function(){var e=this;this.isUnmounted=!1,this.animationFrame(),this.timerId=Object(P.xb)(function(){e.animationFrame()},1800)}},{key:"componentWillUnmount",value:function(){Object(P.h)(this.timerId),this.isUnmounted=!0}},{key:"render",value:function(){var t=this,e="".concat(S," ").concat(this.props.className||"");return O.a.createElement("div",{style:this.props.style,className:e},O.a.createElement(H,{pose:this.state[q+j],key:"container-".concat(this.props.uid),className:"".concat(S,"-spinner is").concat(this.props.size,"px")},O.a.createElement("div",{key:"".concat(w+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[w+N+j])},O.a.createElement(W,{className:"".concat(S,"-icon ").concat(S,"-icon-").concat(w),pose:this.state[w+j],key:"".concat(w,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},w+j,R))}})),O.a.createElement("div",{key:"".concat(I+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[I+N+j])},O.a.createElement(W,{className:"".concat(S,"-icon ").concat(S,"-icon-").concat(I),pose:this.state[I+j],key:"".concat(I,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},I+j,R))}})),O.a.createElement("div",{key:"".concat(T+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[T+N+j])},O.a.createElement(W,{className:"".concat(S,"-icon ").concat(S,"-icon-").concat(T),pose:this.state[T+j],key:"".concat(T,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},T+j,R))}}))),O.a.createElement("div",{className:"splash"},O.a.createElement("div",{className:A+N,style:{transform:"rotate(".concat(this.state["".concat(A+1,"-rotate")],"deg)")}},O.a.createElement(z,{className:A,pose:this.state[A+1+j],key:"".concat(A+1,"-").concat(this.props.uid),y:this.state["".concat(A+1,"-y")],rotate:this.state["".concat(A+1,"-rotate")]})),O.a.createElement("div",{className:A+N,style:{transform:"rotate(".concat(this.state["".concat(A+2,"-rotate")],"deg)")}},O.a.createElement(z,{className:A,pose:this.state[A+2+j],key:"".concat(A+2,"-").concat(this.props.uid),y:this.state["".concat(A+2,"-y")],rotate:this.state["".concat(A+2,"-rotate")]})),O.a.createElement("div",{className:A+N,style:{transform:"rotate(".concat(this.state["".concat(A+3,"-rotate")],"deg)")}},O.a.createElement(z,{className:A,pose:this.state[A+3+j],key:"".concat(A+3,"-").concat(this.props.uid),y:this.state["".concat(A+3,"-y")],rotate:this.state["".concat(A+3,"-rotate")]})),O.a.createElement(Y,{className:D,pose:this.state[D+j],key:"".concat(D,"-").concat(this.props.uid),onPoseComplete:function(e){e===_&&t.setState(C()({},D+j,R))}})))}}]),a}(O.a.Component),H=k.a.div((r={},C()(r,R,{scaleY:1,scaleX:1,originY:1,originX:.5,transition:{type:"spring",damping:50,stiffness:200,duration:1e3}}),C()(r,M,{scaleY:.75,transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,F,{scaleY:1,scaleX:.9,y:"-74px",transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,_,{scaleX:1.2,y:0,transition:{type:"spring",damping:50,stiffness:200,duration:750}}),C()(r,G,{scaleY:.65,scaleX:1,transition:{type:"spring",damping:0,duration:500,stiffness:150}}),r)),W=k.a.div((a={},C()(a,R,{rotate:0,transition:{duration:10}}),C()(a,x,{rotate:360,transition:{duration:350}}),a)),z=k.a.div((o={},C()(o,R,{opacity:0,scaleY:1,y:0,transition:{duration:0}}),C()(o,F,{opacity:1,transition:{duration:0}}),C()(o,_,{scaleY:1.5,y:function(e){var t=e.y;return"".concat(t,"px")},transition:{type:"spring",damping:80,stiffness:200,duration:500}}),C()(o,G,{opacity:0,transition:{duration:250}}),o)),Y=k.a.div((i={},C()(i,R,{opacity:1,scaleX:1,transition:{duration:250}}),C()(i,F,{scaleX:.5,transition:{duration:500}}),C()(i,_,{scaleX:1.25,transition:{duration:250}}),i));function K(e){var t=e.children,n=e.isLoading,r=e.isScrollSpinner,a=O.a.createElement(B,{size:V.$initialSpinnerSize,uid:"7"});return O.a.createElement(O.a.Fragment,null,n&&!r&&O.a.createElement("div",{className:"UploadSpinner-initial"},a),O.a.createElement("div",{className:"UploadSpinner-contentWrapper"},t),n&&r&&O.a.createElement("div",{className:"UploadSpinner-scroll"},a))}B.__docgenInfo={description:"",methods:[{name:"animationFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"nextItem",docblock:null,modifiers:[],params:[],returns:null},{name:"bounce",docblock:null,modifiers:[],params:[],returns:null},{name:"bounceAnim",docblock:null,modifiers:[],params:[{name:"activeItem",type:null}],returns:null},{name:"splash",docblock:null,modifiers:[],params:[],returns:null},{name:"randomNumber",docblock:null,modifiers:[],params:[{name:"min",type:null},{name:"max",type:null}],returns:null}],displayName:"UploadSpinner",props:{size:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},uid:{type:{name:"string"},required:!0,description:""}}},K.__docgenInfo={description:"",methods:[],displayName:"UploadSpinnerWrapper",props:{children:{type:{name:"object"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isScrollSpinner:{type:{name:"bool"},required:!1,description:""}}}},"6IHV":function(e,t,n){},"6tpS":function(e,t,n){"use strict";var r=n("q1tI"),p=n.n(r),a=(n("17x9"),n("/MKj")),o=n("ANjH"),f=n("O39/"),h=n("/y0k"),g=n("G5ih"),i=n("E9Wd"),c=n("fdoY"),s=n("uGFe"),y=n("pNV7"),b=n("ooTa"),l=n("dZW6"),v=n("Zbpd"),u=n("lwsE"),d=n.n(u),m=n("W8MJ"),C=n.n(m),E=n("PJYZ"),O=n.n(E),k=n("7W2i"),P=n.n(k),S=n("a1gu"),N=n.n(S),j=n("Nsbk"),q=n.n(j),w=n("lSNA"),I=n.n(w),T=n("TSYQ"),A=n.n(T),D=(n("XKKw"),n("ME7n")),R=n.n(D),x=n("BeWG"),M=n.n(x),F=n("FtJD"),_=n.n(F),G=n("LUYa"),L=n.n(G),V=n("Oggj"),U=n.n(V),B=n("91Vr"),H=n.n(B);function W(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=q()(r);if(a){var n=q()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N()(this,e)}}var z=function(e){P()(n,e);var t=W(n);function n(e){var i;return d()(this,n),i=t.call(this,e),I()(O()(i),"handleExpand",function(){return i.setState({isExpanded:!0})}),I()(O()(i),"shareFacebook",function(){var e=i.props,t=e.shareToFacebookAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),I()(O()(i),"shareTwitter",function(){var e=i.props,t=e.shareToTwitterAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),I()(O()(i),"shareReddit",function(){var e=i.props,t=e.shareToRedditAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),I()(O()(i),"sharePinterest",function(){var e=i.props,t=e.isPinterestEnable,n=e.shareToPinterestAction,r=e.title,a=e.postId,o=e.tags;t&&n(Object(b.a)(),r,a,o,f.k)}),I()(O()(i),"shareTumblr",function(){var e=i.props,t=e.shareToTumblrAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),I()(O()(i),"emailClick",function(){var e=i.props,t=e.shareToEmailAction,n=e.title,r=e.postId,a=e.tags;t(Object(b.a)(),n,r,a,f.k)}),i.state={isExpanded:!1},i}return C()(n,[{key:"render",value:function(){var e=this.state.isExpanded,t=this.props.isPinterestEnable;return p.a.createElement("div",{className:"SocialShare"},p.a.createElement("div",{className:"SocialShare-row isExpanded"},p.a.createElement("img",{src:R.a,onClick:this.shareFacebook}),p.a.createElement("img",{src:M.a,onClick:this.shareTwitter}),p.a.createElement("img",{src:_.a,onClick:this.shareReddit}),p.a.createElement("img",{src:L.a,onClick:this.emailClick})),p.a.createElement("div",{className:A()("SocialShare-row",{isExpanded:e})},e?p.a.createElement(p.a.Fragment,null,p.a.createElement("img",{className:A()({disabled:!t}),src:U.a,onClick:this.sharePinterest}),p.a.createElement("img",{src:H.a,onClick:this.shareTumblr})):p.a.createElement("button",{type:"button",className:"SocialShare-moreOptions",onClick:this.handleExpand},Object(g.b)("uploadShareMoreOptions"),p.a.createElement(y.W,{name:y.f}))))}}]),n}(p.a.Component);z.defaultProps={isPinterestEnable:!0},z.__docgenInfo={description:"",methods:[{name:"handleExpand",docblock:null,modifiers:[],params:[],returns:null},{name:"shareFacebook",docblock:null,modifiers:[],params:[],returns:null},{name:"shareTwitter",docblock:null,modifiers:[],params:[],returns:null},{name:"shareReddit",docblock:null,modifiers:[],params:[],returns:null},{name:"sharePinterest",docblock:null,modifiers:[],params:[],returns:null},{name:"shareTumblr",docblock:null,modifiers:[],params:[],returns:null},{name:"emailClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SocialShare",props:{isPinterestEnable:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"array"},required:!1,description:""},shareToFacebookAction:{type:{name:"func"},required:!0,description:""},shareToTwitterAction:{type:{name:"func"},required:!0,description:""},shareToRedditAction:{type:{name:"func"},required:!0,description:""},shareToPinterestAction:{type:{name:"func"},required:!0,description:""},shareToTumblrAction:{type:{name:"func"},required:!0,description:""},shareToEmailAction:{type:{name:"func"},required:!0,description:""}}};var Y=Object(a.b)(null,{shareToFacebookAction:c.Pb,shareToTwitterAction:c.Tb,shareToRedditAction:c.Rb,shareToPinterestAction:c.Qb,shareToTumblrAction:c.Sb,shareToEmailAction:c.Ob})(z);n("5ggk");function K(e){var t=e.runNewUpload,n=e.doneUpload,r=e.isLoggedIn,a=e.renderInput,o=e.clipboardCopy,i=e.copyLinkAction,c=e.isCopySuccess,s=e.title,l=e.postId,u=e.tags,d=e.albumFirstImg,m=e.hasImage;return p.a.createElement(v.a,{className:"HiddenPostConfirmDialog",name:h.x,head:Object(g.b)("hiddenPostDialogHead")},p.a.createElement("div",{className:"HiddenPostConfirmDialog-link"},p.a.createElement("div",{className:"HiddenPostConfirmDialog-link--head"},Object(g.b)("shareOptionsDialogShareLink")),p.a.createElement("div",{className:"HiddenPostConfirmDialog-copyLink"},a({className:"HiddenPostConfirmDialog-copyLink--input",text:Object(b.a)()}),p.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-copyLink--button",onClick:function(){o(),i(Object(b.a)(),s,l,u,f.k)}},Object(g.b)("embedDialogCopy".concat(c?"Done":"")),c&&p.a.createElement(y.W,{name:y.e})))),p.a.createElement(Y,{title:s,postId:l,tags:u,imgSrc:d?d.get("link"):"",isPinterestEnable:m}),r&&p.a.createElement(X,{runNew:t,done:n}),r||p.a.createElement(J,null))}function J(){var e=Object(g.b)("hiddenPostDialogRegister");return p.a.createElement("div",{className:"HiddenPostConfirmDialog-notLoggedLinks"},p.a.createElement("a",{href:i.N},e.login),e.or,p.a.createElement("a",{href:i.M},e.register),e.save)}function X(e){var t=e.runNew,n=e.done;return p.a.createElement("div",{className:"HiddenPostConfirmDialog-confirm"},p.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-confirm--again",onClick:t},Object(g.b)("hiddenPostDialogNewPost")),p.a.createElement("button",{type:"button",className:"HiddenPostConfirmDialog-confirm--done",onClick:n},Object(g.b)("hiddenPostDialogBackHome")))}K.__docgenInfo={description:"",methods:[],displayName:"HiddenPostConfirmDialog",props:{isLoggedIn:{type:{name:"bool"},required:!1,description:""},runNewUpload:{type:{name:"func"},required:!0,description:""},doneUpload:{type:{name:"func"},required:!0,description:""},isCopySuccess:{type:{name:"bool"},required:!0,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},copyLinkAction:{type:{name:"func"},required:!0,description:""},title:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},tags:{type:{name:"array"},required:!1,description:""},albumFirstImg:{type:{name:"object"},required:!1,description:""},hasImage:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(o.d)(l.a,Object(a.b)(function(e){var t=e.upload,n=e.user,r=e.ui,a=t.get("queue").reduce(function(e,t){return e||!t.get("isVideo")&&t.get("status")===s.X},!1);return{title:t.getIn(["post","title"]),postId:t.getIn(["album","id"]),tags:t.getIn(["post","tags"]).keySeq().toArray(),albumFirstImg:t.get("queue").first(),isLoggedIn:n.get("isLoggedIn"),isCopySuccess:r.clipboardCopy.get("isSuccess"),hasImage:a}},{runNewUpload:s.yc,doneUpload:s.Lb,copyLinkAction:c.Y}))(K)},"7TkL":function(e,t,n){},"7Yk7":function(e,t,n){},"7tbW":function(e,t,n){var r=n("LGYb");e.exports=function(e){return e&&e.length?r(e):[]}},"7znt":function(e,t,n){},"91Vr":function(e,t,n){e.exports=n.p+"desktop-assets/tumblr_share.3b6b3e2231ffeafd3a443b2a501ad175.svg"},"94Yu":function(e,t,n){"use strict";function r(e){var t=e.onClose,n=Object(b.useState)(3),r=F()(n,2),a=r[0],o=r[1],i=Object(b.useRef)(a);return i.current=a,Object(b.useEffect)(function(){var e=Object(I.xb)(function(){1===i.current&&Object(I.h)(e),o(function(e){return e-1})},1e3);return function(){return Object(I.h)(e)}},[]),v.a.createElement("div",{className:"SctuCloseButton",onClick:0===a?t:function(){}},v.a.createElement("span",{className:"SctuCloseButton-text"},Object(G.b)("sctuClose",a),0===a?v.a.createElement(_.eb,{name:_.g,width:"24",height:"24",viewBox:"0 0 32 32",className:"SctuCloseButton-x"}):" 00:0".concat(a)))}var a=n("lwsE"),o=n.n(a),i=n("W8MJ"),c=n.n(i),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),g=n("lSNA"),y=n.n(g),b=n("q1tI"),v=n.n(b),C=(n("17x9"),n("/MKj")),E=n("ANjH"),O=n("Ty5D"),k=n("JPcv"),P=n("sEfC"),S=n.n(P),N=n("TSYQ"),j=n.n(N),q=n("9Jdl"),w=n("yFeA"),I=n("GB65"),T=n("ErBw"),A=n("enaV"),D=n("/PhX"),R=n("+qLk"),x=n("bWDY"),M=n("J4zp"),F=n.n(M),_=n("BWa0"),G=n("G5ih");n("jAEK");r.__docgenInfo={description:"",methods:[],displayName:"SctuCloseButton",props:{onClose:{type:{name:"func"},required:!0,description:""}}};var L=r;n("qMU6");function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){y()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function B(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var H=function(e){d()(n,e);var t=B(n);function n(e){var i;return o()(this,n),i=t.call(this,e),y()(l()(i),"receiveMessage",function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefreshForSession:(\S+);?/);t&&t[1]?i.setState({refreshState:q.o}):(t=e.data.match(/disableTimedRefresh:(\S+);?/))&&t[1]&&i.setState({refreshState:q.p})}}),y()(l()(i),"resizeHandler",S()(function(){var e=i.props.updateSCTUHeightAction;i.sctuWrapper.current&&e(i.getRefHeight())},100)),y()(l()(i),"callback",function(e){if(e){var t=i.props,n=t.sctuLoadedAction,r=t.sctuChangedAction,a=t.reserveSctuLoadedAction,o=t.path;e.hasAd?e.tagId&&(i.loadCustomCreative({withCloseButton:!0}),n(),o===q.K&&a(),i.resizeSctu()):o!==q.K&&r(q.K)}}),y()(l()(i),"resizeSctu",function(){var e=i.props,t=e.updateSCTUHeightAction;if(e.reserve)var n=i.getRefHeight(),r=0,a=Object(I.xb)(function(){5<r?Object(I.h)(a):(n!==i.getRefHeight()&&(n=i.getRefHeight(),t(n)),++r)},50)}),y()(l()(i),"onClose",function(){var e=i.props,t=e.onStatusChange,n=e.updateSCTUHeightAction,r=e.closeSCTUAction,a=i.state.insertionId;i.setState({closed:!0},function(){t(),n(0)}),a&&r(a)}),y()(l()(i),"updateVisibility",function(e){var t=i.props,n=t.onStatusChange,r=t.updateSCTUHeightAction;i.setState({show:e},function(){n(),r(i.getRefHeight())})}),y()(l()(i),"loadCustomCreative",function(e){e.withCloseButton&&i.setState({withCloseButton:!0}),e.insertionId&&i.setState({insertionId:e.insertionId}),i.updateVisibility(!0)}),y()(l()(i),"getRefHeight",function(){return i.sctuWrapper.current?i.sctuWrapper.current.offsetHeight:0}),i.state={show:!1,withCloseButton:!1,closed:!1,insertionId:"",refreshState:q.p},i.sctuWrapper=v.a.createRef(),i.componentKey="sctu",Object(I.wb)("loadCustomCreative",i.loadCustomCreative),Object(I.c)("message",i.receiveMessage),Object(I.c)("resize",i.resizeHandler),i}return c()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchClosedSCTUsAction)()}},{key:"componentWillUnmount",value:function(){Object(I.mb)("message",this.receiveMessage),Object(I.mb)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.adsEnabled,a=n.onStatusChange,o=n.updateSCTUHeightAction;e.adsEnabled&&!r&&this.setState({closed:!0},function(){a(),o(t.getRefHeight())})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.pathname,a=n.adsEnabled,o=n.path,i=n.streamIsWhitelisted,c=n.postAdConfig,s=n.currentSCTU,l=this.state,u=l.show,d=l.withCloseButton,m=l.closed;return i!==e.streamIsWhitelisted||(o!==e.path||(s!==e.currentSCTU||(a!==e.adsEnabled||(r!==e.pathname||(c!==e.postAdConfig||(u!==t.show||(d!==t.withCloseButton||m!==t.closed)))))))}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.streamIsWhitelisted,r=e.match,a=e.postAdConfig,o=e.path,i=e.currentSCTU,c=e.reserve,s=e.reserveSctuLoaded,l=this.state.closed;return!(t&&!l)||(!(!r.params.galleryId||a)||(!(!c||o===i)||(!(c||!s)||Object(A.e)(Object(I.w)())===R.C&&!n)))}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.sctusClosed,n=e.slotTargeting;return 0<t.size?U(U({},n),{},{HLClose:t.toJS()}):n}},{key:"getKey",value:function(){var e=this.props,t=e.pathname,n=e.reserve,r=this.state.refreshState;return n||r===q.o||(this.componentKey="".concat("sctu").concat(t)),this.componentKey}},{key:"render",value:function(){if(this.shouldHide())return null;var e=this.props,t=e.adsEnabled,n=e.path,r=e.postAdConfig,a=this.state,o=a.show,i=a.withCloseButton,c=j()({"Ad-SCTU":!0,"Ad-SCTU-footliner":!1});return v.a.createElement("div",{className:c,ref:this.sctuWrapper,key:this.getKey(),style:{display:o?"block":"none"}},v.a.createElement(w.a,{adsEnabled:t,path:n,postAdConfig:r,callback:this.callback,slotTargeting:this.getSlotTargeting(),forceSafe:!r}),i&&v.a.createElement(L,{onClose:this.onClose}))}}]),n}(b.Component);H.defaultProps={sctusClosed:Object(k.List)(),slotTargeting:{},coverFixed:!1,reserve:!1},H.__docgenInfo={description:"",methods:[{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"callback",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null},{name:"resizeSctu",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"updateVisibility",docblock:null,modifiers:[],params:[{name:"show",type:null}],returns:null},{name:"loadCustomCreative",docblock:null,modifiers:[],params:[{name:"config",type:null}],returns:null},{name:"getRefHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null},{name:"getKey",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Sctu",props:{sctusClosed:{defaultValue:{value:"List()",computed:!0},type:{name:"instanceOf",value:"List"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},coverFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},reserve:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},path:{type:{name:"number"},required:!0,description:""},onStatusChange:{type:{name:"func"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},streamIsWhitelisted:{type:{name:"bool"},required:!1,description:""},closeSCTUAction:{type:{name:"func"},required:!0,description:""},fetchClosedSCTUsAction:{type:{name:"func"},required:!0,description:""},sctuLoadedAction:{type:{name:"func"},required:!0,description:""},sctuChangedAction:{type:{name:"func"},required:!0,description:""},pathname:{type:{name:"string"},required:!1,description:""},updateSCTUHeightAction:{type:{name:"func"},required:!0,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},match:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},reserveSctuLoaded:{type:{name:"bool"},required:!1,description:""},reserveSctuLoadedAction:{type:{name:"func"},required:!0,description:""},currentSCTU:{type:{name:"number"},required:!1,description:""}}};t.a=Object(E.d)(Object(C.b)(function(e){var t=e.ad,n=e.user,r=e.gallery,a=e.history,o=e.postsData,i=e.ui,c=Object(x.g)(t,n);return t.getIn(["transformation","enabled"])&&(c=!1),{adsEnabled:c,streamIsWhitelisted:r.get("streamIsWhitelisted"),sctusClosed:t.get("sctusClosed"),pathname:a.getIn(["location","pathname"]),postAdConfig:o.getIn(["currentPost","adConfig"]),coverFixed:i.cover.get("fixed"),currentSCTU:t.get("currentSCTU"),reserveSctuLoaded:t.get("reserveSctuLoaded")}},{closeSCTUAction:T.y,fetchClosedSCTUsAction:T.z,sctuLoadedAction:T.I,updateSCTUHeightAction:D.N,sctuChangedAction:T.H,reserveSctuLoadedAction:T.E}),O.h)(H)},"98ov":function(e,t,n){var r=n("VhX2"),a=n("P/G1");e.exports=function(e){return r(a(e))}},"9DFJ":function(e,t,n){},"9JWB":function(e,t,n){},"9UQG":function(e,t,n){"use strict";var r=n("q1tI"),p=n.n(r),a=n("17x9"),o=n.n(a),i=n("pVnL"),c=n.n(i);var s={primaryColor:"#8935c7",primaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 1), rgba(255, 88, 182, 0))",secondaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 0.4), rgba(137, 53, 199, 0))",buttonGradient:"linear-gradient(to top, rgba(254, 106, 255, 0.62), #db53dc)",buttonShadow:"rgba(119, 43, 120, 0.7) 6px 12px 32px 1px"},l={primaryColor:"#3149c9",primaryGradient:"linear-gradient(to right, rgba(6, 158, 94, 1), rgba(6, 158, 94, 0))",secondaryGradient:"linear-gradient(to right, rgba(6, 158, 182, 0.4), rgba(49, 73, 201, 0))",buttonGradient:"linear-gradient(to top, rgba(139, 173, 255, 0.62), #2f6dfc)",buttonShadow:"rgba(24, 54, 155, 0.7) 6px 12px 32px 1px"};var u=n("lwsE"),d=n.n(u),m=n("W8MJ"),f=n.n(m),h=n("7W2i"),g=n.n(h),y=n("a1gu"),b=n.n(y),v=n("Nsbk"),C=n.n(v),E=n("pNV7");function O(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}var k=function(e){g()(n,e);var t=O(n);function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClose,o=e.primaryColor,i=e.primaryGradient,c=e.secondaryGradient,s=e.bgImageSrc,l=e.buttonGradient,u=e.buttonShadow,d=e.url;return p.a.createElement("div",{className:"BannerTop3"},p.a.createElement("div",{style:{backgroundColor:o},className:"BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:i},className:"BannerTop3-layer"})),p.a.createElement("div",{className:"BannerTop3-content BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:c,zIndex:2},className:"BannerTop3-layer"}),p.a.createElement("div",{className:"BannerTop3-spacer--first"}),p.a.createElement("div",{className:"BannerTop3-description"},p.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},t),p.a.createElement("div",{className:"BannerTop3-subhead"},n),s&&p.a.createElement("img",{src:s})),p.a.createElement("div",{className:"BannerTop3-spacer"}),p.a.createElement("a",{href:d,target:"_blank",style:{backgroundImage:l,boxShadow:u},className:"BannerTop3-buttonCTA"},p.a.createElement("span",null,r)),p.a.createElement("div",{className:"BannerTop3-spacer--last"}),p.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:a},p.a.createElement(E.W,{name:E.h,width:13}))))}}]),n}(p.a.Component);k.__docgenInfo={description:"",methods:[],displayName:"Default",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},url:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""},primaryColor:{type:{name:"string"},required:!0,description:""},primaryGradient:{type:{name:"string"},required:!0,description:""},secondaryGradient:{type:{name:"string"},required:!0,description:""},buttonGradient:{type:{name:"string"},required:!0,description:""},buttonShadow:{type:{name:"string"},required:!0,description:""}}};var P=n("PJYZ"),S=n.n(P),N=n("lSNA"),j=n.n(N),q=n("AoHe");function w(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}var I=function(e){g()(o,e);var a=w(o);function o(){var n;d()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),j()(S()(n),"onBannerClose",function(e){var t=n.props.onClose;e.stopPropagation(),e.preventDefault(),t()}),n}return f()(o,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClick,o=e.backgroundColor,i=e.bgImageSrc,c=e.url,s=e.customClass,l=void 0===s?"masthead":s,u=this.props.styles,d=Object(q.h)(t),m={};return d&&(m.backgroundImage='url("'.concat(t,'")')),u=u?u.toJSON():{backgroundColor:o},p.a.createElement("div",{className:"BannerTop3 ".concat(l)},p.a.createElement("a",{href:c,target:"_blank",onClick:a},p.a.createElement("div",{style:u,className:"BannerTop3-content BannerTop3-layer"},p.a.createElement("div",{style:{backgroundImage:'url("'.concat(i,'")')},className:"masthead-image"}),p.a.createElement("div",{style:m,className:"BannerTop3-description"},p.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},!d&&t),p.a.createElement("div",{className:"BannerTop3-subhead"},n)),!Object(q.h)(r)&&p.a.createElement("div",{className:"BannerTop3-buttonCTA"},r),Object(q.h)(r)&&p.a.createElement("div",{className:"BannerTop3-buttonCTA-image",style:{backgroundImage:'url("'.concat(r,'")')}}),p.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:this.onBannerClose},p.a.createElement(E.W,{name:E.i,width:20})))))}}]),o}(p.a.Component);I.__docgenInfo={description:"",methods:[{name:"onBannerClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Masthead",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},url:{type:{name:"string"},required:!0,description:""},backgroundColor:{type:{name:"string"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},customClass:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""}}};var T=n("JPcv"),A=n("moYt"),D=n.n(A),R=n("/MKj"),x=n("cr+I"),M=n.n(x),F=n("WFr8"),_=n("q66R"),G=n("+qLk"),L=n("PLrP"),V=n("enaV"),U=n("GB65"),B=n("1wym");function H(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}function W(e){var t=e.ctas,n=e.ctasClosed,r=e.city,a=e.region,o=e.metroCode,i=e.countryCode,c=e.hasPaid,s=(new Date).getTime()/1e3;return t.filter(function(e){return e.get("startTime")<s&&e.get("endTime")>s&&!n.includes(e.get("localStorageName"))&&function(e,t,n,r,a){var o=e.get("targeting");if(!o||!o.size)return!0;if(!t)return!1;var i={region:r,city:n,metroCode:a};return 0<o.filter(function(n,e){return D()(e)===t&&0===["region","city","metroCode"].filter(function(t){var e=n.get(t);return e&&e.size&&!e.filter(function(e){return e===i[t]}).size}).length}).size}(e,i,r,a,o)&&!(e.get("promoted")&&c)})}n("rbYx");function z(e){return-1!==e.customClass.indexOf("masthead")?p.a.createElement(I,e):p.a.createElement(function(n){function e(e){var t="blue"===e.theme?l:s;return p.a.createElement(n,c()({},e,t))}return e.displayName="WithThemeStyle(".concat(function(e){return e.displayName||e.name||"Component"}(n),")"),e}(k),e)}z.defaultProps={customClass:""},z.__docgenInfo={description:"",methods:[],displayName:"BannerTop",props:{customClass:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}};var Y,K,J;t.a=(K=z,(J=function(e){g()(n,e);var t=H(n);function n(e){var a;return d()(this,n),a=t.call(this,e),j()(S()(a),"isSfw",function(e){if(!e.get("sfw"))return!0;var t=a.state.sfw,n=a.props.currentPostInView;return!(!t||!n)&&(!!Object(_.d)(n.get("adConfig"))||(a.setState({sfw:!1}),!1))}),j()(S()(a),"getForceCTAName",function(){var e=a.props.queryString,t=M.a.parse(e).masthead;return t?(a.setState({forceCTA:t}),t):a.state.forceCTA}),j()(S()(a),"getForceCTAs",function(){var t=a.getForceCTAName();return t?a.props.ctas.filter(function(e){return e.get("localStorageName")===t}):Object(T.List)()}),j()(S()(a),"getActiveCTA",function(){var e=a.getForceCTAs(),t=a.props,n=t.ctas,r=t.ctaClosed;if(0===e.size&&(e=n.filter(function(e){return a.isSfw(e)})),0<e.size&&!r)return e.get(Math.floor(a.random*e.size))}),j()(S()(a),"shouldHide",function(){var e=a.props,t=e.currentPostInView,n=e.userHasEmerald,r=t&&t.get("adConfig");return!(!Object(U.w)()||Object(V.e)(Object(U.w)())!==G.C)||(!(!r||Object(_.d)(r))||(!!n||t&&t.get("is_ad")))}),j()(S()(a),"handleCtaClose",function(e){return function(){(0,a.props.closeCTA)(e.get("localStorageName"),e.get("endTime"),e.get("promoted"))}}),j()(S()(a),"handleCtaClick",function(e){return function(){(0,a.props.clickedCTA)(e.get("localStorageName"),e.get("promoted"))}}),j()(S()(a),"handleImgLoad",function(e){var t=a.props.setCTASize,n=e.nativeEvent.srcElement;t(n.width,n.height)}),j()(S()(a),"onRender",function(){var e=a.props,t=e.onStatusChange,n=e.viewedCTA,r=a.getActiveCTA();t(!0),n(r.get("localStorageName"),r.get("endTime"),r.get("promoted"),r.get("oncePerSession"))}),a.state={sfw:!0,forceCTA:""},a.random=Math.random(),a}return f()(n,[{key:"isCurrentPostChanged",value:function(e){var t=this.props,n=t.currentPostInView,r=t.isMobile;return!(n||!e.currentPostInView)||!(!n||!e.currentPostInView)&&(!r&&n.get("id")!==e.currentPostInView.get("id")||(n.get("is_ad")!==e.currentPostInView.get("is_ad")||!Object(_.d)(n.get("adConfig"))!=!Object(_.d)(e.currentPostInView.get("adConfig"))))}},{key:"componentDidMount",value:function(){if(this.props.ctaClosed||this.shouldHide())return null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.ctas;return n!==e.ctaClosed||this.isCurrentPostChanged(e)||r.size!==e.ctas.size}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.onStatusChange,a=t.isMobile,o=t.closeCTASilently,i=t.currentPostInView;n!==e.ctaClosed&&r(n);var c=this.getActiveCTA();c&&(a||n||!(!i&&e.currentPostInView||i&&e.currentPostInView&&i.get("id")!==e.currentPostInView.get("id"))||o(c.get("localStorageName"),c.get("endTime"),c.get("promoted")))}},{key:"render",value:function(){if(this.props.ctaClosed||this.shouldHide())return null;var e=this.getActiveCTA();if(!e)return null;var t=e.get("backgroundImages"),n=t.get(Math.floor(Math.random()*t.size));return p.a.createElement(p.a.Fragment,null,p.a.createElement(K,{theme:e.get("theme")||"",headline:e.get("headline"),subhead:e.get("subhead"),actionButtonText:e.get("actionButtonText"),onClose:this.handleCtaClose(e),onClick:this.handleCtaClick(e),onImageLoad:this.handleImgLoad,url:e.get("url"),bgImageSrc:n,customClass:e.get("customClass"),backgroundColor:e.get("backgroundColor"),styles:e.get("styles"),handleOnMount:this.onRender}),e.get("pixels",[]).map(function(e){return p.a.createElement("img",{src:e,style:{display:"none"}})}))}}]),n}(p.a.Component)).displayName="WithCTA(".concat((Y=K).displayName||Y.name||"Component",")"),J.contextTypes={router:o.a.object},J.defaultProps={onStatusChange:function(){}},Object(R.b)(function(e){var t=e.config,n=e.agent,r=e.posts,a=e.postsData,o=e.user;return{ctas:W({ctas:t.get("ctas"),ctasClosed:t.get("ctasClosed"),city:n.get("city"),region:n.get("region"),metroCode:n.get("metroCode"),countryCode:n.get("countryCode"),hasPaid:o.get("hasPaid")||o.getIn(["subscription","isSubscribed"])}),ctaClosed:t.get("ctaClosed"),currentPostInView:r.get("posts").get(a.get("currentPostInView"))||a.get("currentPost"),isMobile:n.get(L.b),userHasEmerald:Object(B.f)(o)}},{closeCTA:F.f,closeCTASilently:F.g,setCTASize:F.i,clickedCTA:F.e,viewedCTA:F.j})(J))},"9uSn":function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("GB65"),O=n("AoHe"),k=n("xypG");n("NXH/");function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var N="center",j=function(e){u()(r,e);var n=S(r);function r(e){var t;return a()(this,r),t=n.call(this,e),g()(s()(t),"handleOnMouseEnter",function(){t.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({show:!0},t.getTooltipPlacement()))}),g()(s()(t),"handleOnMouseLeave",function(){t.setState({isLoading:!0,show:!1,yPosition:"top",xPosition:N})}),g()(s()(t),"handleMediaLoad",function(){t.state.isLoading&&t.setState({isLoading:!1},function(){t.setState(t.getTooltipPlacement())})}),t.state={show:!1,yPosition:"top",xPosition:N,isLoading:!0},t}return i()(r,[{key:"getTooltipPlacement",value:function(){var e=this.props.popupRef,t="top",n=N,r=this.tooltip.getBoundingClientRect().top,a=this.tooltiptext.getBoundingClientRect().left,o=this.tooltiptext.getBoundingClientRect().right,i=Object(E.v)(),c=Object(E.u)();if(e&&e.current){var s=e.current;r-=s.getBoundingClientRect().top,a-=s.getBoundingClientRect().left,i=s.getBoundingClientRect().right,c=s.getBoundingClientRect().height}return r<c/2&&(t="bottom"),a<0?n="right":i<o&&(n="left"),{yPosition:t,xPosition:n}}},{key:"getMediaComponentFromSrc",value:function(){var e=this.props.src;if(!e)return"";var t=Object(O.j)(this.props.src),n=C()({hide:this.state.isLoading}),r=b.a.createElement("img",{className:n,onLoad:this.handleMediaLoad,src:e});return t&&(e=this.props.src,".gifv"===t[0]&&(e=e.replace(".gifv",".mp4")),r=b.a.createElement("video",{src:e,className:n,onCanPlay:this.handleMediaLoad,muted:!0,loop:!0,autoPlay:!0})),b.a.createElement("div",null,this.state.isLoading&&b.a.createElement(k.a,{size:20}),r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,a=n.children,o=n.text,i=n.src,c=n.onClick,s=C()((e={Tooltip:!0},g()(e,"Tooltip-".concat(this.state.yPosition),!0),g()(e,"Tooltip-".concat(this.state.xPosition),!0),g()(e,"inline",this.props.inline),g()(e,"inlineBlock",!this.props.inline),g()(e,r,r),e));return b.a.createElement("div",{className:s,ref:function(e){t.tooltip=e},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,onClick:c},a,b.a.createElement("span",{className:"Tooltip-text",ref:function(e){t.tooltiptext=e}},o,this.state.show&&i&&this.getMediaComponentFromSrc()))}}]),r}(y.Component);j.defaultProps={inline:!1,onClick:function(){}},j.__docgenInfo={description:"",methods:[{name:"getTooltipPlacement",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMediaLoad",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponentFromSrc",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Tooltip",props:{inline:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},text:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},popupRef:{type:{name:"object"},required:!1,description:""}}}},A8WO:function(e,t,n){},B0tv:function(e,t,n){},"BFB+":function(e,t,n){},BeWG:function(e,t,n){e.exports=n.p+"desktop-assets/twitter_share.5aa6c8c9669a31f6a684cb6fb6998597.svg"},CG6i:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("F8bk"),O=n("oHla"),k=n("GB65"),P=n("gmqy");function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var N=function(e){u()(r,e);var n=S(r);function r(e){var d;a()(this,r),d=n.call(this,e),g()(s()(d),"element",null),g()(s()(d),"placeholderElement",null),g()(s()(d),"onContextMenu",function(){var e=d.props.originalSrc;d.setState({originalLink:e})}),g()(s()(d),"onClick",function(e){var t=d.props,n=t.zoom,r=t.originalSrc;"IMG"===e.target.tagName&&d.isZoomable()&&n&&n({show:!0,src:r})}),g()(s()(d),"onThumbnailError",function(e){var t=d.props,n=t.onError,r=t.originalSrc;if(d.state.thumbnailLink!==r)return d.setState({thumbnailLink:r});n(e)}),g()(s()(d),"renderThumbnail",function(){var e=d.props,t=e.onLoad,n=e.width,r=e.height,a=e.maxHeight,o=e.hash,i=e.title,c=e.index,s=e.poweredBy,l=e.postTitle,u=d.state.thumbnailLink;return b.a.createElement("div",{className:"imageContainer"},b.a.createElement(E.a,{hash:o,title:i,indexForComment:c}),b.a.createElement("img",{ref:function(e){d.element=e},src:u,width:n,height:r,style:{maxHeight:a},onLoad:t,onError:d.onThumbnailError,loading:"lazy",alt:l}),s&&b.a.createElement("div",{className:"poweredBy"},s))}),g()(s()(d),"renderWithOriginalImage",function(){var e=d.state.originalLink,t=d.props.postTitle,n=C()({imageContainer:!0,zoomable:d.isZoomable()});return b.a.createElement("div",{className:n,onContextMenu:d.onContextMenu,onClick:d.onClick},b.a.createElement("img",{ref:function(e){d.placeholderElement=e},className:"image-placeholder",src:e,alt:t}),d.renderThumbnail())}),g()(s()(d),"isZoomable",function(){var e=d.props,t=e.height,n=e.maxHeight;return n&&n<t});var t=Object(O.b)(Object(k.R)())?e.originalSrc:e.thumbSrc;return d.state={originalLink:t,thumbnailLink:t},d}return i()(r,[{key:"componentWillUnmount",value:function(){this.element&&this.element.removeAttribute("src"),this.placeholderElement&&this.placeholderElement.removeAttribute("src")}},{key:"render",value:function(){return this.props.withOriginalImage?this.renderWithOriginalImage():this.renderThumbnail()}}]),r}(b.a.Component);N.__docgenInfo={description:"",methods:[{name:"onContextMenu",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onThumbnailError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"renderThumbnail",docblock:null,modifiers:[],params:[],returns:null},{name:"renderWithOriginalImage",docblock:null,modifiers:[],params:[],returns:null},{name:"isZoomable",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostImageComponent",props:{hash:{type:{name:"string"},required:!1,description:""},thumbSrc:{type:{name:"string"},required:!1,description:""},originalSrc:{type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},withOriginalImage:{type:{name:"bool"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},poweredBy:{type:{name:"string"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""}}},t.b=Object(P.a)(N)},CVa3:function(e,t,n){},CZoQ:function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},Cz84:function(e,t,n){},D0BC:function(e,t,n){var o=n("vlbB"),i=n("mv/X"),c=n("ZCgT"),s=parseFloat,l=Math.min,u=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=c(e),void 0===t?(t=e,e=0):t=c(t)),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var a=u();return l(e+a*(t-e+s("1e-"+((a+"").length-1))),t)}return o(e,t)}},D4vR:function(e,t,n){},DT9I:function(e,t,n){e.exports=n.p+"desktop-assets/s3.8d7432b17023313078fbeb8fa946386d.svg"},DfB6:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("G5ih")),C=n("/MKj"),E=n("BWa0"),O=n("uwpD"),k=n("dRit"),P=n("GB65"),S=n("QIN0"),N=n("pVnL"),j=n.n(N),q=n("QILm"),w=n.n(q);function I(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var T=function(e){u()(n,e);var t=I(n);function n(e){var r;return i()(this,n),r=t.call(this,e),g()(s()(r),"getContainer",function(e){r.container=e}),g()(s()(r),"handle",function(e){if("touchend"===e.type&&(r.isTouch=!0),"click"!==e.type||!r.isTouch){var t=r.props.onClickOutside,n=r.container;n&&!n.contains(e.target)&&t(e)}}),r.isTouch=!1,r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,w()(e,["children","onClickOutside"]));return b.a.createElement("div",j()({},n,{ref:this.getContainer}),t)}},{key:"componentDidMount",value:function(){Object(P.a)("touchend",this.handle,!0),Object(P.a)("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){Object(P.jb)("touchend",this.handle,!0),Object(P.jb)("click",this.handle,!0)}}]),n}(y.Component);T.__docgenInfo={description:"",methods:[{name:"getContainer",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"handle",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ClickOutside",props:{onClickOutside:{type:{name:"func"},required:!0,description:""},children:{type:{name:"node"},required:!1,description:""}}};var A=n("TSYQ"),D=n.n(A),R=n("JPcv"),x=n("sEfC"),M=n.n(x),F=n("E9Wd");function _(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var G=function(e){u()(a,e);var r=_(a);function a(){var c;i()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t)),g()(s()(c),"onSelect",function(e){(0,c.props.onCategorySelection)(e)}),g()(s()(c),"renderReactionGifCategories",function(e,t){var n=c.props.getColorByPostIndex,r=e.preview,a={backgroundImage:"linear-gradient(".concat(n(t),", #2e3035)")},o=e.shortname,i="gifpicker-collectionBackground".concat(e.is_promoted?" promotedCollection":"");return b.a.createElement("div",{key:"".concat(t).concat(r).concat(o),className:"gifpicker-collection",onClick:function(){c.onSelect(o),c.resetCollection()}},b.a.createElement("video",{style:a,className:i,autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:"".concat(F.W,"/").concat(r,"_lq.mp4")})),b.a.createElement("div",null,b.a.createElement("h2",{className:"gifpicker-collectionName"},e.name,e.is_promoted&&e.subtitle&&b.a.createElement("span",{className:"gifpicker-collectionSubtitle"},e.subtitle))))}),c}return o()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections;t(),n()}},{key:"resetCollection",value:function(){this.props.reactionGifCollections}},{key:"render",value:function(){var e=this.props.reactionGifCollections;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-body Scrollbar--gray"},e.map(this.renderReactionGifCategories))))}}]),a}(b.a.Component);G.__docgenInfo={description:"",methods:[{name:"onSelect",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"renderReactionGifCategories",docblock:null,modifiers:[],params:[{name:"reactionGifObject",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCategories",props:{fetchReactionCollections:{type:{name:"func"},required:!0,description:""},reactionGifCollections:{type:{name:"object"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},renderReactionGifCategories:{type:{name:"func"},required:!1,description:""},reactionGifObject:{type:{name:"object"},required:!1,description:""},position:{type:{name:"string"},required:!1,description:""},resetCollection:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!0,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""}}};var L=Object(C.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections")}},{fetchReactionCollections:O.e,resetReactionGifSearchCollections:O.h})(G),V=n("DzJC"),U=n.n(V),B=n("Uz4u"),H=n.n(B);function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Y(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var K=function(e){u()(n,e);var t=Y(n);function n(e){var p;return i()(this,n),p=t.call(this,e),g()(s()(p),"showCategoryCollection",function(){var e=p.props,t=e.fetchReactionGifSearchFull,n=e.currentlyShowing,r=e.reactionGifSearchFullpageNum;!0===p.state.isFullyLoaded&&null!=n?(p.setState({showingCategory:!1}),t(n,r)):p.setState({showingCategory:!0})}),g()(s()(p),"handleScrollCollection",function(){var e=p.state.showingCategory,t=p.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=t.reactionGifSearchFullpageNum;if(""!==n&&!1===e){var o=p.GifPickerBodyCollection.current,i=o.scrollTop,c=o.scrollHeight,s=c-i;p.setState({scrollDistance:i}),s<1e3&&1e3<=c&&!1===r&&p.showCategoryCollection(n,a)}}),g()(s()(p),"selectGif",function(e){(0,p.props.handleGifSelection)(e)}),g()(s()(p),"renderSelectableGifs",function(e,t){var n=p.state.scrollDistance,r=p.props,a=r.reactionGifSearchFullpageNum,o=r.getColorByPostIndex,i=e.id,c=e.height,s=e.runningGifHeight,l={height:"".concat(c,"px")},u={backgroundImage:"linear-gradient(".concat(o(t),", #2e3035)"),height:"".concat(c,"px")},d="".concat(F.W,"/").concat(i,"_lq.mp4"),m="".concat(F.W,"/").concat(i,".gif");return(n<450?0:n-450)<=s&&s<n+343+450?b.a.createElement("div",{key:"".concat(t+i+a+!0),className:"gifpicker-image",style:l,onClick:function(){p.selectGif(m)}},b.a.createElement("video",{style:u,className:"gifpicker-collectionBackground",autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:d}))):b.a.createElement("div",{key:"".concat(t+i+a+!1," "),className:"gifpicker-image",style:l},b.a.createElement("video",{style:u,className:"gifpicker-collectionBackground",preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4"})))}),g()(s()(p),"resetCollection",function(){var e=p.props,t=e.handleReset,n=e.resetReactionGifSearchCollections;t(),n(),p.setState({column1:[],column2:[],column1Height:0,column2Height:0})}),p.handleScrollCollection=U()(p.handleScrollCollection.bind(s()(p)),35),p.GifPickerBodyCollection=b.a.createRef(),p.state={showingCategory:!1,scrollDistance:0,isFullyLoaded:!0,column1:[],column2:[],column1Height:0,column2Height:0},p}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchReactionGifSearchFull)(e.currentlyShowing,e.reactionGifSearchFullpageNum)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.gifsFromCategory,r=t.currentlyShowing,a=t.reactionGifSearchFullpageNum,o=t.fetchReactionGifSearchFull,i=this.state,c=i.column1Height,s=i.column2Height,l=this.state,u=l.column1,d=l.column2;if(n.size!==e.gifsFromCategory.size){for(var m=u.slice(0),p=d.slice(0),f=m.length+p.length!==0?m.length+p.length:0;f<n.size;f++){var h=z({},n.get(f)),g=141.5/h.width;h.height*=g,c<=s?(h.runningGifHeight=c+h.height+7,c=h.runningGifHeight,m.push(h)):(h.runningGifHeight=s+h.height+7,s=h.runningGifHeight,p.push(h))}this.setState({column1:m,column2:p,column1Height:c,column2Height:s})}r!==e.currentlyShowing&&(this.setState({column1:[],column2:[],column1Height:0,column2Height:0}),o(r,a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=this.state,o=a.column1,i=a.column2;return o.length||i.length||r?b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-collectionHeader"},b.a.createElement("div",{className:"gifpicker-backButton",onClick:function(){e.resetCollection()},"aria-label":"Go back to categories"},b.a.createElement(E.eb,{className:"icon fill",name:E.c,width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"})),b.a.createElement("h1",{className:"gifpicker-collectionHeaderText"},n)),b.a.createElement("div",{className:"gifpicker-body gifpicker-body-collection Scrollbar--gray",ref:this.GifPickerBodyCollection,onScroll:this.handleScrollCollection},b.a.createElement("div",null,o.map(this.renderSelectableGifs)),b.a.createElement("div",null,i.map(this.renderSelectableGifs)))):b.a.createElement("div",{className:"gifpicker-error"},b.a.createElement("div",{className:"gifpicker-error-image"},b.a.createElement("img",{src:H.a})),b.a.createElement("div",{className:"gifpicker-error-message"},b.a.createElement("h2",null,Object(v.b)("reactionGifEmptySearch1")),b.a.createElement("br",null),b.a.createElement("h3",null,Object(v.b)("reactionGifEmptySearch2"))))}}]),n}(b.a.Component);K.__docgenInfo={description:"",methods:[{name:"showCategoryCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"handleScrollCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"selectGif",docblock:null,modifiers:[],params:[{name:"videoShareURL",type:null}],returns:null},{name:"renderSelectableGifs",docblock:null,modifiers:[],params:[{name:"column",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCollections",props:{handleReset:{type:{name:"func"},required:!0,description:""},handleGifSelection:{type:{name:"func"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},fetchReactionGifSearchFull:{type:{name:"func"},required:!0,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},reactionGifSearchFull:{type:{name:"object"},required:!1,description:""},reactionGifRequestPending:{type:{name:"bool"},required:!1,description:""},reactionGifSearchFullpageNum:{type:{name:"number"},required:!1,description:""},gifsFromCategory:{type:{name:"object"},required:!0,description:""}}};var J=Object(C.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections"),reactionGifRequestPending:e.comments.get("reactionGifRequestPending"),reactionGifSearchFullpageNum:e.comments.get("reactionGifSearchFullpageNum"),gifsFromCategory:e.comments.get("gifsFromCategory")}},{fetchReactionGifSearchFull:O.f,resetReactionGifSearchCollections:O.h})(K);n("/b2Y");function X(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Q=function(e){u()(n,e);var t=X(n);function n(e){var o;return i()(this,n),o=t.call(this,e),g()(s()(o),"preventPost",function(e){e.stopPropagation(),e.preventDefault()}),g()(s()(o),"submitHandler",function(){o.debounceSubmitHandler.cancel();var e=o.props,t=e.resetReactionGifSearchCollections,n=e.searchString;t(),o.setState({currentlyShowing:n})}),g()(s()(o),"inputChangeHandler",function(e){(0,o.props.setReactionGifSearchString)(e.target.value),o.preventPost(e),o.debounceSubmitHandler()}),g()(s()(o),"onCategorySelection",function(e){o.setState({currentlyShowing:e})}),g()(s()(o),"handleReset",function(){var e=o.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections,r=e.setReactionGifSearchString,a=o.state.currentlyShowing;n(),t(),a&&(o.setState({currentlyShowing:""}),r(""))}),g()(s()(o),"handleGifSelection",function(e){(0,o.props.selectGIF)(e,o.state.currentlyShowing)}),g()(s()(o),"handleKeyDown",function(e){[k.b].includes(e.key)&&(o.preventPost(e),o.submitHandler())}),o.debounceSubmitHandler=M()(o.submitHandler,1e3),o.state={currentlyShowing:""},o}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.searchString;t(),""!==n&&this.submitHandler()}},{key:"componentWillUnmount",value:function(){(0,this.props.setReactionGifSearchString)("")}},{key:"getColorByPostIndex",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,n=["#ffdd00","#1bb76e","#227efa","#4a58fb","#6432f9","#ec4081","#4366d0","#7b85f7","#fc6369","#f14768","#ff51ba","#2ccaff","#43d0bd","#20bee8","#ffd300","#ff7d00"];return isNaN(t)&&(t=0),n[t%n.length]}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.position,o=r.placeholder,i=r.searchString,c=r.isPromoted,s=r.promotedConfig,l=this.state.currentlyShowing,u=D()(["gifpicker",{"gifpicker--down":"bottom"===a,"gifpicker--promoted":c}]),d="gifpicker-nano".concat(l&&"-collection");if(c){var m="#".concat(s.get("header_text_color","ffffff"));e={"--gifpicker-triangle-color":"#".concat(s.get("header_gradiant_top","353aab"))},t={background:"linear-gradient(to bottom, #".concat(s.get("header_gradiant_top","474a51"),", #").concat(s.get("header_gradiant_bottom","1f2b59"),")"),color:m,fill:m}}return b.a.createElement("div",{className:u,style:e},b.a.createElement("div",{className:"gifpicker-header",style:t},b.a.createElement("div",{className:"gifpicker-header-content"},c?b.a.createElement(b.a.Fragment,null,b.a.createElement("p",{className:"gifpicker-header-content-title"},s.get("header_title")),b.a.createElement("p",{className:"gifpicker-header-content-subtitle"},s.get("header_subtitle"))):b.a.createElement("p",{className:"gifpicker-header-content-title"},Object(v.b)("reactionGIF")),b.a.createElement("div",{className:"gifpicker-searchbar"},b.a.createElement("input",{placeholder:o,className:"gifpicker-searchbar-textInput",type:"text",value:i,onChange:this.inputChangeHandler,onSubmit:this.submitHandler,onKeyDown:this.handleKeyDown}),b.a.createElement("div",{className:"ReactionGIFSearch-Icon"},b.a.createElement(E.eb,{name:E.z,width:"21",height:"20",viewBox:"0 0 21 20",onClick:function(e){n.preventPost(e),n.submitHandler()}})))),c&&b.a.createElement("img",{className:"gifpicker-header-asset",src:"//i.imgur.com/".concat(s.get("header_image"),".png")})),l?b.a.createElement(J,{currentlyShowing:l,getColorByPostIndex:this.getColorByPostIndex,handleReset:this.handleReset,handleGifSelection:this.handleGifSelection}):b.a.createElement(L,{onCategorySelection:this.onCategorySelection,getColorByPostIndex:this.getColorByPostIndex}),b.a.createElement("div",{className:d}))}}]),n}(b.a.Component);Q.defaultProps={placeholder:Object(v.b)("reactionGifSearchPlaceholder")};Q.__docgenInfo={description:"",methods:[{name:"getColorByPostIndex",docblock:null,modifiers:[],params:[{name:"itemIndex",type:null}],returns:null},{name:"preventPost",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCategorySelection",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"handleReset",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGifSelection",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ReactionGIF",props:{placeholder:{defaultValue:{value:"copy('reactionGifSearchPlaceholder')",computed:!0},type:{name:"string"},required:!1,description:""},fetchReactionCollections:{type:{name:"func"},required:!0,description:""},position:{type:{name:"string"},required:!1,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},searchString:{type:{name:"string"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!1,description:""},selectGIF:{type:{name:"func"},required:!0,description:""},setReactionGifSearchString:{type:{name:"func"},required:!0,description:""},promotedConfig:{type:{name:"object"},required:!1,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""}}};var Z=Object(C.b)(function(e){var t=e.comments,n=e.config;return{reactionGifCollections:t.get("reactionGifCollections"),promotedConfig:n.get("sponsoredReactionGifsDefinition",new R.Map),isPromoted:!!n.getIn(["sponsoredReactionGifsDefinition","is_active"]),searchString:t.get("reactionGifSearchString")}},{fetchReactionCollections:O.e,resetReactionGifSearchCollections:O.h,setReactionGifSearchString:O.i})(Q);n("Cz84");function $(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ee=function(e){u()(n,e);var t=$(n);function n(e){var l;return i()(this,n),l=t.call(this,e),g()(s()(l),"handleKeyDown",function(e){var t=l.props.setReactionGifPopupVisibility;[k.e,k.d].includes(e.key)&&t(!1)}),g()(s()(l),"gifToggle",function(){var e=l.ReactionGIF.current.getBoundingClientRect().top,t=l.state.gifSaved,n=l.props,r=n.reactionGifSelectedAnalytics,a=n.isPromoted,o=n.disabled,i=n.setReactionGifPopupVisibility,c=n.isGIFOpen;if(!o){var s=!0;if(e<500&&(s=!1),c||l.setState({gifSaved:!1}),c&&!t){r(null,"Cancelled",a)}l.setState({gifOpenUp:s}),i(!c)}}),g()(s()(l),"onSelect",function(e,t){var n=l.props,r=n.onSelect,a=n.reactionGifSelectedAnalytics,o=n.isPromoted,i=n.setReactionGifPopupVisibility;l.setState({gifSaved:!0}),i(!1);a(t,"Saved",o,Object(S.b)(e)),r(e)}),l.ReactionGIF=b.a.createRef(),l.state={gifOpenUp:!0,gifSaved:!1},l}return o()(n,[{key:"componentDidMount",value:function(){Object(P.c)("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){Object(P.mb)("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.state.gifOpenUp,t=this.props,n=t.isGIFOpen,r=t.className,a=t.disabled,o=t.title;return b.a.createElement("div",{className:r,ref:this.ReactionGIF,disabled:a},b.a.createElement(E.eb,{className:"icon fill",name:E.b,id:"GIFButton",onClick:this.gifToggle,"aria-label":o,title:o,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),n?b.a.createElement(T,{onClickOutside:this.gifToggle},b.a.createElement(Z,{position:e?"top":"bottom",selectGIF:this.onSelect})):"")}}]),n}(b.a.PureComponent);ee.defaultProps={className:"ReactionGIF",title:Object(v.b)("gifOnHover")},ee.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"gifToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null},{name:"category",type:null}],returns:null}],displayName:"ReactionGIFButton",props:{className:{defaultValue:{value:"'ReactionGIF'",computed:!1},type:{name:"string"},required:!1,description:""},title:{defaultValue:{value:"copy('gifOnHover')",computed:!0},type:{name:"string"},required:!1,description:""},onSelect:{type:{name:"func"},required:!0,description:""},reactionGifSelectedAnalytics:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},isGIFOpen:{type:{name:"bool"},required:!1,description:""},setReactionGifPopupVisibility:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.b)(function(e){return{isPromoted:!!e.config.getIn(["sponsoredReactionGifsDefinition","is_active"])}},{reactionGifSelectedAnalytics:O.g})(ee)},Dk6w:function(e,t,n){},DzJC:function(e,t,n){var o=n("sEfC"),i=n("GoyQ");e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),o(e,t,{leading:r,maxWait:t,trailing:a})}},"Ek/P":function(e,t,n){},F8bk:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=n("P5Jw"),C=n("/MKj"),E=(n("17x9"),n("fdoY")),O=n("/PhX"),k=n("O39/"),P=n("9rNq"),S=n("E9Wd"),N=n("G5ih"),j=n("BWa0"),q=n("GB65");n("co09");function w(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var I=function(e){u()(o,e);var r=w(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),g()(s()(a),"link",function(){var e=a.props,t=e.copyLinkAction,n=e.title,r=e.hash;t("".concat(S.V,"/").concat(r),n,r,[],k.l)}),g()(s()(a),"download",function(){var e=a.props,t=e.hash,n=e.title;Object(q.db)("".concat(S.V,"/download/").concat(t,"/").concat(encodeURIComponent(n)||""))}),g()(s()(a),"comment",function(){var o=a.props.indexForComment;document.getElementsByClassName("Comment-create-textarea").forEach(function(e,t){var n=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set,r="";""!==e.value&&(r=" "),n.call(e,e.value+"".concat(r,"#").concat(o+1));var a=new Event("input",{bubbles:!0});e.dispatchEvent(a),0===t&&e.scrollIntoView({behavior:"smooth",block:"center"})})}),a}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.hash,n=e.isLoggedIn,r=e.indexForComment,a=e.commentsDisabled;return b.a.createElement(P.a,{className:"Dropdown--btn Dropdown--media",dropdownIcon:b.a.createElement(j.eb,{name:j.k,width:"32",height:"32"})},b.a.createElement(v.CopyToClipboard,{text:"".concat(S.V,"/").concat(t),onCopy:this.link},b.a.createElement("button",{type:"button"},b.a.createElement(j.eb,{className:"icon stroke",name:j.r,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(N.b)("copyLink")))),b.a.createElement("button",{type:"button",onClick:this.download},b.a.createElement(j.eb,{className:"icon stroke",name:j.h,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(N.b)("download"))),n&&Number.isInteger(r)&&!a&&b.a.createElement(b.a.Fragment,null,b.a.createElement("button",{type:"button",onClick:this.comment},b.a.createElement(j.eb,{className:"icon stroke",name:j.f,width:"32",height:"32",title:Object(N.b)("mediaMenuComment"),fillColor:null}),b.a.createElement("span",{className:"label"},Object(N.b)("mediaMenuComment")))))}}]),o}(b.a.Component),T={copyLinkAction:E.Y,openDialogAction:O.I};I.__docgenInfo={description:"",methods:[{name:"link",docblock:null,modifiers:[],params:[],returns:null},{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"comment",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostMediaDropdown",props:{copyLinkAction:{type:{name:"func"},required:!0,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},indexForComment:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},commentsDisabled:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(C.b)(function(e){var t=e.user,n=e.postsData;return{isLoggedIn:t.get("isLoggedIn"),commentsDisabled:n.getIn(["currentPost","commentsDisabled"])}},T)(I)},FtJD:function(e,t,n){e.exports=n.p+"desktop-assets/reddit_share.bac72f151cd0b4d1e59d7e34f6da8065.svg"},FuWu:function(e,t,n){},FwDa:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),O=n("A1Ak"),k=n("G5ih"),P=n("ErBw"),S=n("GB65"),N=n("/iGR"),j=n("q66R"),q=n("55Ip"),w=n("7oyi"),I=n("wAdX"),T=n("pNV7"),A=n("/wi3");n("DBuX");function D(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var R=function(e){u()(o,e);var r=D(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),g()(s()(a),"handleCloseWithAnalytics",function(e){var t=a.props,n=t.whitelistedClosedAction,r=t.closeAdblockDialogAction;n(e,"Popup"),r()}),g()(s()(a),"handleClose",function(){a.handleCloseWithAnalytics("No Thanks")}),g()(s()(a),"onWhitelisted",function(){a.handleCloseWithAnalytics("Whitelisted"),Object(S.ib)()}),a}return c()(o,[{key:"render",value:function(){return b.a.createElement(I.a,{className:"AdblockDialog",name:P.b,onClose:this.handleClose,isModal:!1},b.a.createElement("div",{className:"AdblockDialog-content"},b.a.createElement(T.W,{name:T.G,className:"Footer-whitelist-baby",width:140}),b.a.createElement("h2",null,Object(k.b)("WhitelistDialogTitle")),Object(k.b)("WhitelistDialogDescription")),b.a.createElement("div",{className:"AdblockDialog-footer"},b.a.createElement(q.a,{to:"/emerald?source=adBlockRecoverUpload"},Object(k.b)("popOverSupportImgur")),b.a.createElement(w.a,{className:"AdblockDialog-footer-whitelisted",onClick:this.onWhitelisted,label:Object(k.b)("WhitelistDialogWhitelisted")})),b.a.createElement(A.b,{onClick:this.handleClose}))}}]),o}(b.a.Component);R.__docgenInfo={description:"",methods:[{name:"handleCloseWithAnalytics",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdblockDialog2",props:{whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},closeAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};var x=Object(v.b)(null,{whitelistedClosedAction:P.O,closeAdblockDialogAction:P.w})(R),M=n("9rNq");n("1p8+");function F(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var _=function(e){u()(r,e);var n=F(r);function r(e){var t;return i()(this,r),t=n.call(this,e),g()(s()(t),"_container",null),t.updateFooterItems=E()(t.updateFooterItems.bind(s()(t)),250),t.state={childrenDisplay:[],childrenRest:[],footerItems:O.f.map(function(e){return{title:Object(k.b)("".concat(e,"Footer")),href:O.a[e].href}})},t}return c()(r,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.width,a=n.showWhitelistDialog,o=n.closedWhitelistDialog,i=n.whitelistedDisplayedAction,c=n.openAdblockDialogAction,s=this.state.footerItems;e.width===r&&t.footerItems.length===s.length||this.updateFooterItems(r),e.showWhitelistDialog||e.closedWhitelistDialog||!a||o||(i(),c())}},{key:"componentDidMount",value:function(){var e=this.props.width;this.updateFooterItems(e)}},{key:"updateFooterItems",value:function(e){var t=this.state.footerItems,n=function(e,o,t){var n=Array.from(e).map(function(e,t){var n=e.getBoundingClientRect(),r=n.left,a=n.width;return!t||r+a<o-275});return{childrenRest:t.filter(function(e,t){return!n[t]}),childrenDisplay:t.filter(function(e,t){return n[t]})}}(this.measure.children,e,t),r=n.childrenRest,a=n.childrenDisplay,o=this.state.childrenRest;this.footerUpdated=r.length!==o.length||a.length!==o.length,this.setState({childrenRest:r,childrenDisplay:a})}},{key:"renderDropdown",value:function(){var e=this.state.childrenRest,t=void 0===e?[]:e;return t.length?b.a.createElement(M.d,{className:"center",placeholder:" ",dropdownIcon:b.a.createElement("img",{src:T.a[T.u],className:"Dropdown-icon icon-points"})},t.map(function(e,t){return b.a.createElement("div",{key:"footer-dropdown-".concat(t),className:"Dropdown-option"},e.href?b.a.createElement("a",{href:e.href},e.title):b.a.createElement("div",{className:"Footer-optionText"},e.title))})):null}},{key:"render",value:function(){var t=this,e=this.state,n=e.childrenDisplay,r=void 0===n?[]:n,a=e.footerItems,o=this.props,i=o.isFooterVisible,c=o.showWhitelistDialog,s=o.closedWhitelistDialog;return b.a.createElement("div",{className:"Footer-wrapper".concat(i?"":" down")},c&&!s&&b.a.createElement(x,null),b.a.createElement("div",{className:"Footer"},b.a.createElement("ul",{ref:function(e){t.menu=e},className:"Footer-navbar"},r.map(function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)})),this.renderDropdown(),b.a.createElement("div",{ref:function(e){t.appBtn=e},className:"Footer-app"},b.a.createElement("a",{href:"".concat(O.a[O.b].href)},Object(k.b)("getAppFooter")))),b.a.createElement("div",{className:"Footer Footer-measure"},b.a.createElement("ul",{ref:function(e){t.measure=e},className:"Footer-navbar Footer-navbar-dimensions"},a.map(function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)}))))}}]),r}(b.a.Component);_.defaultProps={width:0},_.__docgenInfo={description:"",methods:[{name:"updateFooterItems",docblock:null,modifiers:[],params:[{name:"width",type:null}],returns:null},{name:"renderDropdown",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Footer",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFooterVisible:{type:{name:"bool"},required:!1,description:""},closedWhitelistDialog:{type:{name:"bool"},required:!0,description:""},showWhitelistDialog:{type:{name:"bool"},required:!1,description:""},whitelistedDisplayedAction:{type:{name:"func"},required:!0,description:""},openAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};t.a=Object(v.b)(function(e){var t=e.ui,n=e.display,r=e.user,a=e.postsData;return{isFooterVisible:t.footer.get("isFooterVisible"),closedWhitelistDialog:t.footer.get("closedWhitelistDialog"),width:n.getIn(["viewPort","width"]),showWhitelistDialog:Object(S.X)()&&!Object(N.b)(P.q)&&r.get("isLoaded")&&!r.get("hasPaid")&&(!r.get("isLoggedIn")||r.get("isLoggedIn")&&!r.getIn(["subscription","isSubscribed"]))&&Object(j.d)(a.getIn(["currentPost","adConfig"]))}},{whitelistedDisplayedAction:P.P,openAdblockDialogAction:P.B})(_)},"G6+a":function(e,t,n){},GGeJ:function(e,t,n){},HCTt:function(e,t,n){},HWIq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),c=n.n(r),a=(n("17x9"),n("TSYQ")),s=n.n(a),i=n("Nm7g"),l=n("y/zE");function u(e){var t=e.count,n=e.username;if(!t&&!n)return null;var r=s()({"Accolade-userAvatar":!0,"Accolade-userAvatar--withCount":0<t}),a=s()({"Accolade-accoladeCountValue":!0,"Accolade-accoladeCountValue--plus":!!n}),o=s()({"Accolade-accoladeGiven":!0,"Accolade-accoladeGiven--avatar":!!n});return c.a.createElement("div",{className:o},n&&c.a.createElement(l.a,{className:r,username:n,displayUsername:n}),0<t&&c.a.createElement("div",{className:"Accolade-accoladeCount"},c.a.createElement("div",{className:a},n&&"+ ",Object(i.j)(t))))}u.__docgenInfo={description:"",methods:[],displayName:"AccoladeHead",props:{count:{type:{name:"number"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""}}};n("Ek/P");function o(e){var t=e.count,n=e.username,r=e.background,a=e.imageUrl,o=e.imageName,i=s()({Accolade:!0,"Accolade-background":r});return c.a.createElement("div",{className:i},c.a.createElement(u,{count:t,username:n}),c.a.createElement("img",{className:"Accolade-accoladeImage",src:a,alt:"".concat(o)}),o&&c.a.createElement("div",{className:"Accolade-accoladeName"},o))}o.defaultProps={count:0,background:!1},o.__docgenInfo={description:"",methods:[],displayName:"Accolade",props:{count:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},background:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},imageUrl:{type:{name:"string"},required:!1,description:""},imageName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}}},HhWI:function(e,t,n){},IVpR:function(e,t,n){},IgJu:function(e,t,n){},JBc3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lSNA"),s=n.n(r),a=n("q1tI"),l=n.n(a),o=(n("17x9"),n("TSYQ")),u=n.n(o),d=n("AG5K"),m=n("E9Wd"),p=n("GB65"),f=n("BWa0");n("Ltx0");function i(e){var t=e.customClasses,n=e.isUserLoggedIn,r=e.showTitle,a=e.showSmallVersion,o=e.onClick,i=u()(s()({GiveEmeraldButton:!0,"GiveEmeraldButton-title":r,"GiveEmeraldButton-small":a},t,t)),c=Object(d.a)("giveEmerald");return l.a.createElement("a",{className:i,title:c,href:"".concat(m.M,"?redirect=").concat(encodeURIComponent(Object(p.w)())),onClick:function(e){n&&(e.preventDefault(),e.stopPropagation(),o())}},l.a.createElement(f.eb,{name:f.Y,width:"14",height:"14",viewBox:"0 0 20 20"}),r&&l.a.createElement("span",null,c))}i.defaultProps={showTitle:!1,showSmallVersion:!1,onClick:function(){},customClasses:""},i.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButton",props:{showTitle:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showSmallVersion:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},customClasses:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""}}}},JHKR:function(e,t,n){},KMpf:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});n("Dhp7"),n("fPgW");function r(e,t){return e-t}function a(e){return e.set("points",r(e.get("ups"),e.get("downs")))}function o(e){var t=e.get("post");return t?e.setIn(["posts","point_count"],r(t.get("upvote_count"),t.get("downvote_count"))):e}},KhJ6:function(e,t,n){"use strict";function r(e,t,n,r){if(n.location.pathname.startsWith("/account/favorites/"))return e.get("username");var a,o=r.params,i=o.username?o.username.toLowerCase():null;return(a=i?t.getIn(["accounts",i]):t.get("accounts").first())?a.get("username"):i}n.d(t,"a",function(){return r})},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},LGYb:function(e,t,n){var p=n("1hJj"),f=n("jbM+"),h=n("Xt/L"),g=n("xYSL"),y=n("dQpi"),b=n("rEGp");e.exports=function(e,t,n){var r=-1,a=f,o=e.length,i=!0,c=[],s=c;if(n)i=!1,a=h;else if(200<=o){var l=t?null:y(e);if(l)return b(l);i=!1,a=g,s=new p}else s=t?[]:c;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,i&&d==d){for(var m=s.length;m--;)if(s[m]===d)continue e;t&&s.push(d),c.push(u)}else a(s,d,n)||(s!==c&&s.push(d),c.push(u))}return c}},LUYa:function(e,t,n){e.exports=n.p+"desktop-assets/email_share.9c743f926cc5404880a0ca14688286a8.svg"},LbAz:function(e,t,n){},Ltx0:function(e,t,n){},"Lz/x":function(e,t,n){},ME7n:function(e,t,n){e.exports=n.p+"desktop-assets/facebook_share.420eb32611acbe98ec65f20774888f4e.svg"},MZXA:function(e,t,n){},"NXH/":function(e,t,n){},"O+9w":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r),c=(n("17x9"),n("E9Wd"));function a(e){var t=e.isPromoted,n=e.isUserLoaded,r=e.itemUsername,a=e.currentUsername,o=e.children;return e.isEnabled&&!t&&n&&r&&a!==r&&!c.E.includes(r)?i.a.createElement("div",null,o):null}a.defaultProps={isEnabled:!0,isUserLoaded:!1,isPromoted:!1},a.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButtonSwitch",props:{isEnabled:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},isUserLoaded:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},itemUsername:{type:{name:"string"},required:!0,description:""},children:{type:{name:"object"},required:!0,description:""}}}},OQdq:function(e,t,n){},Oggj:function(e,t,n){e.exports=n.p+"desktop-assets/pinterest_share.f588cf418afb580945f9716831475648.svg"},Ojet:function(e,t,n){},"Pom+":function(e,t,n){"use strict";n.d(t,"b",function(){return Ya}),n.d(t,"a",function(){return Ka});var r=n("pVnL"),p=n.n(r),a=n("lwsE"),l=n.n(a),o=n("W8MJ"),u=n.n(o),i=n("PJYZ"),f=n.n(i),c=n("7W2i"),d=n.n(c),s=n("a1gu"),m=n.n(s),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),P=n.n(y),S=n("q1tI"),N=n.n(S),b=n("17x9"),v=n.n(b),C=n("Ty5D"),E=n("mwIZ"),O=n.n(E),j=n("GB65"),k=n("dRit"),q=n("+VfX"),w=n("4TFA"),I=n("/0Wm"),T=n("/MKj"),A=n("sWSo"),D=n("N9yH"),R=n("RmMW"),x=n("Bw9V"),M=n("9Jdl"),F=n("+qLk"),_=n("G5ih"),G=n("/PhX"),L=n("q66R");n("2p6Y");function V(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var U=function(e){d()(o,e);var a=V(o);function o(){var t;l()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),P()(f()(t),"toggleVisibility",function(){var e=t.props;(0,e.setBottomRecircVisibilityAction)(!e.isBottomRecircVisible)}),t}return u()(o,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setPosts)(e.posts)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.adsEnabled,r=t.adConfig,a=t.setPosts,o=t.posts;e.adsEnabled===n&&e.adConfig===r||a(o)}},{key:"render",value:function(){var e=this.props,t=e.isBottomRecircVisible,n=e.title,r=e.getRecirc,a=e.posts;return N.a.createElement("div",{className:"BottomRecirc"},N.a.createElement("h2",{className:"BottomRecirc-label",onClick:this.toggleVisibility},0<a.size&&n),N.a.createElement("div",{style:{display:t?"block":"none"}},r()))}}]),o}(N.a.Component),B=Object(T.b)(function(e,t){var n=e.posts,r=e.ui,a=t.op,o=t.treatment;return{posts:n.get("recircPosts"),isBottomRecircVisible:r.gallery.get("isBottomRecircVisible"),title:o===I.f?"More posts from ".concat(a):"More posts you may like"}},function(t,e){var n=e.op,r=e.postHash,a=e.treatment,o=function(){},i="",c="";return a===I.f?(c=F.G,o=R.f,i=n):a===I.g&&(c=F.w,o=x.z,i=r),{setBottomRecircVisibilityAction:function(e){t(Object(G.J)(e))},getRecirc:function(){return N.a.createElement(A.a,{streamSection:c,streamParam:i,recircFetcher:o,navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:M.g,sendToTop:!0})},setPosts:function(){t(o(i,0,x.g,r))}}})(U);U.__docgenInfo={description:"",methods:[{name:"toggleVisibility",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BottomRecirc",props:{posts:{type:{name:"object"},required:!0,description:""},setBottomRecircVisibilityAction:{type:{name:"func"},required:!0,description:""},isBottomRecircVisible:{type:{name:"bool"},required:!0,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},adConfig:{type:{name:"object"},required:!1,description:""},op:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},getRecirc:{type:{name:"func"},required:!0,description:""},postHash:{type:{name:"string"},required:!1,description:""},isInRecircExperimentWithTreatment:{type:{name:"bool"},required:!1,description:""},setPosts:{type:{name:"func"},required:!0,description:""}}};var H=Object(T.b)(function(e){var t=e.posts,n=e.ui;return{posts:t.get("posts"),isBottomRecircVisible:n.gallery.get("isBottomRecircVisible"),title:Object(_.b)("page404LabelPosts")}},function(o,i){return{setBottomRecircVisibilityAction:function(e){o(Object(G.J)(e))},setPosts:function(e){var t=i.adsEnabled,n=i.adConfig,r=[],a=Object(L.d)(n);e.toArray().forEach(function(e){(t&&a||!e.get("isAd"))&&r.push(e.toJS())}),o(Object(D.f)(r))},getRecirc:function(){return N.a.createElement(A.b,{navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:M.g,sendToTop:!0})}}})(U),W=n("b5GN"),z=n("wmRA"),Y=n("sEfC"),K=n.n(Y);function J(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var X=function(e){d()(n,e);var t=J(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"handleScroll",value:function(){(0,this.props.onScroll)(Object(j.B)("pageYOffset"),Object(j.B)("innerHeight"))}},{key:"componentDidMount",value:function(){var e=this.props.debounceTimeout;this.handleScroll(),this.handleScroll=K()(this.handleScroll.bind(this),e),Object(j.a)("scroll",this.handleScroll),Object(j.a)("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),Object(j.jb)("scroll",this.handleScroll),Object(j.jb)("resize",this.handleScroll)}},{key:"render",value:function(){return N.a.createElement("span",null)}}]),n}(S.Component);X.defaultProps={debounceTimeout:10},X.__docgenInfo={description:"",methods:[{name:"handleScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Scroll",props:{debounceTimeout:{defaultValue:{value:"10",computed:!1},type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!0,description:""}}};var Q=n("/aJl"),Z=n("FwDa"),$=n("xbNk"),ee=n("Y22u");function te(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ne=function(e){d()(r,e);var n=te(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"lazyLoadHandler",K()(function(){var e=t.props.lazyLoadBuffer;Object(ee.c)(t.lazyLoadContainer.current,e)&&(t.setState({lazyLoadedIntoView:!0}),Object(j.mb)("scroll",t.lazyLoadHandler),Object(j.mb)("resize",t.lazyLoadHandler))},200)),t.lazyLoadContainer=N.a.createRef(),t.state={lazyLoadedIntoView:!1},t}return u()(r,[{key:"componentDidMount",value:function(){Object(j.c)("scroll",this.lazyLoadHandler),Object(j.c)("resize",this.lazyLoadHandler),this.lazyLoadHandler()}},{key:"componentWillUnmount",value:function(){Object(j.mb)("scroll",this.lazyLoadHandler),Object(j.mb)("resize",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props.children,t=this.state.lazyLoadedIntoView;return N.a.createElement("div",{ref:this.lazyLoadContainer},t?e():"")}}]),r}(S.Component);ne.__docgenInfo={description:"",methods:[],displayName:"LazyLoad",props:{children:{type:{name:"func"},required:!0,description:""},lazyLoadBuffer:{type:{name:"number"},required:!0,description:""}}};var re=n("yosD"),ae=n("XVVZ"),oe=n("heTe"),ie=n("6tpS"),ce=n("uscc");function se(e){var t=e.children,n=e.experimentTrigger,r=e.experimentName;return Object(S.useEffect)(function(){return n(r),function(){}},[]),null!=t?t:null}se.propTypes={experimentName:v.a.string,experimentTrigger:v.a.func,children:v.a.node};var le=Object(T.b)(null,{experimentTrigger:ce.d})(se),ue=n("w8Sv"),de=n("bWDY"),me=n("E9Wd");var pe=n("TJpk");function fe(e){var t,n,o=e.post,r=o&&Object(L.a)(o.get("adConfig"))?"none":"follow, index";return N.a.createElement(pe.Helmet,null,N.a.createElement("title",null,function(e){if(o){var t=e.get("title"),n=e.get("media"),r=n.first();if(r&&(r.get("animationType")||r.get("isVideo")))return 1<n.size?Object(_.b)("galleryMetaTitleGifs",t):Object(_.b)("galleryMetaTitleGif",t);var a=e.get("tags");return a.size?Object(_.b)("galleryMetaTitleTag",t,a.first().get("display",a.first().get("tag"))):t}return Object(_.b)("defaultTitle")}(o)),N.a.createElement("link",{rel:"canonical",href:(t=o,n=me.V,o&&(t.get("inGallery")?n+="/gallery/".concat(t.get("id")):t.get("isAlbum")?n+="/a/".concat(t.get("id")):n+="/".concat(t.get("id"))),n)}),N.a.createElement("meta",{name:"robots",content:r}))}fe.__docgenInfo={description:"",methods:[],displayName:"GalleryMeta",props:{post:{type:{name:"object"},required:!1,description:""}}};var he=n("TSYQ"),ge=n.n(he),ye=n("iaU+"),be=n("94Yu"),ve=n("9UQG"),Ce=n("WSv3");n("7znt");function Ee(e){var t=e.isAnnouncement,n=ge()({"promoted-label":!0,"announcement-label":t,"promoted-hover":!t});return N.a.createElement("div",{className:n,onClick:!t&&function(e){e.preventDefault(),Object(j.db)(M.x)},title:Object(_.b)("promotedLabelTitle",t)},Object(_.b)("promotedText",t))}Ee.defatulProps={isAnnouncement:!1},Ee.__docgenInfo={description:"",methods:[],displayName:"PromotedLabel",props:{isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Oe=n("ANjH"),ke=n("fdoY"),Pe=n("BWa0"),Se=n("QILm"),Ne=n.n(Se),je=n("55Ip"),qe=n("RJ0p");function we(e){var t=e.recircSortType,n=e.postId,r=e.match,a=e.children,o=(e.dispatch,e.staticContext,Ne()(e,["recircSortType","postId","match","children","dispatch","staticContext"])),i=r.params,c=Object(qe.i)(t,i);return N.a.createElement(je.a,p()({to:"".concat(c).concat(n)},o),a)}we.__docgenInfo={description:"",methods:[],displayName:"PostLink",props:{match:{type:{name:"object"},required:!0,description:""},children:{type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!0,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},staticContext:{type:{name:"object"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""}}};var Ie=Object(Oe.d)(Object(T.b)(function(e){return{recircSortType:e.postsData.get("recircSortType")}}),C.h)(we);n("D4vR");function Te(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ae=function(e){d()(n,e);var t=Te(n);function n(e){var r;return l()(this,n),r=t.call(this,e),P()(f()(r),"clickNext",function(){var e=r.props,t=e.toNext,n=e.match.params;t(w.o.BUTTON,n)}),P()(f()(r),"clickPrev",function(){var e=r.props,t=e.toPrev,n=e.match.params;t(w.o.BUTTON,n)}),r.elm=N.a.createRef(),r}return u()(n,[{key:"setElementPosition",value:function(){var e=this.props,t=e.setPosition,n=e.header,r=parseInt(this.elm.getBoundingClientRect().bottom,10)+Object(j.M)();n&&t(r)}},{key:"componentDidMount",value:function(){this.setElementPosition()}},{key:"componentDidUpdate",value:function(){this.setElementPosition()}},{key:"render",value:function(){var t=this,e=this.props,n=e.prevPost,r=e.nextPost,a=e.transformationStyle,o=e.transformationNextStyle,i=ge()({"Navigation-Container":!0,"first-item":!n,"last-item":!r});return N.a.createElement("div",{ref:function(e){t.elm=e}},(n||r)&&N.a.createElement("div",{className:i},n&&N.a.createElement(Ie,{className:"Navigation Navigation-prev",postId:n.get("id"),onClick:this.clickPrev},N.a.createElement("div",{className:"content"},N.a.createElement(Pe.eb,{name:Pe.T,width:"16",height:"16",alt:"<"}))),r&&N.a.createElement(Ie,{className:"Navigation Navigation-next",postId:r.get("id"),onClick:this.clickNext,style:a},N.a.createElement("div",{className:"content"},N.a.createElement("span",{style:o},Object(_.b)("nextPost")),N.a.createElement(Pe.eb,{name:Pe.U,width:"16",height:"16",alt:">"})))))}}]),n}(N.a.Component);Ae.defaultProps={header:!1},Ae.__docgenInfo={description:"",methods:[{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"clickNext",docblock:null,modifiers:[],params:[],returns:null},{name:"clickPrev",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PrevNextButtonsComponent",props:{header:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},toNext:{type:{name:"func"},required:!0,description:""},toPrev:{type:{name:"func"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},transformationNextStyle:{type:{name:"object"},required:!1,description:""},setPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""}}};var De=Object(Oe.d)(Object(T.b)(function(e){var t=e.postsData,n=e.ad,r=e.ui,a={},o={};return n.getIn(["transformation","enabled"])&&(a={background:"linear-gradient(60deg, rgb(".concat(n.getIn(["transformation","primaryColor"]),") 0%, rgb(").concat(n.getIn(["transformation","primaryColor"]),") 45%, rgb(").concat(n.getIn(["transformation","secondaryColor"]),") 100%)"),fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","nextFontSize"])},o={verticalAlign:n.getIn(["transformation","nextAlignment"])}),{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),coverHeight:r.cover.get("height"),transformationStyle:a,transformationNextStyle:o}},{toNext:ke.fb,toPrev:ke.gb,setPosition:ke.Kb}),C.h)(Ae);function Re(e){var t=e.className,n=e.username,r=e.label,a=e.children,o=e.onClick;n.toLowerCase()===me.B&&(n=me.D);var i=r||n;return"function"==typeof a?i=a(i):a&&(i=a),N.a.createElement(je.a,{className:t,to:"/user/".concat(n),title:Object(_.b)("usernameHint",n),onClick:o},i)}Re.__docgenInfo={description:"",methods:[],displayName:"AuthorLinkComponent",props:{className:{type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!0,description:""},label:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"func"},{name:"instanceOf",value:"Object"}]},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};n("nswd");function xe(e){var t=e.postTitle,n=e.postAuthor,r=e.className,a=e.isPostLoading,o=e.onProfileClick,i=e.transformationTitleStyle,c=e.isAnnouncement,s=e.isAd;return N.a.createElement("div",{className:ge()(P()({CoverPostMeta:!0},r,r))},N.a.createElement("div",{className:"Wrapper"},N.a.createElement("div",{className:"Meta".concat(a?" fadeOut":"")},N.a.createElement("div",{className:"PostTitle",style:i},t),s&&N.a.createElement(Ee,{isAnnouncement:c}),n&&N.a.createElement(Re,{className:"author-name",username:n,onClick:function(){return o(n,"Username Byline")}},function(e){return N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"normal"},Object(_.b)("postByLine")," "),e)})),N.a.createElement("div",{className:"Navigation-buttons"},N.a.createElement(De,null))))}xe.__docgenInfo={description:"",methods:[],displayName:"CoverPostMetaComponent",props:{className:{type:{name:"string"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""},postAuthor:{type:{name:"string"},required:!1,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!0,description:""},isAd:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Me=Object(T.b)(function(e){var t=e.postsData,n=e.ad,r=t.get("currentPost"),a={};return n.getIn(["transformation","enabled"])&&(a={fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","stickyTitleFontSize"])}),{postTitle:r&&r.get("title"),postAuthor:r&&r.get("inGallery")&&r.getIn(["account","username"],""),transformationTitleStyle:a}},{onProfileClick:Ce.ab})(xe);n("oYpj");function Fe(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var _e=function(e){d()(n,e);var t=Fe(n);function n(e){var a;return l()(this,n),a=t.call(this,e),P()(f()(a),"onScroll",function(){var e=a.props,t=e.prevNextPosition,n=e.coverTop,r=Object(j.M)()+Math.abs(n)>=t;r!==a.state.isDisplayPostMeta&&a.setState({isDisplayPostMeta:r})}),a.state={isDisplayPostMeta:!1},a}return u()(n,[{key:"componentDidUpdate",value:function(e){e.prevNextPosition!==this.props.prevNextPosition&&this.onScroll()}},{key:"render",value:function(){var e=this.props,t=e.isPostLoading,n=e.isPostAd,r=e.isAnnouncement,a=ge()({GalleryCover:!0,withPostMeta:this.state.isDisplayPostMeta});return N.a.createElement(ye.a,{minHeight:0,className:a,backgroundType:q.n,hideNewPostNotification:!0,SCTU:n?void 0:be.a,SCTUPath:M.N,SCTUReservePath:M.K,SCTUTargeting:{"2019NewPostPage":!0},onScroll:this.onScroll,Banner:ve.a},N.a.createElement(Me,{className:this.state.isDisplayPostMeta?"Display":"",isAd:n,isAnnouncement:r,isPostLoading:t}))}}]),n}(N.a.Component);_e.__docgenInfo={description:"",methods:[{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryCoverComponent",props:{prevNextPosition:{type:{name:"number"},required:!0,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},isPostAd:{type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Ge=Object(T.b)(function(e){var t=e.postsData,n=e.ui;return{prevNextPosition:t.get("prevNextPosition"),isPostLoading:n.spinner.get("retrievePost",{}).loading,isPostAd:t.getIn(["currentPost","isAd"],!1),isAnnouncement:t.getIn(["currentPost","isAnnouncement"],!1),coverTop:n.cover.getIn(["navbar","top"])}})(_e),Le=n("v1Sp"),Ve=n("wAdX"),Ue=n("7oyi"),Be=n("pNV7");n("2X/W");function He(e){var t=e.closeDialog,n=e.muteUser,r=e.resetMuteUserData,a=e.username,o=e.type,i=e.id;if(!(a&&o&&i))return null;function c(){r(),t()}return N.a.createElement(Ve.a,{className:"MuteUserDialog",name:Le.a,isModal:!1,onClose:r},N.a.createElement("div",{className:"MuteUserDialog-head"},N.a.createElement("span",null,Object(_.b)("muteUserDialogTitle")),N.a.createElement(Ue.a,{className:"MuteUserDialog-head--close",imageSrc:Be.a[Be.j],onClick:c})),N.a.createElement("div",{className:"MuteUserDialog-content"},N.a.createElement("div",{className:"MuteUserDialog-content--text"},Object(_.b)("muteUserDialogText")),N.a.createElement("div",{className:"MuteUserDialog-content--buttons"},N.a.createElement(Ue.a,{className:"MuteUserDialog-content--mute",onClick:function(){n(a,o,i),t()},label:Object(_.b)("muteUserDialogMuteBtn")}),N.a.createElement(Ue.a,{className:"MuteUserDialog-content--cancel",onClick:c,label:Object(_.b)("muteUserDialogCancelBtn")}))))}He.__docgenInfo={description:"",methods:[],displayName:"MuteUserDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},muteUser:{type:{name:"func"},required:!0,description:""},resetMuteUserData:{type:{name:"func"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var We=Object(T.b)(function(e){var t=e.user;return{username:t.getIn(["muteUserData","username"]),type:t.getIn(["muteUserData","type"]),id:t.getIn(["muteUserData","id"])}},{closeDialog:G.y,muteUser:Ce.L,resetMuteUserData:Ce.Q})(He),ze=n("2YUA"),Ye=n("AG5K"),Ke=n("OX3u"),Je=n("fPgW"),Xe=n("Nm7g"),Qe=n("Dhp7");function Ze(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var $e=function(e){d()(r,e);var n=Ze(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).state={countdown:null},t}return u()(r,[{key:"tick",value:function(){var e=this.props.target;e&&this.setState({countdown:Object(Qe.n)(e)})}},{key:"componentDidMount",value:function(){var e=this;this.tick();var t=this.props.target;!this.timerID&&t&&(this.timerID=Object(j.xb)(function(){return e.tick()},1e3))}},{key:"componentWillUnmount",value:function(){Object(j.h)(this.timerID),this.timerID=null}},{key:"render",value:function(){var e=this.state.countdown,t=this.props.className;return N.a.createElement("div",{className:t},e)}}]),r}(S.Component);$e.__docgenInfo={description:"",methods:[{name:"tick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Countdown",props:{target:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""}}};var et=n("RIqP"),tt=n.n(et);function nt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var rt=function(e){d()(n,e);var t=nt(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"renderInventory",value:function(e,t){var n=t?"active":"dimmed";return N.a.createElement("div",{className:"AccoladeDialog-inventory--".concat(n),key:e},N.a.createElement(Pe.eb,{name:Pe.J,width:"18",height:"20",viewBox:"0 -9 32 32"}))}},{key:"render",value:function(){var n=this,e=this.props,t=e.total,r=e.remaining;return t&&0!==r?N.a.createElement("div",{className:"AccoladeDialog-inventory"},N.a.createElement("div",{className:"AccoladeDialog-inventory-badges"},tt()(Array(t)).map(function(e,t){return n.renderInventory(t,t+1<=r)})),N.a.createElement("div",{className:"AccoladeDialog-inventory-message"},Object(Ye.a)("accoladesInventoryRemaining",r))):null}}]),n}(S.Component);rt.__docgenInfo={description:"",methods:[{name:"renderInventory",docblock:null,modifiers:[],params:[{name:"key",type:null},{name:"isActive",type:null}],returns:null}],displayName:"Inventory",props:{total:{type:{name:"number"},required:!1,description:""},remaining:{type:{name:"number"},required:!1,description:""}}};var at=n("HWIq");n("neJP");function ot(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var it=n("RUHF");var ct=Object(T.b)(function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPostMeta","user","accolades"]),a=t.getIn(["currentPostMeta","post","accolades_counts"]);return{isSubscribed:n.getIn(["subscription","isSubscribed"],!1),postId:t.getIn(["currentPost","id"]),initialVote:t.getIn(["currentPost","vote"],Je.c),accolades:t.getIn(["currentPostMeta","accolades","available"]),total:r&&r.getIn(["total"],0),remaining:r&&r.getIn(["remaining"]),timerReset:r&&r.getIn(["timer_reset"]),userAccoladeId:r&&r.getIn(["accolade_id"]),postAccolades:a?a.toJS():{},isOwner:n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase(),currentUsername:n.get("username","")}},function(t){return{close:function(){t(Object(G.y)(Ke.a))},submit:function(e){t(Object(ke.Zb)(e)),t(Object(G.y)(Ke.a)),e.vote===Je.b?t(e.userAccoladeId?Object(it.j)(e):Object(it.k)(e)):t(Object(it.l)(e))},onAccoladeDialogOpen:function(e){return t(Object(ke.X)(e))}}})(function(c,e){var s=1<arguments.length&&void 0!==e?e:{},t=function(e){d()(n,e);var t=ot(n);function n(e){var s;return l()(this,n),s=t.call(this,e),P()(f()(s),"chooseAccolade",function(e,t,n){0===t&&e&&!n||s.setState({currentSelectedAccoladeId:e})}),P()(f()(s),"handleAward",function(){var e=s.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.postAccolades,o=e.accolades,i=e.userAccoladeId,c=s.state.currentSelectedAccoladeId;t({postId:n,vote:Je.b,initialVote:r,trigger:"Award Accolade",accoladeId:c,userAccoladeId:i,accoladeName:o.find(function(e){return e.get("id")===c}).get("name"),accoladeCount:Object(Xe.n)(a)+1,previousAccoladeName:i?o.find(function(e){return e.get("id")===i}).get("name"):null})}),P()(f()(s),"handleRemove",function(){var e=s.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.userAccoladeId;t({postId:n,vote:Je.c,initialVote:r,trigger:"Delete Accolade",userAccoladeId:a})}),P()(f()(s),"getCount",function(e){var t=s.props,n=t.postAccolades,r=t.userAccoladeId,a=n&&n[e]?n[e]:0;return a?(e===r&&--a,a):0}),P()(f()(s),"isAccoladeButtonEnabled",function(){var e=s.props,t=e.userAccoladeId,n=e.remaining,r=s.state.currentSelectedAccoladeId;return null!==r&&(!(0===n&&!t)&&(!t||r!==t))}),P()(f()(s),"onOpen",function(){var e=s.props,t=e.onAccoladeDialogOpen,n=e.isOwner,r=e.postAccolades;t({accoladeIds:n&&r&&0<Object.keys(r).length?Object.keys(r):null}),s.chooseAccolade(null)}),s.state={currentSelectedAccoladeId:null},s}return u()(n,[{key:"accoladeData",value:function(e,t){var n=this,r=this.state.currentSelectedAccoladeId,a=this.props,o=a.userAccoladeId,i=a.currentUsername,c=a.remaining,s=e.get("id");return N.a.createElement("div",{key:t,onClick:function(){return n.chooseAccolade(e.get("id"),c,o)}},N.a.createElement(at.a,{count:this.getCount(s),username:s===o?i:"",background:s===r,imageUrl:e.get("image_url"),imageName:e.get("name")}))}},{key:"renderAccolades",value:function(){var n=this,e=this.props.accolades;if(e)return N.a.createElement("div",{className:"AccoladeDialog-accoladesContainer"},e.map(function(e,t){return n.accoladeData(e,t)}))}},{key:"renderDialogTitle",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.isOwner,a=e.postAccolades,o=e.remaining,i=e.timerReset;if(r){var c=Object(Xe.n)(a);return Object(Ye.a)(c?"accoladePostHasAccoladesTitle":"accoladePostNotHasAccoladesTitle",Object(Xe.j)(c))}return t?0===o?N.a.createElement(N.a.Fragment,null,N.a.createElement($e,{target:i,className:"AccoladeDialog-countdown"}),Object(Ye.a)("accoladesInventoryReload")):Object(Ye.a)(n?"accoladeGivenTitle":"accoladeGiveTitle"):Object(Ye.a)("accoladeJoinTitle")}},{key:"renderDialogButton",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.remaining;if(!t)return N.a.createElement("a",{className:"AccoladeDialog-link",href:"/".concat(W.f,"?source=").concat(Ke.s)},Object(Ye.a)("accoladeJoinEmerald"));if(0===r&&!n)return"";var a=this.isAccoladeButtonEnabled();return N.a.createElement("button",{disabled:!a,type:"button",className:"AccoladeDialog-button-".concat(a?"-active":"-hidden"),onClick:this.handleAward},n?Object(Ye.a)("accoladeChange"):Object(Ye.a)("accoladeAward"))}},{key:"render",value:function(){var e=this.props,t=e.isSubscribed,n=e.total,r=e.remaining,a=e.userAccoladeId,o=e.isOwner,i=e.close;return N.a.createElement(c,p()({className:"AccoladeDialog",isModal:!1,onClose:i,name:Ke.a,onOpen:this.onOpen},s),N.a.createElement("div",{className:"AccoladeDialog-head"},t&&!o&&0!==r&&N.a.createElement(rt,{total:n,remaining:r}),N.a.createElement(Ue.b,{className:"AccoladeDialog-head--close",image:N.a.createElement(Pe.eb,{name:Pe.g,width:"24",height:"24"}),onClick:i})),N.a.createElement("div",{className:"AccoladeDialog-content"},N.a.createElement("div",{className:"AccoladeDialog-content-title"},this.renderDialogTitle()),this.renderAccolades()),N.a.createElement("div",{className:"AccoladeDialog-footer"},N.a.createElement("a",{className:"AccoladeDialog-LearnMore",href:Ke.c,target:"_blank",rel:"noopener noreferrer"},N.a.createElement(Pe.eb,{height:"24",name:Pe.K,width:"24"})),!o&&N.a.createElement("div",{className:"AccoladeDialog-footer-actions"},a&&N.a.createElement("div",{className:"AccoladeDialog-button--remove",onClick:this.handleRemove},Object(Ye.a)("accoladeRemove")),this.renderDialogButton())))}}]),n}(S.Component);return t.defaultProps={onAccoladeDialogOpen:function(){}},t}(Ve.a)),st=n("5jHb"),lt=n("93Qx");n("qAYT");function ut(e){var t=e.closeDialog,n=e.deleteComment,r=e.resetDeleteCommentData,a=e.commentId;if(!a||!n)return null;function o(){r(),t()}return N.a.createElement(Ve.a,{className:"DeleteCommentDialog",name:st.f,isModal:!1,onClose:r},N.a.createElement("div",{className:"DeleteCommentDialog-head"},N.a.createElement("span",null,Object(_.b)("DeleteCommentDialogTitle")),N.a.createElement(Ue.a,{className:"DeleteCommentDialog-head--close",imageSrc:Be.a[Be.j],onClick:o})),N.a.createElement("div",{className:"DeleteCommentDialog-content"},N.a.createElement("div",{className:"DeleteCommentDialog-content--text"},Object(_.b)("DeleteCommentDialogText")),N.a.createElement("div",{className:"DeleteCommentDialog-content--buttons"},N.a.createElement(Ue.a,{className:"DeleteCommentDialog-content--cancel",onClick:o,label:Object(_.b)("DeleteCommentDialogKeepBtn")}),N.a.createElement(Ue.a,{className:"DeleteCommentDialog-content--delete",onClick:function(){n(a),t()},label:Object(_.b)("DeleteCommentDialogDeleteBtn")}))))}ut.__docgenInfo={description:"",methods:[],displayName:"DeleteCommentDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},deleteComment:{type:{name:"func"},required:!0,description:""},resetDeleteCommentData:{type:{name:"func"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""}}};var dt=Object(T.b)(function(e){return{commentId:e.comments.get("commentToDeleteId")}},{closeDialog:G.y,deleteComment:lt.s,resetDeleteCommentData:lt.z})(ut),mt=n("if3o"),pt=n("Gk2F");n("IVpR");function ft(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ht(){return N.a.createElement("svg",{style:{position:"absolute"},width:"0",height:"0",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.a.createElement("defs",null,N.a.createElement("path",{id:"folder-path0",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z",fill:"#43D0BD"}),N.a.createElement("path",{id:"folder-path1",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z"}),N.a.createElement("path",{id:"folder-lock-path",fillRule:"evenodd",clipRule:"evenodd",d:"M27 11.0375C24.7909 11.0375 23 12.8954 23 15.1872V16.4018C21.8348 16.829 21 17.9819 21 19.337V22.4493C21 24.1682 22.3431 25.5617 24 25.5617H30C31.6569 25.5617 33 24.1682 33 22.4493V19.337C33 17.9819 32.1652 16.829 31 16.4018V15.1872C31 12.8954 29.2091 11.0375 27 11.0375ZM29 16.2247V15.1872C29 14.0413 28.1046 13.1124 27 13.1124C25.8954 13.1124 25 14.0413 25 15.1872V16.2247H29ZM24 18.2996C23.4477 18.2996 23 18.764 23 19.337V22.4493C23 23.0223 23.4477 23.4868 24 23.4868H30C30.5523 23.4868 31 23.0223 31 22.4493V19.337C31 18.764 30.5523 18.2996 30 18.2996H24Z",fill:"white"}),N.a.createElement("filter",{id:"filter0_d",x:"0.167206",y:"0",width:"54.9194",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},N.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),N.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),N.a.createElement("feOffset",{dy:"4"}),N.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),N.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),N.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),N.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function gt(e){var t=e.id,n=e.coverHash,r=e.isPrivate;return N.a.createElement("svg",{width:"45",height:"32",viewBox:"5 1 45 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.a.createElement("g",{filter:"url(#filter0_d)"},N.a.createElement("use",{xlinkHref:"#folder-path0"}),n&&!r&&N.a.createElement("use",{xlinkHref:"#folder-path1",fill:"url(#pattern".concat(t,")")})),r&&N.a.createElement("use",{xlinkHref:"#folder-lock-path"}),N.a.createElement("defs",null,N.a.createElement("pattern",{id:"pattern".concat(t),patternContentUnits:"objectBoundingBox",width:"1",height:"1"},N.a.createElement("use",{xlinkHref:"#image".concat(t),transform:""})),N.a.createElement("image",{id:"image".concat(t),width:"1",height:"1",xlinkHref:n&&"".concat(me.W,"/").concat(n,"s.png")})))}function yt(e){var t=e.id,n=void 0===t?mt.a:t,r=e.coverHash,a=e.name,o=e.isPrivate,i=e.isSelected;return N.a.createElement("div",{className:"FavoriteDialog-Folder"},N.a.createElement("div",{className:"FavoriteDialog-FolderIcon"},N.a.createElement(gt,{coverHash:r,id:n,isPrivate:o})),N.a.createElement("div",{className:"FavoriteDialog-FolderLabel".concat(i?" selected":"")},a),N.a.createElement("div",{className:"FavoriteDialog-FolderSelected"},i&&N.a.createElement(Pe.eb,{name:Pe.R,width:"16",height:"16"})))}var bt=function(e){d()(n,e);var t=ft(n);function n(e){var o;return l()(this,n),o=t.call(this,e),P()(f()(o),"handleClose",function(){var e=o.props.closeDialogAction;o.onClose(),e()}),P()(f()(o),"onClose",function(){var e=o.props.resetFavoriteDataAction,t=o.state.selected;Object(j.i)(o.closeTimeOut),e(),t!==mt.a&&o.setState({selected:mt.a}),Object(j.mb)("scroll",o.handleClose)}),P()(f()(o),"handleSelectFolder",function(e){var t=o.props,n=t.addFavoritesToFolderAction,r=t.postId,a=t.isAlbum;n({id:e,faves:["".concat(a?"album":"image","/").concat(r)],disableMessage:!0}),o.setState({selected:e}),Object(j.Ab)(o.handleClose,500)}),P()(f()(o),"onOpen",function(){(0,o.props.fetchFoldersAction)(),o.closeTimeOut=Object(j.Ab)(o.handleClose,1e4),Object(j.c)("scroll",o.handleClose)}),P()(f()(o),"onMouseEnter",function(){Object(j.i)(o.closeTimeOut),Object(j.mb)("scroll",o.handleClose)}),P()(f()(o),"onMouseLeave",function(){Object(j.c)("scroll",o.handleClose)}),o.closeTimeOut=null,o.state={selected:mt.a},o}return u()(n,[{key:"componentWillUnmount",value:function(){this.onClose()}},{key:"render",value:function(){var t=this,e=this.props,n=e.folders,r=e.postId,a=e.coverHeight,o=e.coverTop,i=e.isCoverFixed,c=this.state.selected;if(!r)return null;var s={top:i?81:a-136+81+o};return N.a.createElement(Ve.a,{className:"FavoritesFoldersDialog",overlayOpacity:0,name:z.g,isModal:!1,onClose:this.onClose,onOpen:this.onOpen,styles:s},N.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},N.a.createElement("div",{className:"FavoritesFoldersDialog-head"},N.a.createElement("span",null,Object(_.b)("FavoritesFoldersDialogTitle")),N.a.createElement(Ue.a,{className:"FavoritesFoldersDialog-head--close",imageSrc:Be.a[Be.j],onClick:this.handleClose})),N.a.createElement("div",{className:"FavoritesFoldersDialog-content"},N.a.createElement(ht,null),N.a.createElement("div",{className:"fadeOut fadeOut-top"}),N.a.createElement("div",{className:"FavoritesFoldersDialog-content--list Scrollbar--gray"},n.map(function(e){return N.a.createElement("button",{onClick:function(){return t.handleSelectFolder(e.id||mt.a)},type:"submit",key:e.id||mt.a},N.a.createElement(yt,p()({},e,{isSelected:c===e.id})))})),N.a.createElement("div",{className:"fadeOut fadeOut-bottom"}))))}}]),n}(N.a.Component);bt.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSelectFolder",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"onOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesFoldersDialog",props:{fetchFoldersAction:{type:{name:"func"},required:!0,description:""},closeDialogAction:{type:{name:"func"},required:!0,description:""},resetFavoriteDataAction:{type:{name:"func"},required:!0,description:""},addFavoritesToFolderAction:{type:{name:"func"},required:!0,description:""},folders:{type:{name:"array"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""}}};var vt=Object(T.b)(function(e){var t=e.favorites,n=e.postsData,r=e.ui;return{folders:t.get("folders").toList().toJS(),postId:n.getIn(["favoriteData","postId"]),isAlbum:n.getIn(["favoriteData","isAlbum"]),coverHeight:r.cover.get("height"),coverTop:r.cover.get("top"),isCoverFixed:r.cover.get("fixed")}},{fetchFoldersAction:pt.q,closeDialogAction:G.y,resetFavoriteDataAction:ke.wb,addFavoritesToFolderAction:pt.k})(bt),Ct=n("T7zL");n("mky3");function Et(e){var t=e.title,n=e.createAd,r=new Date(n);return N.a.createElement("div",{className:"TitleDate"},N.a.createElement("div",{className:"Title"},t),N.a.createElement("div",{className:"Date"},Object(_.b)("statisticsDialogUploaded")," ",Object(Qe.o)(r)))}function Ot(e){var t=e.views,n=e.comments,r=e.bandwidth,a=e.favorites,o=[{title:Object(_.b)("statisticsDialogViews"),value:Object(Xe.j)(t),icon:N.a.createElement(Pe.eb,{name:Pe.cb,width:"16",height:"16"})},{title:Object(_.b)("statisticsDialogBandwidth"),value:Object(Xe.g)(r),icon:N.a.createElement(Pe.eb,{name:Pe.P,width:"16",height:"16"})},{title:Object(_.b)("statisticsDialogComments"),value:Object(Xe.j)(n),icon:N.a.createElement(Pe.eb,{name:Pe.Q,width:"16",height:"16"})},{title:Object(_.b)("statisticsDialogFavorites"),value:Object(Xe.j)(a),icon:N.a.createElement(Pe.eb,{name:Pe.Z,width:"16",height:"16"})}];return N.a.createElement("div",{className:"StatisticsData"},o.map(function(e,t){return N.a.createElement("div",{className:"item ".concat(0<t%2?"right":"left"," ").concat(t<2&&"top"),key:t},N.a.createElement("div",{className:"title-icon"},N.a.createElement("div",{className:"title"},e.title),N.a.createElement("div",{className:"icon"},e.icon)),N.a.createElement("div",{className:"value"},e.value))}))}function kt(e){var t=e.closeDialog,n=e.meta,r=e.title,a=e.createdAtDate,o=e.coverImage,i=e.mediaSize;if(!n||!n.size)return null;var c={backgroundImage:"url(".concat(o,")")};return N.a.createElement(Ve.a,{className:"StatisticsDialog",name:z.K,isModal:!1},N.a.createElement("div",{className:"StatisticsDialog-head"},N.a.createElement("span",null,Object(_.b)("statisticsDialogTitle")),N.a.createElement(Ue.a,{className:"StatisticsDialog-head--close",imageSrc:Be.a[Be.j],onClick:function(){return t()}})),N.a.createElement("div",{className:"StatisticsDialog-content"},N.a.createElement("div",{className:"Background",style:c},N.a.createElement("div",{className:"Background-Overlay"})),N.a.createElement("div",{className:"StatisticsDialog-content-container"},N.a.createElement(Et,{createAd:a,title:r}),N.a.createElement(Ct.a,{points:n.get("point_count"),ups:n.get("upvote_count"),downs:n.get("downvote_count")}),N.a.createElement(Ot,{views:n.get("view_count"),comments:n.get("comment_count"),bandwidth:n.get("view_count")*i,favorites:n.get("favorite_count")}))))}kt.__docgenInfo={description:"",methods:[],displayName:"StatisticsDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},meta:{type:{name:"object"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},createdAtDate:{type:{name:"string"},required:!1,description:""},coverImage:{type:{name:"string"},required:!1,description:""},mediaSize:{type:{name:"number"},required:!1,description:""}}};var Pt=Object(T.b)(function(e){var t=e.postsData;return{meta:t.getIn(["currentPostMeta","post"]),title:t.getIn(["currentPost","title"]),createdAtDate:t.getIn(["currentPost","createdAt"]),coverImage:t.getIn(["currentPost","src","coverImage"]),mediaSize:t.getIn(["currentPost","media"],[]).reduce(function(e,t){return e+parseInt(t.get("size"),10)},0)}},{closeDialog:G.y})(kt),St=n("yFeA");n("4KxA");function Nt(e){var t=e.viewPortWidth,n=e.post,r=e.streamSection,a=e.streamSort;return Object(j.X)()||t<768||n.get("isAd")?null:N.a.createElement("div",{className:"BottomAd-container"},N.a.createElement(St.a,{path:M.F,postAdConfig:n.get("adConfig"),refresh:!0,slotTargeting:Object(qe.j)(n,r,a),shouldLazyLoad:!0}))}Nt.__docgenInfo={description:"",methods:[],displayName:"BottomAd",props:{post:{type:{name:"object"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var jt=Object(T.b)(function(e){var t=e.display,n=e.gallery;return{viewPortWidth:t.getIn(["viewPort","width"]),streamSection:n.get("streamSection"),streamSort:n.get("streamSort")}})(Nt),qt=n("vOx8"),wt=n("KMpf"),It=(n("a/1F"),n("xypG")),Tt=n("J4zp"),At=n.n(Tt),Dt=n("y/zE"),Rt=n("O+9w"),xt=n("JBc3"),Mt=n("129X"),Ft=n("Ot+t"),_t=n("QlZ4"),Gt=n("2OyZ"),Lt=n("A1Ak"),Vt=n("flVz"),Ut=n("9rNq"),Bt=n("p5w4");function Ht(e){var t,n=e.onReport,r=e.onClick,a=e.isReported,o=e.isLoggedIn,i=e.ElementType,c=e.reportType,s=e.id,l=e.isMature,u=e.className,d=Ne()(e,["onReport","onClick","isReported","isLoggedIn","ElementType","reportType","id","isMature","className"]),m=ge()((t={},P()(t,u,u),P()(t,"disabled",a),t));return N.a.createElement(i,p()({className:m,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),r&&r(e),a)return!1;n(c,s,l,o)}},d),N.a.createElement(Pe.eb,{className:"icon fill",name:Pe.y,width:"32",height:"32",fillColor:"#B4B9C2"}),N.a.createElement("span",{className:"label"},Object(_.b)(a?"reported":"report")))}Ht.defaultProps={ElementType:"button"};Ht.__docgenInfo={description:"",methods:[],displayName:"ReportDropDownOption",props:{ElementType:{defaultValue:{value:"'button'",computed:!1},type:{name:"string"},required:!1,description:""},onReport:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},isReported:{type:{name:"bool"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isMature:{type:{name:"bool"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},reportType:{type:{name:"enum",value:[{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0},{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0}]},required:!0,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var Wt=Object(T.b)(function(e,t){var n=e.user,r=e.report,a=t.reportType,o=t.id;return{isLoggedIn:!!n.get("isLoggedIn"),isReported:a===$.c&&!!r.get("reportedPosts",{})[o]||a===$.b&&!!r.get("reportedComments",{})[o]}},function(a){return{onReport:function(e,t,n,r){a(Object(Bt.h)({type:e,id:t,isMature:n})),r&&a(Object(G.I)({name:$.a}))}}})(Ht);n("HCTt");function zt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Yt=function(e){d()(a,e);var r=zt(a);function a(){var c;l()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t)),P()(f()(c),"download",function(){var e=c.props,t=e.isAlbum,n=e.postId,r=e.postTitle;t?Object(j.db)("".concat(me.V,"/a/").concat(n,"/zip")):Object(j.db)("".concat(me.V,"/download/").concat(n,"/").concat(encodeURIComponent(r)))}),P()(f()(c),"removeFromPublic",function(){(0,c.props.openDialog)({name:z.I})}),P()(f()(c),"navigateToEditPage",function(){var e=c.props,t=e.history,n=e.postId,r=e.isAlbum,a=e.isEditBeta,o=Object(qe.f)(n,r);if(a)return t.push(o);Object(j.db)(o)}),P()(f()(c),"embed",function(){var e=c.props,t=e.postId,n=e.postTitle,r=e.isAlbum,a=e.setEmbedData,o=e.openDialog,i=e.postTags;o({name:Gt.a}),a(t,n,Gt.b,r,i)}),P()(f()(c),"muteOP",function(){var e=c.props,t=e.postUsername,n=e.postId,r=e.openDialog,a=e.muteUserData;r({name:Le.a}),a(t,Le.c,n)}),c}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.postId,n=e.isMature,r=e.hideReport,a=e.isOwner,o=e.isUserLoggedIn,i=e.inGallery;return N.a.createElement("div",{className:"Gallery-Options"},N.a.createElement($.d,{type:$.c}),N.a.createElement(Ut.a,{className:"Gallery-OptionsMenu Dropdown--btn",dropdownIcon:N.a.createElement(Pe.eb,{name:Pe.k,width:"32",height:"32"})},N.a.createElement("button",{type:"button",onClick:this.embed},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.m,width:"32",height:"32"}),N.a.createElement("span",{className:"label"},Object(_.b)("embed"))),N.a.createElement("button",{type:"button",onClick:this.download},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.h,width:"32",height:"32"}),N.a.createElement("span",{className:"label"},Object(_.b)("download"))),!i&&N.a.createElement("button",{type:"button",onClick:function(){return Object(j.Z)(Lt.a[Lt.c].href)}},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.y,width:"32",height:"32"}),N.a.createElement("span",{className:"label"},Object(_.b)("requestDeletionFooter"))),!r&&N.a.createElement(Wt,{reportType:$.c,id:t,isMature:n}),a&&N.a.createElement(N.a.Fragment,null,N.a.createElement("button",{type:"button",onClick:this.navigateToEditPage},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.j,width:"32",height:"32"}),N.a.createElement("span",{className:"label"},Object(_.b)("editPost"))),N.a.createElement("button",{type:"button",onClick:this.removeFromPublic},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.q,width:"32",height:"32"}),N.a.createElement("span",{className:"label"},Object(_.b)("removeFromPublic")))),o&&!a&&!r&&N.a.createElement(N.a.Fragment,null,N.a.createElement("button",{type:"button",onClick:this.muteOP},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.u,width:"32",height:"32"}),N.a.createElement("span",{className:"label"},Object(_.b)("postMuteUser"))))))}}]),a}(N.a.Component),Kt={openDialog:G.I,setEmbedData:Vt.h,muteUserData:Ce.M};Yt.__docgenInfo={description:"",methods:[{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"removeFromPublic",docblock:null,modifiers:[],params:[],returns:null},{name:"navigateToEditPage",docblock:null,modifiers:[],params:[],returns:null},{name:"embed",docblock:null,modifiers:[],params:[],returns:null},{name:"muteOP",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryOptions",props:{postId:{type:{name:"string"},required:!0,description:""},postTitle:{type:{name:"string"},required:!0,description:""},isMature:{type:{name:"bool"},required:!0,description:""},hideReport:{type:{name:"bool"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!0,description:""},onRemoveFromPublic:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isEditBeta:{type:{name:"bool"},required:!1,description:""},setEmbedData:{type:{name:"func"},required:!0,description:""},openDialog:{type:{name:"func"},required:!0,description:""},postTags:{type:{name:"array"},required:!1,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},postUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!1,description:""},inGallery:{type:{name:"bool"},required:!0,description:""}}};var Jt=Object(Oe.d)(Object(T.b)(function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPost","inGallery"]),a=!r,o=n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase();return a||(t.getIn(["currentPost","isAd"])||o)&&(a=!0),{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),isMature:!!t.getIn(["currentPost","isMature"]),hideReport:a,isAlbum:t.getIn(["currentPost","isAlbum"]),isOwner:o,isEditBeta:!!n.getIn(["flags","desktopEditPageBeta"]),postTags:t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS(),postUsername:t.getIn(["currentPost","account","username"]),isUserLoggedIn:n.get("isLoggedIn"),inGallery:r}},Kt),C.h,Object(_t.a)(Ft.a,Ft.h))(Yt);n("SeDK");function Xt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Qt=function(e){d()(n,e);var t=Xt(n);function n(e){var i;return l()(this,n),i=t.call(this,e),P()(f()(i),"setElementPosition",function(){(0,i.props.setByLInePosition)(parseInt(i.elm.getBoundingClientRect().top+Object(j.M)(),10))}),P()(f()(i),"onProfileClick",function(e){(0,i.props.onProfileClick)(i.getUsername(),e)}),P()(f()(i),"onUserProfileClick",function(){return i.onProfileClick("Username Byline")}),P()(f()(i),"onAvatarProfileClick",function(){return i.onProfileClick("Avatar Byline")}),P()(f()(i),"onGiveEmerald",function(){var e=i.props,t=e.giveEmeraldData,n=e.username,r=e.postId;t({recipientUsername:n,recipientId:e.accountId,source:Ke.m,postId:r})}),P()(f()(i),"getUserAvatar",function(){var e=i.props,t=e.avatar,n=e.isPromoted,r=e.isAnnouncement,a=i.isImgurAccount(),o=i.getUsername();return n?N.a.createElement(Mt.a,{className:r?"Gallery-Byline-announcement":""},N.a.createElement(Re,{className:"author-link",username:o,onClick:i.onAvatarProfileClick},function(){return N.a.createElement(Dt.a,{src:t,username:o,displayUsername:o,className:"uScaleTransition Avatar".concat(a?" Avatar--imgur":"")})}),N.a.createElement(Mt.b,null,N.a.createElement(Ee,{isAnnouncement:r}))):N.a.createElement(Re,{className:"author-link",username:o,onClick:i.onAvatarProfileClick},N.a.createElement(Dt.a,{src:t,username:o,displayUsername:o,className:"uScaleTransition Avatar".concat(a?" Avatar--imgur":"")}))}),i.elm=N.a.createRef(),i}return u()(n,[{key:"getUsername",value:function(){var e=this.props.username;return e.toLowerCase()===me.B?me.D:e}},{key:"isImgurAccount",value:function(){return this.getUsername()===me.D}},{key:"componentDidMount",value:function(){var e=this.props.currentPostViewingSummaryAnalytics;this.setElementPosition(),e(),this.maybeFireOpViewAnalytics()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.currentPostViewingSummaryAnalytics,a=t.currentUserId;this.setElementPosition(),e.postId!==n?(r(),this.maybeFireOpViewAnalytics()):a!==e.currentUserId&&this.maybeFireOpViewAnalytics()}},{key:"maybeFireOpViewAnalytics",value:function(){var e=this.props,t=e.currentUserId,n=e.accountId,r=e.postId,a=e.score,o=e.minutesOld,i=e.currentUserReputation,c=e.commentCount,s=e.inGallery,l=e.viewedByOpAnalyticsAction;s&&t===n&&l(r,a,o,c,i)}},{key:"render",value:function(){var t=this,e=this.props,n=e.createdAt,r=e.isPromoted,a=e.views,o=e.platform,i=e.inGallery,c=e.children,s=e.isUserLoggedIn,l=e.isUserLoaded,u=e.currentUsername,d=new Date(n),m=this.getUsername(),p=ge()({"Info-Wrapper":!0,"hidden-post":!i});return N.a.createElement("div",{className:"Gallery-Byline",ref:function(e){t.elm=e}},m&&this.getUserAvatar(),N.a.createElement("div",{className:p},m&&N.a.createElement("div",{className:"Info"},N.a.createElement(Re,{className:"author-name".concat(r?" author-name-promoted":""),username:m,onClick:this.onUserProfileClick},function(e){return r?N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"normal"},Object(_.b)("postByLine")," "),e):e}),N.a.createElement(Rt.a,{currentUsername:u,itemUsername:m,isUserLoaded:l,isPromoted:r,isEnabled:me.w},N.a.createElement(xt.a,{isUserLoggedIn:s,showSmallVersion:!0,showTitle:!0,onClick:this.onGiveEmerald}))),!r&&N.a.createElement("div",{className:"Meta"},N.a.createElement("span",null,Object(Xe.j)(a)," ","Views"),N.a.createElement("span",{className:"delimiter"},"•"),N.a.createElement("span",{title:d},Object(Qe.o)(d)),o&&o.toLowerCase()!==me.H&&N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"delimiter"},"•"),N.a.createElement("span",null,"via"," ",N.a.createElement("a",{className:"platform bold",href:"/apps"},Object(Xe.e)(o)))))),N.a.createElement(Jt,null),c)}}]),n}(N.a.Component);Qt.defaultProps={isPromoted:!1,handleFollow:function(e){return Object(j.j)('Follow "'.concat(e,'"?'))}};Qt.__docgenInfo={description:"",methods:[{name:"getUsername",docblock:null,modifiers:[],params:[],returns:null},{name:"isImgurAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"maybeFireOpViewAnalytics",docblock:null,modifiers:[],params:[],returns:null},{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null},{name:"getUserAvatar",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryByline",props:{isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},handleFollow:{defaultValue:{value:'(username) => confirm(`Follow "${username}"?`)',computed:!1},type:{name:"func"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},accountId:{type:{name:"number"},required:!0,description:""},createdAt:{type:{name:"string"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""},platform:{type:{name:"string"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""},setByLInePosition:{type:{name:"func"},required:!0,description:""},currentPostViewingSummaryAnalytics:{type:{name:"func"},required:!0,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"array"},required:!1,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},currentUserId:{type:{name:"number"},required:!1,description:""},score:{type:{name:"number"},required:!0,description:""},minutesOld:{type:{name:"number"},required:!0,description:""},currentUserReputation:{type:{name:"number"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},viewedByOpAnalyticsAction:{type:{name:"func"},required:!0,description:""}}};var Zt=Object(T.b)(function(e){var t=e.postsData,n=e.user;return{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),inGallery:t.getIn(["currentPost","inGallery"]),isUserLoggedIn:n.get("isLoggedIn"),isUserLoaded:n.get("isLoaded"),currentUsername:n.get("username")||"",currentUserId:n.get("id"),currentUserReputation:n.get("reputation")}},{currentPostViewingSummaryAnalytics:ke.Z,setByLInePosition:ke.Hb,onProfileClick:Ce.ab,giveEmeraldData:it.r,viewedByOpAnalyticsAction:ke.Yb})(Qt);n("XF+e");function $t(e){var t=e.accolades,n=e.onClick;return N.a.createElement("div",{className:"AccoladesBadge"},t.map(function(e,t){return N.a.createElement("div",{key:t,className:ge()(P()({"AccoladesBadge-item":!0},"AccoladesBadge-item-".concat(t),!0)),onClick:n,title:"This post has been awarded the ".concat(e.get("name")," Accolade")},N.a.createElement(at.a,{imageUrl:e.get("image_url"),imageName:e.get("name"),background:0<t}))}))}$t.__docgenInfo={description:"",methods:[],displayName:"AccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var en=n("Et25");function tn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var nn=function(e){d()(n,e);var t=tn(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.accolades,n=e.openDialogAction;return t&&0!==t.size?N.a.createElement("div",{className:"Gallery-AccoladesBadge"},N.a.createElement($t,{accolades:t,onClick:function(){n({name:Ke.a,eventSource:w.a.CLICKED_BADGE})}})):null}}]),n}(N.a.Component);nn.__docgenInfo={description:"",methods:[],displayName:"GalleryAccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""}}};var rn=Object(T.b)(function(e){var t=e.postsData;return{accolades:Object(en.c)(t.getIn(["currentPostMeta","accolades","available"]),t.getIn(["currentPostMeta","post","accolades_counts"]))}},{openDialogAction:G.I})(nn);n("OQdq");function an(e){var t=e.post,n=e.transformationTitleStyle,r={postId:t.get("id"),username:t.getIn(["account","username"],""),avatar:t.getIn(["account","avatar_url"]),accountId:t.getIn(["account","id"],0),createdAt:t.get("createdAt"),views:t.get("views"),platform:t.get("platform"),isPromoted:t.get("isAd"),score:t.get("score",0),minutesOld:Object(Qe.m)(t.get("createdAt")),commentCount:t.get("commentCount"),isAnnouncement:t.get("isAnnouncement")},a=t.get("title"),o=!a||!a.length,i=!Object(qe.l)(t);return N.a.createElement("div",{className:"Gallery-Header"},N.a.createElement("div",{style:n,className:"Gallery-Title".concat(80<t.get("title").length?" long":"")},!o&&N.a.createElement("div",{className:"row"},N.a.createElement("span",null,t.get("title")),i&&N.a.createElement(De,{header:!0}))),N.a.createElement(Zt,r,o&&i&&N.a.createElement(De,{header:!0})),N.a.createElement(rn,null))}an.__docgenInfo={description:"",methods:[],displayName:"GalleryHeader",props:{post:{type:{name:"object"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var on=n("FP0a"),cn=n.n(on),sn=n("26Ob"),ln=n("2c7z"),un=n("1coQ"),dn=n("CG6i"),mn=n("cG8M"),pn=n("aYmD"),fn=n("yA1n"),hn="a",gn="iframe",yn={hashtag:hn,mention:hn,url:hn,iframe:gn},bn={hashtag:function(e){return"/t/".concat(e.get("tag"))},mention:function(e){return"/user/".concat(e.get("username"))},url:function(e){return e.get("url")},iframe:function(e){return e.get("attributes").reduce(function(e,t,n){return e+="".concat(n,'="').concat(t,'" ')},"")}};var vn=n("ej/z"),Cn=n("Uhiq");function En(e){var t=e.shouldHide,n=e.post,r=e.path,a=e.dimensions,o=e.streamSection,i=e.streamSort;return t?null:N.a.createElement(St.a,{postAdConfig:n.get("adConfig"),path:r,slotTargeting:Object(qe.j)(n,o,i),shouldLazyLoad:!0,dimensions:a})}En.__docgenInfo={description:"",methods:[],displayName:"GalleryContentAd",props:{post:{type:{name:"object"},required:!0,description:""},path:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!0,description:""},dimensions:{type:{name:"array"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},shouldHide:{type:{name:"bool"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var On=Object(T.b)(function(e,t){var n=e.gallery,r=t.post,a=t.viewPortWidth;return{shouldHide:Object(j.X)()||r.get("isAd")||!a,streamSection:n.get("streamSection"),streamSort:n.get("streamSort")}})(En);n("nFdL");function kn(e){var t=e.message,n=e.onClick;return N.a.createElement("div",{className:"loadMoreContainer"},N.a.createElement("button",{type:"button",className:"loadMore",onClick:n},N.a.createElement("div",{className:"BgHover"}),N.a.createElement("div",{className:"text"},N.a.createElement("span",null,t)," ",N.a.createElement(Pe.eb,{name:Pe.S,width:"18",height:"18",alt:"▼"}))))}kn.__docgenInfo={description:"",methods:[],displayName:"LoadMoreButton",props:{message:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};n("0pwo");function Pn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Sn=1,Nn=2;function jn(e){var t=e.post;return N.a.createElement("div",{className:"Gallery-ContentWrapper"},N.a.createElement(wn,{post:t}))}var qn=function(e){d()(n,e);var t=Pn(n);function n(e){var i;return l()(this,n),i=t.call(this,e),P()(f()(i),"loadMore",function(){var e=i.props,t=e.onLoadMore,n=e.resetMediaHeightForPostAction,r=e.post,a=i.state.isExtended,o=r.get("id");a||(n(o),i.setState({isExtended:!0,renderMode:Sn},t))}),P()(f()(i),"onKeyboardInteraction",function(e){return e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName)||"9"===e.key&&i.loadMore(),e}),P()(f()(i),"onResize",function(){var e=i.props;(0,e.resetMediaHeightForPostAction)(e.post.get("id"))}),P()(f()(i),"handleIntersection",function(e){e.forEach(function(e){var t=i.props,n=t.addVideoToViewListAction,r=t.removeVideoFromViewListAction,a=e.target.getAttribute("hash"),o=e.boundingClientRect.top<0?fn.b.GALLERY.TOP:fn.b.GALLERY.BOTTOM;e.intersectionRatio>o?n(a):r(a)})}),P()(f()(i),"renderLoadMore",function(e){return N.a.createElement(kn,{message:Object(_.b)("loadMoreImages",e),onClick:i.loadMore})}),i.state={isExtended:!1,renderMode:Sn},i.intersectionObserver=Object(Cn.a)(i.handleIntersection,{rootMargin:Object(Cn.b)("px",-q.f),threshold:[fn.b.HIDE,fn.b.GALLERY.TOP,fn.b.GALLERY.BOTTOM]}),i}return u()(n,[{key:"componentDidMount",value:function(){Object(j.c)("keydown",this.onKeyboardInteraction),Object(j.c)("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.post,n=e.post,r=this.state.renderMode,a=t.get("id");n.get("id")!==a&&this.setState({isExtended:!1}),r===Sn&&this.setState({renderMode:Nn})}},{key:"componentWillUnmount",value:function(){Object(j.mb)("keydown",this.onKeyboardInteraction),Object(j.mb)("resize",this.onResize)}},{key:"render",value:function(){var r=this,e=this.props,a=e.post,o=e.onMainContentReady,i=e.maxWidth,c=e.zoom,s=e.isWebPSupported,l=e.setMediaHeightForPostAction,t=this.state,n=t.isExtended,u=t.renderMode,d=a.get("media"),m=a.get("meta"),p=a.get("id"),f=a.get("title"),h=a.get("inGallery"),g=At()(M.q,1)[0],y=d.size,b=d;n||u!==Nn||(b=b.slice(0,z.c));var v=b.map(function(e){if(e.get("renderHeight"))return e.get("renderHeight");var t=0;return t=i>=e.get("width")?e.get("height"):i*e.get("height")/e.get("width"),e.get("isVideo")&&t>window.innerHeight&&(t*=.8),Math.ceil(t)}),C=b.map(function(e,t){var n=Object(L.b)(h,t+1,y)&&g<=i;return N.a.createElement(N.a.Fragment,{key:e.get("id")},N.a.createElement(In,{maxWidth:i,mediaItem:e,postMeta:m,onMediaReady:0===t?o:void 0,index:t,zoom:c,isWebPSupported:s,postId:p,setMediaHeightForPostAction:l,renderMode:u,mediaHeight:v.get(t),intersectionObserver:r.intersectionObserver,postTitle:f}),n&&N.a.createElement("div",{className:"Gallery-Content--ad"},N.a.createElement(On,{post:a,path:M.J,dimensions:M.q,viewPortWidth:i})))});return u===Sn?N.a.createElement(N.a.Fragment,null,C,!n&&d.size>z.c&&this.renderLoadMore(d.size-z.c)):N.a.createElement(N.a.Fragment,null,N.a.createElement(cn.a,{elementHeight:v.toJS(),useWindowAsScrollContainer:!0},C),!n&&d.size>z.c&&this.renderLoadMore(d.size-z.c))}}]),n}(N.a.Component),wn=Object(T.b)(function(e){var t=e.ui,n=e.agent;return{maxWidth:t.gallery.get("contentWrapperWidth"),isWebPSupported:n.get(pn.s)}},{onLoadMore:ke.lb,onMainContentReady:ke.mb,zoom:sn.b,setMediaHeightForPostAction:ke.Jb,resetMediaHeightForPostAction:ke.xb,addVideoToViewListAction:ln.i,removeVideoFromViewListAction:ln.j})(qn),In=function(e){d()(n,e);var t=Pn(n);function n(e){var o;return l()(this,n),o=t.call(this,e),P()(f()(o),"setHeight",function(){var e=o.props,t=e.setMediaHeightForPostAction,n=e.postId,r=e.mediaItem,a=e.index;r.get("renderHeight")!==o.mediaContainer.current.offsetHeight&&t(n,a,o.mediaContainer.current.offsetHeight)}),o.mediaContainer=N.a.createRef(),o}return u()(n,[{key:"componentDidMount",value:function(){this.setHeight()}},{key:"componentDidUpdate",value:function(){this.setHeight()}},{key:"render",value:function(){var e=this.props,t=e.mediaItem,n=e.onMediaReady,r=e.index,a=e.maxWidth,o=e.zoom,i=e.isWebPSupported,c=e.renderMode,s=e.mediaHeight,l=e.intersectionObserver,u=e.postTitle,d=t.toJS(),m=d.id,p=d.isVideo,f=d.meta,h=d.src,g=d.animationType,y=d.url,b=d.width,v=d.height,C=d.isPicsart,E=Object(vn.a)(a,b,v),O=ge()({"Gallery-Content--media":!0,"Gallery-Content--unconstrained":!Object(vn.b)(b,v)}),k=h.coverImage;return i&&g===z.s&&(k=h.webPImage),N.a.createElement("div",{ref:this.mediaContainer,className:"Gallery-Content--mediaContainer"},N.a.createElement("div",{className:O},c===Sn&&N.a.createElement("div",{style:{height:s}}),c!==Sn&&(p?N.a.createElement(mn.a,{src:h,animationType:g,playVideo:!1,playVideoByOne:!0,handleCanPlay:n,onError:n,controls:!0,hash:m,isFirst:0===r,width:b,height:v,maxHeight:E,title:f.title,index:r,intersectionObserver:l}):N.a.createElement(dn.a,{hash:m,thumbSrc:k,originalSrc:y,onLoad:n,onError:n,withOriginalImage:!0,width:b,height:v,maxHeight:E,zoom:o,title:f.title,index:r,poweredBy:C&&Object(_.b)("poweredByPicsart"),postTitle:u}))),f.description&&N.a.createElement(Tn,{description:t.getIn(["meta","description"]),textAnnotations:t.getIn(["meta","text_annotations"])}))}}]),n}(N.a.Component);function Tn(e){var t,n=e.description,r=e.textAnnotations;return t=r?N.a.createElement("div",{dangerouslySetInnerHTML:function(e,t){var n=e.split("");return{__html:t.filter(function(e,t){return t in yn}).reduce(function(r,e,a){return e.forEach(function(e){var t=e.get("indices").get(0),n=e.get("indices").get(1)-1;switch(yn[a]){case hn:return r[t]="<".concat(hn,' target="_blank" href="').concat(bn[a](e),'">').concat(r[t]),void(r[n]="".concat(r[n],"</").concat(hn,">"));case gn:r[t]="<".concat(gn," ").concat(bn[a](e),"></").concat(gn,">")}}),r},n).join("")}}(n,r)}):N.a.createElement(un.a,null,n),N.a.createElement("div",{className:"Gallery-Content--descr"},t)}qn.defaultProps={onMediaReady:function(){}},jn.__docgenInfo={description:"",methods:[],displayName:"GalleryPostContent",props:{post:{type:{name:"object"},required:!0,description:""}}},qn.__docgenInfo={description:"",methods:[{name:"loadMore",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"onResize",docblock:null,modifiers:[],params:[],returns:null},{name:"handleIntersection",docblock:null,modifiers:[],params:[{name:"entries",optional:!1,type:null}],returns:null},{name:"renderLoadMore",docblock:null,modifiers:[],params:[{name:"count",optional:!1,type:null}],returns:null}],displayName:"PostDefaultView",props:{onMediaReady:{defaultValue:{value:"() => {}",computed:!1},required:!1},post:{type:{name:"object"},required:!0,description:""},onLoadMore:{type:{name:"func"},required:!0,description:""},onMainContentReady:{type:{name:"func"},required:!0,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},setMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},resetMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},addVideoToViewListAction:{type:{name:"func"},required:!0,description:""},removeVideoFromViewListAction:{type:{name:"func"},required:!0,description:""}}},In.__docgenInfo={description:"",methods:[{name:"setHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDefaultViewMedia",props:{mediaItem:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onMediaReady:{type:{name:"func"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},setMediaHeightForPostAction:{type:{name:"func"},required:!0,description:""},renderMode:{type:{name:"number"},required:!0,description:""},mediaHeight:{type:{name:"number"},required:!1,description:""},intersectionObserver:{type:{name:"object"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""}}},Tn.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewDescription",props:{description:{type:{name:"string"},required:!0,description:""},textAnnotations:{type:{name:"object"},required:!1,description:""}}};n("yzGh");function An(e){var t=e.backgroundHash,n=e.children,r=e.tagLink,a=e.onClick,o="linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(".concat(me.W,"/").concat(t,"_d.jpg?maxwidth=200&fidelity=grand)");return N.a.createElement(je.b,{className:"TagPill",to:r,style:{background:o},onClick:a},n)}function Dn(e){var t=e.tags,n=e.onTagInteracted,r=e.isMainContentReady;return N.a.createElement("div",{className:"Gallery-Content--tags"},r&&t.map(function(e){var t=e.get("tag");return N.a.createElement(An,{key:t,backgroundHash:e.get("background_id"),tagLink:"/t/".concat(t),onClick:function(){return n(t)}},e.get("display")||e.get("tag"))}))}An.defaultProps={onClick:function(){}};Dn.__docgenInfo={description:"",methods:[],displayName:"GalleryTags",props:{tags:{type:{name:"object"},required:!0,description:""},onTagInteracted:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!(An.__docgenInfo={description:"",methods:[],displayName:"TagPill",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},backgroundHash:{type:{name:"string"},required:!1,description:""},tagLink:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1,description:""}}}),description:""}}};var Rn=Object(T.b)(function(e){return{isMainContentReady:!!e.postsData.get("isMainContentReady")}},{onTagInteracted:ke.pb})(Dn),xn=n("wKGW");n("5e9/");function Mn(e){var t=e.title,n=e.icon,r=e.stat,a=e.text,o=e.link,i=N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:"OPStats-title"},t),N.a.createElement("div",{className:"OPStats-icon"},n),r&&N.a.createElement("div",{className:"OPStats-stat"},Object(Xe.i)(r)),N.a.createElement("div",{className:"OPStats-text"},a));return o?N.a.createElement(je.a,{to:{pathname:o},target:"_blank",className:"OPStats-card"},i):N.a.createElement("div",{className:"OPStats-card"},i)}function Fn(e){var t=e.score,n=e.seed,r="",a="",o="";return o=t<=5?(r="https://blog.imgur.com/2015/05/20/how-to-reach-the-front-page/",a=Object(_.b)("opStatsTipsNoobLabel"),Object(_.b)("opStatsTipsNoobText",n)):(a=Object(_.b)("opStatsTipsMasterLabel"),Object(_.b)("opStatsTipsMasterText",n)),N.a.createElement(Mn,{title:a,icon:N.a.createElement(Pe.eb,{name:Pe.F,width:"29",height:"29"}),text:o,link:r})}function _n(e){var t=e.tags,n=e.hash,r=e.isAlbum,a=e.score,o=e.seed,i=t.get(o%t.size),c="",s=!1;return 0===t.size?(c="/".concat(r?"a/":"").concat(n),s=!0):i&&5<=a&&(c="/t/".concat(i),s=!0),s?N.a.createElement(Mn,{title:Object(_.b)("opStatsTagsLabel",t.size),icon:N.a.createElement(Pe.eb,{name:Pe.E,width:"29",height:"29"}),text:Object(_.b)("opStatsTagsText",t.size,i,o),link:c}):null}function Gn(e){var t=e.post,n=e.postMeta,r=e.isFavoritedByOP;if(!t||!n)return null;var a=Object(Qe.m)(t.get("createdAt")),o=new Date(t.get("createdAt")).getTime(),i=r?1:0,c=0<n.get("favorite_count")-i,s=null;return s=a<15?N.a.createElement(Mn,{title:Object(_.b)("opStatsTipsNewLabel"),icon:N.a.createElement(Pe.eb,{name:Pe.F,width:"29",height:"29"}),text:Object(_.b)("opStatsTipsNewText")}):N.a.createElement(N.a.Fragment,null,0<n.get("view_count")&&N.a.createElement(Mn,{title:Object(_.b)("opStatsViewsLabel"),icon:N.a.createElement(Pe.eb,{name:Pe.w,width:"29",height:"29"}),stat:n.get("view_count"),text:Object(_.b)("opStatsViewsText",o)}),N.a.createElement(Fn,{score:n.get("point_count"),seed:o}),1<n.get("upvote_count")&&N.a.createElement(Mn,{title:Object(_.b)("opStatsUpvotesLabel"),icon:N.a.createElement(Pe.eb,{name:Pe.H,width:"29",height:"29",fillColor:xn.$darkMintGreen,strokeColor:xn.$darkMintGreen}),stat:n.get("upvote_count"),text:Object(_.b)("opStatsUpvotesText",o)}),c&&N.a.createElement(Mn,{title:Object(_.b)("opStatsFavoritesLabel"),icon:N.a.createElement(Pe.eb,{name:Pe.p,width:"29",height:"29",fillColor:xn.$tealish,strokeColor:xn.$tealish}),stat:n.get("favorite_count"),text:Object(_.b)("opStatsFavoritesText",n.get("favorite_count"),o)}),0<n.get("comment_count")&&N.a.createElement(Mn,{title:Object(_.b)("opStatsCommentsLabel"),icon:N.a.createElement(Pe.eb,{name:Pe.f,width:"29",height:"29",fillColor:xn.$lavender,strokeColor:xn.$lavender}),stat:n.get("comment_count"),text:Object(_.b)("opStatsCommentsText",o)}),N.a.createElement(_n,{tags:t.get("tags").map(function(e){return e.get("tag")}),hash:t.get("id"),isAlbum:t.get("isAlbum"),score:n.get("point_count"),seed:o}),t.get("inMostViral")&&N.a.createElement(Mn,{title:Object(_.b)("opStatsViralLabel"),icon:N.a.createElement(Pe.eb,{name:Pe.I,width:"29",height:"29"}),text:Object(_.b)("opStatsViralText",o)})),N.a.createElement("div",null,N.a.createElement("h3",{className:"OPStats-header"},Object(_.b)("opStatsTitle")),N.a.createElement("div",{className:"OPStats"},s))}Gn.__docgenInfo={description:"",methods:[],displayName:"OPStats",props:{post:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},isFavoritedByOP:{type:{name:"bool"},required:!1,description:""}}};var Ln=Object(T.b)(function(e){var t=e.postsData;return{post:t.get("currentPost"),postMeta:t.getIn(["currentPostMeta","post"]),isFavoritedByOP:t.getIn(["currentPostMeta","user","favorite"],!1)}},{})(Gn);function Vn(e){var t=e.post,n=e.unfilledAdSenseCallback;return N.a.createElement("div",{className:"Gallery-Content-AdSense"},N.a.createElement(St.a,{postAdConfig:t.get("adConfig"),path:M.c,selectedProvider:de.a,unfilledAdSenseCallback:n}))}Mn.__docgenInfo={description:"",methods:[],displayName:"StatCard",props:{title:{type:{name:"string"},required:!0,description:""},icon:{type:{name:"element"},required:!0,description:""},stat:{type:{name:"number"},required:!1,description:""},text:{type:{name:"node"},required:!0,description:""},link:{type:{name:"string"},required:!1,description:""}}},Vn.__docgenInfo={description:"",methods:[],displayName:"GalleryContentAdSense",props:{post:{type:{name:"object"},required:!0,description:""},unfilledAdSenseCallback:{type:{name:"func"},required:!(_n.__docgenInfo={description:"",methods:[],displayName:"TagCard",props:{tags:{type:{name:"object"},required:!0,description:""},hash:{type:{name:"string"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!(Fn.__docgenInfo={description:"",methods:[],displayName:"TipsAndTricksCard",props:{score:{type:{name:"number"},required:!0,description:""},seed:{type:{name:"number"},required:!0,description:""}}}),description:""},score:{type:{name:"number"},required:!0,description:""},seed:{type:{name:"number"},required:!0,description:""}}}),description:""}}};n("y/VL");function Un(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Bn=function(e){d()(a,e);var r=Un(a);function a(e){var t;l()(this,a),t=r.call(this,e),P()(f()(t),"unfilledAdSenseCallback",function(){t.setState({shouldShowAdSense:!1})});var n=e.post;return t.state={shouldShowAdSense:Object(L.c)(n)},t}return u()(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.post,n=e.post;t.get("id")!==n.get("id")&&this.setState({shouldShowAdSense:Object(L.c)(t)})}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.transformationTitleStyle,r=e.isOwner,a=e.contentWidth,o=this.state.shouldShowAdSense,i=t.get("tags"),c=At()(M.q,1)[0],s=!o&&c<=a;return N.a.createElement("div",{className:"Gallery-Content"},N.a.createElement(an,{post:t,transformationTitleStyle:n}),N.a.createElement(jn,{post:t}),i&&!!i.size&&N.a.createElement(Rn,{tags:i}),r&&N.a.createElement(Ln,null),o&&N.a.createElement(Vn,{post:t,unfilledAdSenseCallback:this.unfilledAdSenseCallback}),s&&N.a.createElement("div",{className:"Gallery-Content-BottomAd"},N.a.createElement(On,{post:t,path:M.E,dimensions:M.q,viewPortWidth:a})))}}]),a}(N.a.Component);Bn.__docgenInfo={description:"",methods:[{name:"unfilledAdSenseCallback",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryContent",props:{post:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},contentWidth:{type:{name:"number"},required:!1,description:""}}};var Hn=Object(T.b)(function(e){return{contentWidth:e.ui.gallery.get("contentWrapperWidth")}},null)(Bn),Wn=n("KmZl"),zn=n("A9fp"),Yn=n("fcmQ");n("wT/c");function Kn(e){var t=e.key,n=e.postId,r=e.cover,a=e.title,o=e.gallerySize,i=e.isPromoted,c=e.onMouseEnter,s=e.onMouseLeave,l=e.onClick,u=e.isActive,d=e.isAnnouncement;return N.a.createElement(Ie,{className:"SidebarPost".concat(u?" active":""),onMouseEnter:c,onMouseLeave:s,onClick:function(){l(i,o,t)},postId:n},N.a.createElement("div",{className:"hover-bg"}),N.a.createElement("div",{className:"Thumbnail"},1<o&&N.a.createElement("span",{className:"counter"},o),N.a.createElement("img",{src:r,loading:"lazy",width:64,height:64})),N.a.createElement("div",{className:"description"},i&&N.a.createElement(Ee,{isAnnouncement:d}),N.a.createElement("span",{className:"label"},Object(Xe.p)(a,z.E))))}function Jn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}Kn.__docgenInfo={description:"",methods:[],displayName:"SidebarPost",props:{key:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},cover:{type:{name:"string"},required:!1,description:""},gallerySize:{type:{name:"number"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},onMouseEnter:{type:{name:"func"},required:!1,description:""},onMouseLeave:{type:{name:"func"},required:!1,description:""},isActive:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var Xn=function(e){d()(r,e);var n=Jn(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"handleAdUpdate",function(){(0,t.props.handleAdUpdate)(t.container.current.clientHeight)}),t.callback=t.callback.bind(f()(t)),t.state={show:!1},t.container=N.a.createRef(),t.mutationObserver=new MutationObserver(t.handleAdUpdate.bind(f()(t))),t.resizeObserver=new ResizeObserver(t.handleAdUpdate.bind(f()(t))),t}return u()(r,[{key:"componentDidMount",value:function(){this.mutationObserver.observe(this.container.current,{childList:!0,subtree:!0,attributes:!0}),this.resizeObserver.observe(this.container.current)}},{key:"componentDidUpdate",value:function(){this.handleAdUpdate()}},{key:"componentWillUnmount",value:function(){this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.classNames,a=n.postId,o=n.adsEnabled;return this.state.show!==t.show||r!==e.classNames||a!==e.postId||o!==e.adsEnabled}},{key:"callback",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this.props.classNames,t=ge()(e,{"hide!":!this.state.show});return N.a.createElement("div",{ref:this.container,className:t},N.a.createElement(St.a,{adsEnabled:this.props.adsEnabled,path:this.props.slotPath,postAdConfig:this.props.postAdConfig,refresh:!0,slotTargeting:this.props.slotTargeting,callback:this.callback}))}}]),r}(N.a.Component);function Qn(e){var t=e.postId,n=e.adConfig,r=e.adsEnabled,a=e.targeting,o=e.viewportHeight>=Wn.$sidebar600adMinHeightToShow;return N.a.createElement(Xn,{postId:t,slotPath:o?M.G:M.H,postAdConfig:n,adsEnabled:r,slotTargeting:a,classNames:ge()("ad-slot",{Top300x600:o,Top320:!o})})}Xn.defaultProps={handleAdUpdate:function(){}},Xn.__docgenInfo={description:"",methods:[{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"handleAdUpdate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SidebarAd",props:{handleAdUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},slotPath:{type:{name:"number"},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},slotTargeting:{type:{name:"object"},required:!1,description:""},classNames:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""}}},Qn.__docgenInfo={description:"",methods:[],displayName:"SidebarResponsiveAd",props:{postId:{type:{name:"string"},required:!0,description:""},adConfig:{type:{name:"object"},required:!0,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},targeting:{type:{name:"object"},required:!0,description:""},viewportHeight:{type:{name:"number"},required:!0,description:""}}};var Zn=Qn,$n=n("enaV"),er=n("vuO0"),tr=n("ukqn");function nr(e){var t=e.isIncludeIcon,n=e.copy;return N.a.createElement(N.a.Fragment,null,t&&N.a.createElement("span",{role:"img","aria-label":"fire",className:"emoji"},"🔥"),n)}function rr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}nr.__docgenInfo={description:"",methods:[],displayName:"TitleComponent",props:{isIncludeIcon:{type:{name:"bool"},required:!1,description:""},copy:{type:{name:"any"},required:!0,description:""}}};function ar(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var or=n("KhJ6"),ir=n("lQn5");function cr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function sr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function lr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ur(s){return function(e){d()(n,e);var t=lr(n);function n(e){var c;return l()(this,n),c=t.call(this,e),P()(f()(c),"recognizeRenderComponent",function(){var e=c.props,t=e.streamSection,n=e.match.params,r=e.history,a=e.setRecircSortType,o=e.searchQuery;if(n.tagName)c.setState({Component:function(o){var e=function(e){d()(r,e);var t=ar(r);function r(e){var n;return l()(this,r),n=t.call(this,e),P()(f()(n),"TitleComponent",function(){var e=n.state.sort,t=n.props.streamDisplayName;return N.a.createElement(nr,{copy:Object(_.b)("recircTitleTag".concat(e),Object(Xe.q)(t,24)),isIncludeIcon:e===F.A})}),n.state={Component:null,sort:F.A},n}return u()(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSort,a=e.history;this.setState({Component:Object(er.a)(!(n&&n.size&&"PUSH"===a.action),!1,!1)(function(e){return N.a.createElement(o,p()({Title:t.TitleComponent},e))}),sort:F.O[F.C].includes(r)?r:F.A})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.match.params.tagName,r=t.setInitialGalleryState;return N.a.createElement(e,{setGalleryParams:function(){return r(Object($n.d)(n))}})}}]),r}(N.a.Component);e.displayName="WithSidebarTagHOC(".concat(Object(tr.b)(o),")");return Object(Oe.d)(Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSort:n.get("streamSort"),streamDisplayName:n.get("streamDisplayName")}},{setInitialGalleryState:x.S}),C.h)(e)}(s)}),a(z.H.TAG);else if((n.username||Object(j.w)().startsWith("/account/favorites/"))&&n.galleryId)c.setState({Component:function(c){var e=function(e){d()(r,e);var n=cr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"getCopyTitle",function(){return N.a.createElement(N.a.Fragment,null,N.a.createElement("span",null,t.props.username||t.props.match.params.username),Object(_.b)("recircTitleFavorites"))}),P()(f()(t),"TitleComponent",function(){return N.a.createElement(nr,{copy:t.getCopyTitle(),isIncludeIcon:!1})}),t.state={Component:null},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.match.params,a=e.history,o=e.isFoldersFetched,i=e.isOwner;o||(i?this.props.fetchFolders():this.props.fetchPublicFolders(r.username)),this.setState({Component:Object(ir.a)(!(n&&n.size&&"PUSH"===a.action))(function(e){return N.a.createElement(c,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.username,r=t.isOwner,a=t.isLoggedIn;return N.a.createElement(e,{username:n,isOwner:r,isLoggedIn:a})}}]),r}(N.a.Component);e.displayName="WithSidebarFavoriteHOC(".concat(Object(tr.b)(c),")");return Object(Oe.d)(C.h,Object(T.b)(function(e,t){var n=e.posts,r=e.favorites,a=e.account,o=e.user,i=t.match,c=t.history,s=Object(or.a)(o,a,c,i);return{posts:n.get("posts"),username:s,isOwner:o.get("username")===s,isFoldersFetched:r.get("isFoldersFetched"),isLoggedIn:!!o.get("isLoggedIn")}},{fetchPublicFolders:pt.s,fetchFolders:pt.q}))(e)}(s)}),a(z.H.FAVORITE);else if(o&&"POP"===r.action)c.setState({Component:function(a){var e=function(e){d()(r,e);var n=sr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"TitleComponent",function(){return N.a.createElement(nr,{copy:Object(_.b)("recircTitleSearch",Object(Xe.q)(t.props.searchQuery,24)),isIncludeIcon:!1})}),t.state={Component:null},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState({Component:Object(er.a)(!0,!1,!1)(function(e){return N.a.createElement(a,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?N.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object($n.c)(e.props.searchQuery))}}):null}}]),r}(N.a.Component);e.displayName="WithSidebarSearchHOC(".concat(Object(tr.b)(a),")");return Object(Oe.d)(Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),searchQuery:n.get("searchQuery")}},{setInitialGalleryState:x.S}),C.h)(e)}(s)}),a(z.H.SEARCH);else{var i=z.H.MOST_VIRAL;switch(t){case F.H:i=z.H.USER_SUB;break;case F.F:i=z.H.TOP_GALLERY}a(i),c.setState({Component:function(i){var e=function(e){d()(n,e);var t=rr(n);function n(e){var a;return l()(this,n),a=t.call(this,e),P()(f()(a),"getTitleCopy",function(){var e=a.props,t=e.streamSection,n=e.streamSort,r=e.streamWindow;return t===F.F?Object(_.b)("recircTitle".concat(t).concat(r)):[F.H,F.r,F.t].includes(t)?Object(_.b)("recircTitle".concat(t).concat(n)):Object(_.b)("recircTitle".concat(F.r).concat(F.A))}),P()(f()(a),"TitleComponent",function(){return N.a.createElement(nr,{copy:a.getTitleCopy(),isIncludeIcon:a.props.streamSort===F.A&&a.props.streamSection!==F.F})}),a.state={Component:null},a}return u()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSection,a=e.history,o=!(n&&n.size&&[F.F,F.H,F.r,F.t].includes(r)&&"PUSH"===a.action);this.setState({Component:Object(er.a)(o,!1,!1)(function(e){return N.a.createElement(i,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?N.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object($n.b)())},location:M.g}):null}}]),n}(N.a.Component);e.displayName="WithSidebarHPHOC(".concat(Object(tr.b)(i),")");return Object(Oe.d)(Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),streamSort:n.get("streamSort"),streamWindow:n.get("streamWindow")}},{setInitialGalleryState:x.S}),C.h)(e)}(s)})}}),c.state={Component:null},c}return u()(n,[{key:"componentDidMount",value:function(){this.recognizeRenderComponent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.posts;e.posts.size&&!t.size&&this.recognizeRenderComponent()}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;return e?N.a.createElement(e,null):null}}]),n}(N.a.Component)}var dr=n("Ywtv");function mr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var pr=function(e){d()(r,e);var n=mr(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).impressionTimer=null,t.iframeRef=null,t.writeIframe=t.writeIframe.bind(f()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=t.promotedPostProxyPixelAction;if(n){var a=n.impressionUrl;a&&(this.impressionTimer=Object(j.xb)(function(){e.iframeRef&&Object(ee.c)(e.iframeRef)&&(Object(j.X)()&&Object(Yn.m)(a)?r(a):Object(Yn.c)(a),Object(j.h)(e.impressionTimer))},800))}}},{key:"componentWillUnmount",value:function(){Object(j.h)(this.impressionTimer)}},{key:"writeIframe",value:function(e){if(e){this.iframeRef=e;var t,n,r,a,o=this.props.data,i=e.contentDocument;switch(Object(dr.a)(o,"contents.0.data.customData.adType")){case"hash":case"native":n="".concat(me.W,"/").concat(Object(dr.a)(o,"contents.0.data.customData.hash"),".jpg"),r=Object(dr.a)(o,"contents.0.data.customData.link"),a=Object(dr.a)(o,"contents.0.data.customData.title"),t='<a href="'.concat(r,'" rel="nofollow" target="_blank" title="').concat(a,'"><img src="').concat(n,'" title="').concat(a,'" alt="').concat(a,'" border="0" width="300" height="250"></a>');break;case"html":t=Object(dr.a)(o,"contents.0.data.customData.html");break;default:t=Object(dr.a)(o,"contents.0.body")}i.open(),i.write(t),i.close()}}},{key:"render",value:function(){return this.props.data?N.a.createElement("div",{className:"Top320 MedRec ad-slot"},N.a.createElement("iframe",{ref:this.writeIframe,className:"Gallery-Sidebar-CompanionAd",title:"companion ad",width:"300",height:"250",marginWidth:"0",marginHeight:"0",hspace:"0",vspace:"0",scrolling:"no",frameBorder:"0",seamless:"seamless",sandbox:"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"})):null}}]),r}(N.a.Component);pr.__docgenInfo={description:"",methods:[{name:"writeIframe",docblock:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML\n@param {node} frame",modifiers:[],params:[{name:"frame",description:null,type:{name:"node"},optional:!1}],returns:null,description:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML"}],displayName:"CompanionAd",props:{data:{type:{name:"object"},required:!1,description:""},promotedPostProxyPixelAction:{type:{name:"func"},required:!0,description:""}}};var fr=Object(T.b)(null,{promotedPostProxyPixelAction:ke.qb})(pr);n("7TkL");function hr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var gr=Wn.$recircElmHeight+Wn.$recircElmMargin;var yr=function(e){d()(n,e);var t=hr(n);function n(e){var o;return l()(this,n),o=t.call(this,e),P()(f()(o),"getElementHeights",function(){var e=o.props.postOrder,t=o.state.elementHeights;return e.size===t.length?t:Array(e.size).fill(gr)}),P()(f()(o),"scrollToCurrentPost",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(o.postsComp&&o.postsComp.scrollable&&0<=o.props.postIndex){var t=o.props.postIndex*gr-o.postsComp.scrollable.scrollTop;if(!t)return;if(Math.abs(t)>4*gr)o.postsComp.scrollable.classList[e?"remove":"add"]("without-smoothScroll"),o.postsComp.scrollable.scrollTop=o.props.postIndex*gr;else{o.postsComp.scrollable.classList.add("without-smoothScroll");var n=o.postsComp.scrollable.firstChild;n.addEventListener("transitionend",o.onTransitionEnd),n.style.transform="translate(0, ".concat(-1*t,"px)"),n.classList.add("scroll")}}}),P()(f()(o),"onTransitionEnd",function(e){var t=o.postsComp.scrollable.firstChild;e.target===t&&(o.postsComp.scrollable.scrollTop=o.props.postIndex*gr,t.style.transform="translate(0, 0)",t.classList.remove("scroll"),t.removeEventListener("transitionend",o.onTransitionEnd))}),P()(f()(o),"handlePostClick",function(e,t){var n=o.props,r=n.setCurrentPostIndexAction,a=n.recircSortType;r(t),o.props.postRecircInteractedAnalytics(t+1,e,Yn.n[a],null,o.shouldRenderAds())}),P()(f()(o),"updateElementHeight",function(n,r){o.setState(function(e){var t=e.elementHeights;return t[n]=r,{elementHeights:t}})}),P()(f()(o),"handleTopAdUpdate",function(e){o.setState({topAdClassNames:ge()({Top320:!0,MedRec:250<=e,"ad-slot":!0})})}),o.postsComp=N.a.createRef(),o.sidebarWrapper=N.a.createRef(),o.state={elementHeights:[],topAdClassNames:"Top320 ad-slot"},o}return u()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.posts,r=t.postOrder,a=this.state.elementHeights;(!e.posts.size&&n.size||e.postIndex!==this.props.postIndex||e.isMainContentReady!==this.props.isMainContentReady)&&this.scrollToCurrentPost(0<=e.postIndex&&e.isMainContentReady),r.size!==a.length&&this.setState({elementHeights:this.getElementHeights()})}},{key:"componentWillUnmount",value:function(){(0,this.props.setCurrentPostIndexAction)(-1)}},{key:"currentPost",value:function(){var e=this.props,t=e.posts,n=e.post,r=n&&n.get("id");return t.get(r)||n}},{key:"shouldRenderAds",value:function(){var e=this.props,t=e.adsEnabled,n=e.posts,r=e.isLoading,a=this.currentPost();return t&&a&&!a.get("isAd")&&!r&&n&&1<n.size}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.topAdClassNames,r=this.props,a=r.postOrder,o=r.isLoading,i=r.post,c=r.postIndex,s=r.isMainContentReady,l=r.transformationEnabled,u=i&&i.get("id"),d=e.post&&e.post.get("id");return e.postOrder!==a||e.isLoading!==o||u!==d||e.postIndex!==c||e.isMainContentReady!==s||t.topAdClassNames!==n||e.transformationEnabled!==l}},{key:"render",value:function(){var r=this,e=this.props,t=e.post,a=e.posts,n=e.postOrder,o=e.moreDataFetch,i=e.isLoading,c=e.adsEnabled,s=e.Title,l=e.isWebPSupported,u=e.recircItemCount,d=e.streamSection,m=e.streamSort,p=e.viewportHeight,f=this.state.topAdClassNames,h={},g={},y=!0,b=this.currentPost();b&&(h=b.get("adConfig"),g=Object(qe.j)(b,d,m),y=!Object(qe.l)(b));var v=this.props.isMainContentReady&&t&&0<n.size&&y,C=this.getElementHeights(),E=this.shouldRenderAds();return N.a.createElement("div",{ref:this.sidebarWrapper,className:"Gallery-Sidebar-Wrapper"},N.a.createElement("div",{className:"Top Sticky"},E&&N.a.createElement(Xn,{postId:this.props.post.get("id"),slotPath:M.P,postAdConfig:h,adsEnabled:c,slotTargeting:g,classNames:f,handleAdUpdate:this.handleTopAdUpdate}),b&&b.get("isAd")&&N.a.createElement(fr,{data:b.get("adSource",{}).sponsored_companion}),y&&N.a.createElement("h3",null,N.a.createElement(je.a,{to:"/".concat(W.o)},N.a.createElement(s,null))),N.a.createElement("div",{className:"Gallery-Sidebar-Posts-Wrapper"},v&&N.a.createElement(cn.a,{containerHeight:Wn.$recircItemHeight*u,elementHeight:C,className:"Gallery-Sidebar-posts Scrollbar--gray",onInfiniteLoad:o,isInfiniteLoading:i,infiniteLoadBeginEdgeOffset:200,ref:function(e){r.postsComp=e},loadingSpinnerDelegate:N.a.createElement(It.a,{size:30})},n.map(function(e,t){var n=a.get(e.get("postId"));return N.a.createElement(vr,{key:t,setHeight:function(e){return r.updateElementHeight(t,e)},index:t,height:C[t]},N.a.createElement(Kn,{key:t,postId:n.get("id"),cover:function(e,t){var n="".concat(me.W,"/").concat(t);return n+=e?"_d.".concat(zn.d,"?maxwidth=").concat(zn.c,"&shape=thumb"):"b.".concat(zn.b)}(l,n.getIn(["cover","id"])||n.get("id")),title:n.get("title"),gallerySize:n.get("imageCount"),isPromoted:n.get("isAd"),onClick:function(){return r.handlePostClick(n,t)},isActive:n.get("id")===b.get("id"),isAnnouncement:n.get("isAnnouncement")}))})),v&&N.a.createElement("div",{className:"fade-out"})),E&&N.a.createElement(Zn,{postId:b.get("id"),adConfig:h,adsEnabled:c,targeting:g,viewportHeight:p})))}}]),n}(N.a.Component);yr.defaultProps={Title:function(){return""}};yr.__docgenInfo={description:"",methods:[{name:"getElementHeights",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToCurrentPost",docblock:null,modifiers:[],params:[{name:"isSmoothScroll",type:null}],returns:null},{name:"onTransitionEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"currentPost",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldRenderAds",docblock:null,modifiers:[],params:[],returns:null},{name:"handlePostClick",docblock:null,modifiers:[],params:[{name:"post",type:null},{name:"index",type:null}],returns:null},{name:"updateElementHeight",docblock:null,modifiers:[],params:[{name:"index",type:null},{name:"height",type:null}],returns:null},{name:"handleTopAdUpdate",docblock:null,modifiers:[],params:[{name:"elementHeight",type:null}],returns:null}],displayName:"GallerySidebar",props:{Title:{defaultValue:{value:"() => ''",computed:!1},type:{name:"func"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},postRecircInteractedAnalytics:{type:{name:"func"},required:!0,description:""},setCurrentPostIndexAction:{type:{name:"func"},required:!0,description:""},posts:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},postOrder:{type:{name:"object"},required:!1,description:""},postIndex:{type:{name:"number"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},recircItemCount:{type:{name:"number"},required:!0,description:""},transformationEnabled:{type:{name:"bool"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""},viewportHeight:{type:{name:"number"},required:!0,description:""}}};var br=Object(Oe.d)(function(e){return Object(Oe.d)(C.h,Object(T.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),searchQuery:n.get("searchQuery")}},{setRecircSortType:ke.Mb}))(ur(e))},Object(T.b)(function(e){var t=e.postsData,n=e.posts,r=e.ad,a=e.gallery,o=e.user,i=e.agent,c=e.display;return{post:t.get("currentPost"),postIndex:t.get("currentPostIndex"),recircSortType:t.get("recircSortType"),posts:n.get("posts"),postOrder:n.get("postOrder"),adsEnabled:Object(de.g)(r,o),isMainContentReady:t.get("isMainContentReady"),isLoading:a.get("isFetching"),isWebPSupported:i.get(pn.s),recircItemCount:o.getIn(["subscription","isSubscribed"])||o.get("hasPaid")?z.F:z.G,transformationEnabled:r.getIn(["transformation","enabled"]),streamSection:a.get("streamSection"),streamSort:a.get("streamSort"),viewportHeight:c.getIn(["viewPort","height"])}},{postRecircInteractedAnalytics:ke.ob,setCurrentPostIndexAction:ke.Ib}))(yr),vr=function(e){d()(r,e);var n=hr(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).node=N.a.createRef(),t.state={height:t.props.height},t}return u()(r,[{key:"componentDidUpdate",value:function(){var e=Math.round(this.node.getBoundingClientRect().height);this.state.height!==e&&(this.setState({height:e}),this.props.setHeight(e))}},{key:"render",value:function(){var t=this;return N.a.createElement("div",{ref:function(e){t.node=e},className:"Gallery-Sidebar-PostContainer"},this.props.children)}}]),r}(N.a.Component);vr.__docgenInfo={description:"",methods:[],displayName:"SideBarPostContainer",props:{children:{type:{name:"node"},required:!0,description:""},setHeight:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}};function Cr(e){var t=e.accolades,n=e.title,r=e.body,a=e.buttonText,o=e.onButtonClick,i=e.className,c=t.map(function(e){return N.a.createElement("img",{key:e.id,className:"AccoladesTooltip-accoladeIcon",src:e.get("image_url")})}),s=ge()(P()({AccoladesTooltip:!0},i,!0));return N.a.createElement("div",{className:s},c,N.a.createElement("div",{className:"AccoladesTooltip-title"},n),N.a.createElement("div",{className:"AccoladesTooltip-body"},r),N.a.createElement("button",{type:"button",className:"AccoladesTooltip-button",onClick:o},a))}var Er=n("kCKb"),Or=n("lJMb"),kr=n("gGMO"),Pr=n("pQSO");n("xsax");Cr.defaultProps={className:"",accolades:[],onButtonClick:function(){}},Cr.__docgenInfo={description:"",methods:[],displayName:"AccoladesTooltip",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},accolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},onButtonClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},body:{type:{name:"string"},required:!0,description:""},buttonText:{type:{name:"string"},required:!0,description:""}}};function Sr(e){function t(e){e.animationName==="".concat(i,"-animationend")&&(d(!1),h(!1))}var n,r=e.show,a=e.children,o=e.className,i=e.transitionName,c=Object(S.useRef)(null),s=Object(S.useState)(!1),l=At()(s,2),u=l[0],d=l[1],m=Object(S.useState)(!1),p=At()(m,2),f=p[0],h=p[1],g=Object(S.useState)(!1),y=At()(g,2),b=y[0],v=y[1];Object(S.useEffect)(function(){if(c.current)return c.current.addEventListener("animationend",t,!1),function(){c.current.removeEventListener("animationend",t,!1)}},[c]),Object(S.useLayoutEffect)(function(){r?d(!0):b&&(v(!1),h(!0))},[r]),Object(S.useLayoutEffect)(function(){u&&v(!0)},[u]);var C=ge()((n={Toggler:!0},P()(n,o,!0),P()(n,i,!0),P()(n,"Toggler-showing",u),P()(n,"".concat(i,"-visible"),b),P()(n,"".concat(i,"-hiding"),f),n));return N.a.createElement("div",{ref:c,className:C},a)}n("1O1r");Sr.__docgenInfo={description:"",methods:[],displayName:"Toggler",props:{show:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},transitionName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"element"},required:!0,description:""}}};function Nr(e){var t=e.showAccolades,n=e.onEmeraldClick,r=e.availableAccolades,a=e.accolades,o=e.currentUsername,i=e.inGallery,c=e.isEmerald;if(!t)return t;var s=Object(S.useState)(null),l=At()(s,2),u=l[0],d=l[1],m=Object(S.useState)(!1),p=At()(m,2),f=p[0],h=p[1],g=Object(S.useState)(!1),y=At()(g,2),b=y[0],v=y[1];function C(){return Object(j.eb)("?source=tooltip")}Object(S.useEffect)(function(){if(!c&&t&&i&&(null!=u&&(Object(j.i)(u),d(null)),f)){var e=Object(j.Ab)(function(){v(!0)},500);return function(){Object(j.i)(e),d(null)}}},[f,i]);var E,O,k=!(b||(E=a)&&0<E.size);return N.a.createElement(N.a.Fragment,null,b&&N.a.createElement("div",{className:"GalleryVote-modal"}),N.a.createElement("div",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){h(!1),v(!1)},className:ge()({"GalleryVote-accoladesButton":!0,"GalleryVote-accoladesAnimate":k,"GalleryVote-accoladesHighlight":b}),onClick:c?function(){return n(w.a.CLICKED_EMERALD)}:C},N.a.createElement("div",{className:ge()({item:!0,"item-single":!0,btn:!0,"btn-emerald":!0,"btn-emerald-highlight":b})},0===(O=a?Math.min(a.size,3):0)?N.a.createElement(Pe.eb,{className:"emerald-icon",name:Pe.n,width:"32",height:"32"}):N.a.createElement(N.a.Fragment,null,a.slice(0,3).map(function(e,t){return N.a.createElement("div",{key:t,className:ge()(P()({"accolade-icon":!0},"accolade-icon-".concat(O,"-").concat(t),!0))},N.a.createElement(at.a,{username:e.get("user_selected")?o:"",imageUrl:e.get("image_url"),imageName:e.get("name")}))}))),N.a.createElement("div",null,N.a.createElement("div",{className:"GalleryVote-accoladesBridge"},N.a.createElement(Sr,{show:b,className:"AccoladesButton-toggler",transitionName:"fader-right"},N.a.createElement(Cr,{accolades:r,title:Object(Ye.a)("accoladesTooltipTitle"),buttonText:Object(Ye.a)("accoladesTooltipBtnTxt"),className:"AccoladesButton-accoladesTooltip AccoladesTooltip-engagementTooltip",onButtonClick:C,body:Object(Ye.a)("accoladesTooltipBody")}))))))}Nr.__docgenInfo={description:"",methods:[],displayName:"AccoladeButton",props:{showAccolades:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!0,description:""},availableAccolades:{type:{name:"array"},required:!0,description:""},accolades:{type:{name:"object"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""}}};n("oSho");function jr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var qr=function(e){d()(r,e);var n=jr(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).state={isFade:!1},t.timeout=null,t.tooltipDelay=null,t}return u()(r,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.score,a=n.postId;e.score!==r&&e.postId===a&&(this.setState({isFade:!0}),this.timeout=Object(j.Ab)(function(){t.setState({isFade:!1})},150))}},{key:"render",value:function(){var e=this.props,t=e.vote,n=e.onVote,r=e.score,a=e.isFavorite,o=e.onFavorite,i=e.hidePoints,c=e.upvoteRef,s=e.downvoteRef,l=e.favoriteRef,u=e.showEmerald,d=e.isEmerald,m=e.onEmeraldClick,p=e.transformationStyle,f=e.onPointsClick,h=e.accolades,g=e.inGallery,y=e.currentUsername,b=e.availableAccolades,v=this.state.isFade,C={item:!0,score:!0,"score-upvoted":t===Je.b,"score-downvoted":t===Je.a,"score-fade":v},E=u&&g;return N.a.createElement("div",{className:ge()({GalleryVote:!0,"hidden-post":!g})},N.a.createElement(Nr,{showAccolades:E,onEmeraldClick:m,accolades:h,availableAccolades:b,currentUsername:y,inGallery:g,isEmerald:d}),N.a.createElement("div",{className:"GalleryVote-controls",style:p},g&&N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:"item btn btn-upvote",onClick:function(e){return n(e,t===Je.b?Je.c:Je.b)}},N.a.createElement(kr.b,{selected:t===Je.b,width:"32",height:"32",title:Object(_.b)("upvoteHint"),setRef:c})),!i&&N.a.createElement("div",{className:ge()(C),onClick:f},N.a.createElement("span",{title:Object(_.b)("scoreHint")},Object(Xe.j)(r))),N.a.createElement("div",{className:"item btn btn-downvote",onClick:function(e){return n(e,t===Je.a?Je.c:Je.a)}},N.a.createElement(kr.a,{selected:t===Je.a,width:"32",height:"32",title:Object(_.b)("downvoteHint"),setRef:s}))),N.a.createElement("div",{className:"item item-single btn btn-favorite GalleryVote-favorite",onClick:o},N.a.createElement(Pr.a,{selected:a,width:"32",height:"32",title:Object(_.b)("favoriteHint"),setRef:l}))))}}]),r}(N.a.Component);qr.defaultProps={vote:Je.c,onVote:function(){},score:0,isFaforite:!1,onFavorite:function(){},hidePoints:!1,showEmerald:!1,inGallery:!0},qr.__docgenInfo={description:"",methods:[],displayName:"GalleryVote",props:{vote:{defaultValue:{value:"VETO",computed:!0},type:{name:"enum",value:[{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0}]},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},score:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFaforite:{defaultValue:{value:"false",computed:!1},required:!1},onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},hidePoints:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showEmerald:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},inGallery:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},isFavorite:{type:{name:"bool"},required:!1,description:""},onPointsClick:{type:{name:"func"},required:!0,description:""},upvoteRef:{type:{name:"object"},required:!1,description:""},downvoteRef:{type:{name:"object"},required:!1,description:""},favoriteRef:{type:{name:"object"},required:!1,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},availableAccolades:{type:{name:"array"},required:!1,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""}}};var wr=n("P5Jw"),Ir=n("O39/"),Tr=n("ooTa");n("oAby");function Ar(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Dr=function(e){d()(a,e);var r=Ar(a);function a(){var o;l()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o=r.call.apply(r,[this].concat(t)),P()(f()(o),"facebook",function(){var e=o.props,t=e.onFacebookShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Tr.a)(),n,r,a,Ir.l)}),P()(f()(o),"twitter",function(){var e=o.props,t=e.onTwitterShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Tr.a)(),n,r,a,Ir.l)}),P()(f()(o),"reddit",function(){var e=o.props,t=e.onRedditShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Tr.a)(),n,r,a,Ir.l)}),P()(f()(o),"email",function(){var e=o.props,t=e.onEmailShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Tr.a)(),n,r,a,Ir.l)}),P()(f()(o),"link",function(){var e=o.props,t=e.onCopyLink,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(Tr.a)(),n,r,a,Ir.l)}),o}return u()(a,[{key:"render",value:function(){return N.a.createElement("div",{className:"Gallery-Share"},N.a.createElement(Ut.a,{className:"item Gallery-ShareMenu Dropdown--horizontal Dropdown--btn",dropdownIcon:N.a.createElement(Pe.eb,{name:Pe.A,width:"32",height:"32"})},N.a.createElement("label",null,"Share"),N.a.createElement("button",{type:"button",onClick:this.facebook},N.a.createElement(Pe.eb,{className:"icon icon-facebook",name:Pe.B,width:"32",height:"32",title:Object(_.b)("facebook")})),N.a.createElement("button",{type:"button",onClick:this.twitter},N.a.createElement(Pe.eb,{className:"icon icon-twitter",name:Pe.D,width:"32",height:"32",title:Object(_.b)("twitter")})),N.a.createElement("button",{type:"button",onClick:this.reddit},N.a.createElement(Pe.eb,{className:"icon icon-reddit",name:Pe.C,width:"32",height:"32",title:Object(_.b)("reddit")})),N.a.createElement("button",{type:"button",onClick:this.email},N.a.createElement(Pe.eb,{className:"icon icon-mail",name:Pe.l,width:"32",height:"32",title:Object(_.b)("email")})),N.a.createElement(wr.CopyToClipboard,{text:Object(Tr.a)(),onCopy:this.link},N.a.createElement("button",{type:"button"},N.a.createElement(Pe.eb,{className:"icon icon-link",name:Pe.r,width:"32",height:"32",title:Object(_.b)("copyLinkToClipboard")})))))}}]),a}(N.a.Component),Rr={onFacebookShare:ke.Pb,onTwitterShare:ke.Tb,onRedditShare:ke.Rb,onEmailShare:ke.Ob,onCopyLink:ke.Y};Dr.__docgenInfo={description:"",methods:[{name:"facebook",docblock:null,modifiers:[],params:[],returns:null},{name:"twitter",docblock:null,modifiers:[],params:[],returns:null},{name:"reddit",docblock:null,modifiers:[],params:[],returns:null},{name:"email",docblock:null,modifiers:[],params:[],returns:null},{name:"link",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryShare",props:{postTitle:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},postTags:{type:{name:"array"},required:!0,description:""},onFacebookShare:{type:{name:"func"},required:!0,description:""},onTwitterShare:{type:{name:"func"},required:!0,description:""},onRedditShare:{type:{name:"func"},required:!0,description:""},onEmailShare:{type:{name:"func"},required:!0,description:""},onCopyLink:{type:{name:"func"},required:!0,description:""}}};var xr=Object(T.b)(function(e){var t=e.postsData;return{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),postTags:t.getIn(["currentPost","tags"])&&t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS()}},Rr)(Dr);n("nAF4");function Mr(e){var t=e.commentsCount,n=e.onClick,r=e.transformationStyle;return N.a.createElement("div",{className:"Gallery-CommentsCounter",title:Object(_.b)("commentsCounterHint"),onClick:n,style:r},N.a.createElement("div",{className:"item"},N.a.createElement(Pe.eb,{name:Pe.f,width:"32",height:"32",title:"Jump to Comments",fillColor:null})),N.a.createElement("div",{className:"item label"},N.a.createElement("span",null,Object(Xe.j)(t))))}Mr.defaultProps={commentsCount:0,onClick:function(){}},Mr.__docgenInfo={description:"",methods:[],displayName:"GalleryCommentsCounter",props:{commentsCount:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""}}};var Fr=n("ErBw"),_r=n("/iGR");n("o9hv");function Gr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Lr=function(e){d()(r,e);var n=Gr(r);function r(e){var c;l()(this,r),c=n.call(this,e),P()(f()(c),"setHovering",function(e){c.setState({hovering:e})}),P()(f()(c),"unhover",function(){c.setHovering(!1),Object(j.jb)("click",c.unhover)}),P()(f()(c),"setTransformation",function(e){var t=c.props,n=t.setAnimatingIn,r=t.setAnimatingOut,a=t.onClick,o=t.font,i=t.transitionEnabledPixels;Object(j.z)("TransformationFont")||Object(j.d)(Object(j.n)("link",{id:"TransformationFont",href:o,rel:"stylesheet"})),e?(n(!0),Object(j.tb)(0,0,"smooth"),i.forEach(function(e){Object(Yn.c)(e)})):r(!0),Object(j.Ab)(function(){a(e,!0)},Wn.$transformationFadeOutTimeMS/2),Object(j.Ab)(function(){e?n(!1):r(!1)},Wn.$transformationFadeOutTimeMS)});var t=!1;return Object(_r.b)(e.name)||(Object(_r.c)(e.name,!0,7),t=!0),c.state={hovering:t},c}return u()(r,[{key:"componentDidMount",value:function(){Object(j.a)("click",this.unhover)}},{key:"componentWillUnmount",value:function(){Object(j.jb)("click",this.unhover)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.positionY,r=t.postId;n===e.positionY&&r===e.postId||this.setHovering(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isTransformed,r=t.exitIcon,a=t.enterIcon,o=t.buttonColor,i=t.tooltipTitle,c=t.tooltipDescription,s=t.tooltipStyle,l=this.state.hovering,u={};return l&&(u.filter="drop-shadow(0 0 3px rgba(".concat(o,", 0.16))")),n?N.a.createElement("img",{src:r,style:u,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!1)},alt:Object(_.b)("exit")}):N.a.createElement("div",{className:"Transformation-wrapper"},N.a.createElement("img",{src:a,style:u,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!0)},alt:Object(_.b)("enter")}),N.a.createElement("div",{className:"Transformation-tooltip".concat(l?" Transformation-tooltip--hovering":""),style:s},N.a.createElement("h2",null,i),N.a.createElement("p",null,c)))}}]),r}(N.a.Component);Lr.__docgenInfo={description:"",methods:[{name:"setHovering",docblock:null,modifiers:[],params:[{name:"hovering",type:null}],returns:null},{name:"unhover",docblock:null,modifiers:[],params:[],returns:null},{name:"setTransformation",docblock:null,modifiers:[],params:[{name:"enabled",type:null}],returns:null}],displayName:"PromotedTransformation",props:{name:{type:{name:"string"},required:!0,description:""},isTransformed:{type:{name:"bool"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},setAnimatingIn:{type:{name:"func"},required:!0,description:""},setAnimatingOut:{type:{name:"func"},required:!0,description:""},enterIcon:{type:{name:"string"},required:!0,description:""},exitIcon:{type:{name:"string"},required:!0,description:""},buttonColor:{type:{name:"string"},required:!0,description:""},tooltipTitle:{type:{name:"string"},required:!0,description:""},tooltipDescription:{type:{name:"string"},required:!0,description:""},tooltipStyle:{type:{name:"object"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},font:{type:{name:"string"},required:!0,description:""},transitionEnabledPixels:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""}}};var Vr=Object(T.b)(function(e){var t=e.ad,n=e.display,r=e.postsData;return{name:t.getIn(["transformation","name"]),isTransformed:t.getIn(["transformation","enabled"]),font:t.getIn(["transformation","font"]),enterIcon:t.getIn(["transformation","enterIcon"]),exitIcon:t.getIn(["transformation","exitIcon"]),buttonColor:t.getIn(["transformation","buttonColor"]),tooltipTitle:t.getIn(["transformation","tooltipTitle"]),tooltipDescription:t.getIn(["transformation","tooltipDescription"]),tooltipStyle:{backgroundImage:'url("'.concat(t.getIn(["transformation","tooltipBg"]),'")')},positionY:n.get("positionY"),postId:r.getIn(["currentPost","id"],""),transitionEnabledPixels:t.getIn(["transformation","enabledPixels"])}},{onClick:Fr.M,setAnimatingIn:Fr.J,setAnimatingOut:Fr.K})(Lr);n("fbUk");function Ur(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Br=function(e){d()(n,e);var t=Ur(n);function n(e){var d;return l()(this,n),d=t.call(this,e),P()(f()(d),"handleVote",function(e,t){var n=d.props,r=n.isUserLoggedOut,a=n.showGalleryPopOverCTAAction,o=n.onVote,i=n.post,c=n.currentPostMeta,s=n.userAccoladeId,l=n.accoladeRevoked;if(r)return t===Je.b?a(Or.q,d.upvoteRef.current.parentNode):a(Or.h,d.downvoteRef.current.parentNode);if(!s||Object(j.B)("confirm")(Object(Ye.a)("accoladesDeleteConfirm",Je.e[t].toLowerCase()))){var u=e.type&&e.type.includes("key")?"Key Press":w.q;o({postId:i.get("id"),vote:t,initialVote:c.getIn(["user","vote"]),trigger:u}),t!==Je.b&&s&&l({userAccoladeId:s})}}),P()(f()(d),"handleFavorite",function(e){var t=d.props,n=t.isUserLoggedOut,r=t.showGalleryPopOverCTAAction,a=t.onFavorite,o=t.post,i=t.currentPostMeta,c=t.openDialogAction;if(n)return r(Or.i,d.favoriteRef.current.parentNode);var s=e.type&&e.type.includes("key")?"Key Press":w.q,l=i.getIn(["user","favorite"])||o.get("favorite"),u=z.x;return o.get("inGallery")||(u=o.get("isAlbum")?z.w:z.y),a(o.get("id"),!l,o.get("isAlbum"),s,u),l?void 0:c({name:z.g})}),P()(f()(d),"handleCommentsCounterClick",function(){var e=d.props,t=e.onScrollToComments,n=e.commentsListId,r=e.contentOffset,a=e.onScrollToCommentsAnalytics;t(n,r),a()}),P()(f()(d),"onKeyboardInteraction",function(e){var t=d.props,n=t.openDialogAction,r=t.showEmerald;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;var a=d.props.currentPostMeta.getIn(["user","vote"]);switch(e.key){case")":case"0":d.handleFavorite(e);break;case"-":case"_":d.handleVote(e,a===Je.a?Je.c:Je.a);break;case"+":case"=":d.handleVote(e,a===Je.b?Je.c:Je.b);break;case"*":case"8":if(!r)return e;n({name:Ke.a,eventSource:w.a.HOTKEY})}return e}),d.upvoteRef=N.a.createRef(),d.downvoteRef=N.a.createRef(),d.favoriteRef=N.a.createRef(),d}return u()(n,[{key:"componentDidMount",value:function(){Object(j.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(j.mb)("keydown",this.onKeyboardInteraction)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.currentPostMeta,r=e.openDialogAction,a=e.transformationStyle,o=e.showEmerald,i=e.availableAccolades,c=e.isEmerald,s=e.accolades,l=e.currentUsername,u=e.showsTransformationButton;return N.a.createElement("div",{className:"Gallery-EngagementBar"},N.a.createElement("div",{className:"Gallery-EngagementBarContainer",style:{paddingBottom:0}},N.a.createElement(qr,{postId:t.get("id"),vote:n.getIn(["user","vote"])||Je.c,score:n.getIn(["post","point_count"])||0,onVote:this.handleVote,isFavorite:n.getIn(["user","favorite"])||t.get("favorite")||!1,onFavorite:this.handleFavorite,hidePoints:t.get("isAd")||0<t.get("adType"),upvoteRef:this.upvoteRef,downvoteRef:this.downvoteRef,favoriteRef:this.favoriteRef,transformationStyle:a,showEmerald:o,availableAccolades:i,isEmerald:c,onEmeraldClick:function(e){r({name:Ke.a,eventSource:e})},onPointsClick:function(){return r({name:z.K})},accolades:s,currentUsername:l,inGallery:t.get("inGallery")}),u&&N.a.createElement(Vr,null),N.a.createElement(xr,null),!t.get("commentsDisabled")&&N.a.createElement(Mr,{commentsCount:n.getIn(["post","comment_count"]),onClick:this.handleCommentsCounterClick,transformationStyle:a})))}}]),n}(N.a.Component);Br.defaultProps={onFavorite:function(){},onVote:function(){},onScrollToComments:function(){},availableAccolades:[]},Br.__docgenInfo={description:"",methods:[{name:"handleVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"handleFavorite",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCommentsCounterClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"GalleryEngagementBar",props:{onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onScrollToComments:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},availableAccolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},currentPostMeta:{type:{name:"object"},required:!0,description:""},onScrollToCommentsAnalytics:{type:{name:"func"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},showGalleryPopOverCTAAction:{type:{name:"func"},required:!0,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},setRef:{type:{name:"func"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},showEmerald:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""},userAccoladeId:{type:{name:"number"},required:!1,description:""},accoladeRevoked:{type:{name:"func"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}};var Hr=Object(T.b)(function(e,t){var n=e.ui,r=e.user,a=e.postsData,o=e.ad,i=!a.getIn(["currentPost","isAd"],!1),c=Object(de.g)(o,r),s=(new Date).getTime(),l={};return o.getIn(["transformation","enabled"])&&(l={borderColor:"rgb(".concat(o.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(o.getIn(["transformation","primaryColor"]),", 0.32)")}),{contentOffset:n.cover.get("collapsed",0),isUserLoggedOut:!r.get("isLoggedIn"),isEmerald:r.getIn(["subscription","isSubscribed"]),transformationStyle:l,showEmerald:i,currentPostMeta:a.get("currentPostMeta")&&Object(wt.a)(a.get("currentPostMeta")),availableAccolades:a.getIn(["currentPostMeta","accolades","available"]),accolades:Object(en.c)(a.getIn(["currentPostMeta","accolades","available"]),a.getIn(["currentPostMeta","post","accolades_counts"]),a.getIn(["currentPostMeta","user","accolades","accolade_id"])),currentUsername:r.get("username",""),userAccoladeId:a.getIn(["currentPostMeta","user","accolades","accolade_id"]),showsTransformationButton:c&&(Object(L.d)(t.post.get("adConfig"))||t.post.get("inGallery")&&!t.post.get("isAd")||o.getIn(["transformation","promotedPostIds"]).includes(t.post.get("id")))&&s>o.getIn(["transformation","startTime"])&&(s<o.getIn(["transformation","endTime"])||o.getIn(["transformation","enabled"]))}},{onFavorite:ke.db,onVote:ke.Zb,onScrollToComments:Er.g,onScrollToCommentsAnalytics:ke.Gb,showGalleryPopOverCTAAction:Or.s,openDialogAction:G.I,accoladeRevoked:it.l})(Br),Wr=n("JPcv"),zr=n("f6ut"),Yr=n("yzPS"),Kr=n("66r6"),Jr=n("QIN0"),Xr=n("z6Vh"),Qr=n("DfB6"),Zr=(n("eeI0"),n("/y0k"));n("WYmX");function $r(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ea=function(e){d()(r,e);var n=$r(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"handleFileInput",function(e){(0,t.props.startCommentUpload)(e.target.files),t.inputRef.value=""}),P()(f()(t),"componentDidMount",function(){(0,t.props.onLoad)(t.wrapperRef)}),t.inputRef=N.a.createRef(),t.wrapperRef=N.a.createRef(),t}return u()(r,[{key:"render",value:function(){var t=this,e=this.props,n=e.disabled,r=e.title;return N.a.createElement("div",{className:"CommentUploadButton",disabled:n,ref:function(e){t.wrapperRef=e}},N.a.createElement(Pe.eb,{className:"icon fill",name:Pe.a,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(e){return t.inputRef.click(e)},title:r}),N.a.createElement("input",{id:"file-input",className:"CommentUpload-fileInput",type:"file",name:"files",ref:function(e){t.inputRef=e},accept:Zr.a,onChange:this.handleFileInput,disabled:n}))}}]),r}(N.a.Component);function ta(e){var t=e.className,n=e.copyName,r=e.op,a=(new Date).getTime();return N.a.createElement("p",{className:t},Object(_.b)(n,r,a))}ea.defaultProps={title:Object(_.b)("commentUploadButton")},ea.__docgenInfo={description:"",methods:[{name:"handleFileInput",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentUploadButton",props:{title:{defaultValue:{value:"copy('commentUploadButton')",computed:!0},type:{name:"string"},required:!1,description:""},startCommentUpload:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""}}},ta.__docgenInfo={description:"",methods:[],displayName:"CommentFormTitle",props:{className:{type:{name:"string"},required:!1,description:""},copyName:{type:{name:"string"},required:!1,description:""},op:{type:{name:"string"},required:!1,description:""}}};var na=Object(S.memo)(ta),ra=n("9WAK"),aa=n.n(ra),oa=1,ia=3;function ca(e){var t=e.openReactionGifs,n=e.setCommentValue,r=N.a.createElement(Pe.eb,{className:"icon fill Comment-create-prompts-gif",name:Pe.b,"aria-label":Object(_.b)("GIF"),title:Object(_.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=aa()([N.a.createElement("div",{onClick:function(){return t("cake day","commentAddCakeDay")}},Object(_.b)("commentAddCakeDay"),r),N.a.createElement("div",{onClick:function(){return t("dance","commentAddDance")}},Object(_.b)("commentAddDance"),r)]),o=aa()([N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentHappyCakeDayOP"))}},Object(_.b)("commentHappyCakeDayOP")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayHaveYourCake"))}},Object(_.b)("commentCakeDayHaveYourCake")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayBringOnTheCake"))}},Object(_.b)("commentCakeDayBringOnTheCake")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayEatSlice"))}},Object(_.b)("commentCakeDayEatSlice")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayGoodToHaveYou"))}},Object(_.b)("commentCakeDayGoodToHaveYou")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayBigBundts"))}},Object(_.b)("commentCakeDayBigBundts")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayCongrats"))}},Object(_.b)("commentCakeDayCongrats")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayEatCake"))}},Object(_.b)("commentCakeDayEatCake")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayRemember"))}},Object(_.b)("commentCakeDayRemember")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentCakeDayBestDay"))}},Object(_.b)("commentCakeDayBestDay"))]);return N.a.createElement(N.a.Fragment,null,a.filter(function(e,t){return t<oa}),o.filter(function(e,t){return t<ia}))}function sa(e){var t=e.openReactionGifs,n=e.setCommentValue,r=N.a.createElement(Pe.eb,{className:"icon fill Comment-create-prompts-gif",name:Pe.b,"aria-label":Object(_.b)("GIF"),title:Object(_.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=aa()([N.a.createElement("div",{onClick:function(){return t("hello","commentNewOPGif")}},Object(_.b)("commentNewOPGif"),r),N.a.createElement("div",{onClick:function(){return t("upvote","commentFirstPostAddAnUpvote")}},Object(_.b)("commentFirstPostAddAnUpvote"),r),N.a.createElement("div",{onClick:function(){return t("thumbs up","commentFirstPostThumbsUp")}},Object(_.b)("commentFirstPostThumbsUp"),r)]),o=aa()([N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostOPSolid"))}},Object(_.b)("commentFirstPostOPSolid")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostOPHaveAnUpvote"))}},Object(_.b)("commentFirstPostOPHaveAnUpvote")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPOneOfUs"))}},Object(_.b)("commentNewOPOneOfUs")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostGreatPostOnFirstTry"))}},Object(_.b)("commentFirstPostGreatPostOnFirstTry")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostFirstForay"))}},Object(_.b)("commentFirstPostFirstForay")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostIRemember"))}},Object(_.b)("commentFirstPostIRemember")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostHappyPosting"))}},Object(_.b)("commentFirstPostHappyPosting")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentFirstPostFirstDay"))}},Object(_.b)("commentFirstPostFirstDay"))]);return N.a.createElement(N.a.Fragment,null,a.filter(function(e,t){return t<oa}),o.filter(function(e,t){return t<ia}))}function la(e){var t=e.openReactionGifs,n=e.setCommentValue,r=N.a.createElement(Pe.eb,{className:"icon fill Comment-create-prompts-gif",name:Pe.b,"aria-label":Object(_.b)("GIF"),title:Object(_.b)("GIF"),width:"26",height:"26",viewBox:"0 1 30 30"}),a=aa()([N.a.createElement("div",{onClick:function(){return t("welcome","commentNewOPWelcomeGif")}},Object(_.b)("commentNewOPWelcomeGif"),r),N.a.createElement("div",{onClick:function(){return t("hello","commentNewOPGif")}},Object(_.b)("commentNewOPGif"),r)]),o=aa()([N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPOneOfUs"))}},Object(_.b)("commentNewOPOneOfUs")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPHello"))}},Object(_.b)("commentNewOPHello")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPGladYoureHere"))}},Object(_.b)("commentNewOPGladYoureHere")),N.a.createElement("div",{onClick:function(){return n("".concat(Object(_.b)("commentNewOPWelcomeToParty")," 👋"))}},Object(_.b)("commentNewOPWelcomeToParty"),N.a.createElement("span",{role:"img","aria-label":"wave"}," 👋")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPYayYouMadeIt"))}},Object(_.b)("commentNewOPYayYouMadeIt")),N.a.createElement("div",{onClick:function(){return n("".concat(Object(_.b)("commentNewOPWelcome")," 👋"))}},Object(_.b)("commentNewOPWelcome"),N.a.createElement("span",{role:"img","aria-label":"wave"}," 👋")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPWelcomeCupcakes"))}},Object(_.b)("commentNewOPWelcomeCupcakes")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPWelcomePal"))}},Object(_.b)("commentNewOPWelcomePal")),N.a.createElement("div",{onClick:function(){return n(Object(_.b)("commentNewOPFitRightIn"))}},Object(_.b)("commentNewOPFitRightIn"))]);return N.a.createElement(N.a.Fragment,null,a.filter(function(e,t){return t<oa}),o.filter(function(e,t){return t<ia}))}function ua(e){var t=e.suggestionGroup,n=e.openReactionGifs,r=e.setCommentValue;return N.a.createElement("div",{className:"Comment-create-prompts"},t===st.d&&N.a.createElement(la,{openReactionGifs:n,setCommentValue:r}),t===st.c&&N.a.createElement(sa,{openReactionGifs:n,setCommentValue:r}),t===st.b&&N.a.createElement(ca,{openReactionGifs:n,setCommentValue:r}))}ca.propTypes={openReactionGifs:v.a.func,setCommentValue:v.a.func},sa.propTypes={openReactionGifs:v.a.func,setCommentValue:v.a.func},la.propTypes={openReactionGifs:v.a.func,setCommentValue:v.a.func},ua.__docgenInfo={description:"",methods:[],displayName:"CommentSuggetions",props:{suggestionGroup:{type:{name:"string"},required:!1,description:""},openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}};var da=Object(S.memo)(ua);la.__docgenInfo={description:"",methods:[],displayName:"NewOpSuggestions",props:{openReactionGifs:{type:{name:"func"},required:!(sa.__docgenInfo={description:"",methods:[],displayName:"FirstPostSuggestions",props:{openReactionGifs:{type:{name:"func"},required:!(ca.__docgenInfo={description:"",methods:[],displayName:"CakeDaySuggestions",props:{openReactionGifs:{type:{name:"func"},required:!1,description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}}),description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}}),description:""},setCommentValue:{type:{name:"func"},required:!1,description:""}}};var ma=n("lIU6"),pa=n("uwpD");function fa(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ha=function(e){d()(n,e);var t=fa(n);function n(e){var c;return l()(this,n),c=t.call(this,e),P()(f()(c),"textareaElem",null),P()(f()(c),"adminBadgeElem",null),P()(f()(c),"handleSubmit",function(e){e.preventDefault();var t=c.state,n=t.value,r=t.hasAdminBadge,a=t.maxChars,o=t.uploadedFile,i=Object(Xe.a)(n);(0===i||a<i)&&!o||(0,c.props.onCreate)({comment:n,hasAdminBadge:r,file:o})}),P()(f()(c),"handleClose",function(e){var t=c.state.value;if(!("click"!==e.type&&0<Object(Xe.a)(t))){var n=c.props.onClose;n&&n()}}),P()(f()(c),"handleKeyDown",function(e){e.key===k.b?c.handleSubmit(e):[k.e,k.d].includes(e.key)&&c.handleClose(e)}),P()(f()(c),"onChange",function(e){var t=c.state.value;c.updateTextareaHeight(c.textareaElem);var n=e?e.target.value:t,r=Object(Xe.a)(n);c.setState({characterCount:r,value:n})}),P()(f()(c),"setFocusIn",function(){c.setState({focused:!0})}),P()(f()(c),"setFocusOut",function(){c.setState({focused:!1})}),P()(f()(c),"setTextareaElem",function(e){c.textareaElem=e}),P()(f()(c),"onCheckboxChange",function(e){c.setState({hasAdminBadge:e.target.checked})}),P()(f()(c),"updateTextareaHeight",function(e){e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))}),P()(f()(c),"onGIFSelect",function(e){var t=c.state.value,n="".concat(t).concat(e),r=Object(Xe.a)(n);c.setState({value:n,characterCount:r,hasMedia:!0})}),P()(f()(c),"removeUploadedFile",function(){var e=c.state,t=e.maxChars,n=e.fileObjURL;Object(j.rb)(n),c.setState({uploadedFile:null,maxChars:t+me.A,fileObjURL:"",hasMedia:!1})}),P()(f()(c),"getReactionPreview",function(e){var t=Object(Kr.j)(e);if(t)return N.a.createElement(ma.b,{src:t,onClose:function(){return c.removeReactionMedia(t)}})}),P()(f()(c),"removeReactionMedia",function(e){var t=c.state.value;c.setState({value:t.replace(e,""),hasMedia:!1},c.onChange)}),P()(f()(c),"focusOnTextArea",function(){c.textareaElem.focus()}),P()(f()(c),"startCommentUpload",function(e){if(e&&e[0]){var t=c.state.maxChars;c.setState({uploadedFile:e[0],fileObjURL:Object(j.o)(e[0]),maxChars:t-me.A,hasMedia:!0})}}),P()(f()(c),"showUploadPopOver",function(e){var t=c.props,n=t.showPopOver;return(0,t.viewedCommentUploadPopupAction)(),n(Or.e,e)}),P()(f()(c),"openReactionGifs",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=c.props,r=n.setReactionGifSearchStringAction,a=n.newOPWelcomeAnalyticsAction;r(e),c.setState({isGIFOpen:!0}),a(Object(_.b)(t))}),P()(f()(c),"setCommentValue",function(e){var t=c.props.newOPWelcomeAnalyticsAction;c.setState({value:e},c.onChange),t(e)}),P()(f()(c),"setReactionGifPopupVisibility",function(e){c.setState({isGIFOpen:e})}),c.state={characterCount:0,value:"",focused:!!e.autoFocus,hasAdminBadge:!1,maxChars:st.j,fileObjURL:"",uploadedFile:null,hasMedia:!1,isGIFOpen:!1},c}return u()(n,[{key:"componentDidMount",value:function(){this.updateTextareaHeight(this.textareaElem)}},{key:"componentDidUpdate",value:function(e){var t=e.isLoading,n=this.props.isLoading,r=this.state.uploadedFile;t&&!n&&(r&&this.removeUploadedFile(),this.setState({characterCount:0,value:"",hasAdminBadge:!1}))}},{key:"renderUploadedFile",value:function(e,t){return N.a.createElement(N.a.Fragment,null,N.a.createElement(ma.b,{src:t,isVideo:Object(Jr.e)(e.name),onClose:this.removeUploadedFile,isUpload:!0}),N.a.createElement(ma.a,null))}},{key:"getCommentMedia",value:function(){var e=this.state,t=e.value,n=e.uploadedFile,r=e.fileObjURL;return n?this.renderUploadedFile(n,r):this.getReactionPreview(t)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.characterCount,r=e.focused,a=e.maxChars,o=e.hasMedia,i=e.isGIFOpen,c=a-n,s=c<0,l=this.props,u=l.placeholder,d=l.isCommunityTeam,m=l.autoFocus,p=l.onClose,f=l.transformationCreateStyles,h=l.isLoading,g=l.shouldShowCommentUploadTooltip,y=l.commentPromptType,b=l.shouldShowSuggestedComments,v=l.opUsername,C=!1;0!==n&&!s||o||(C=!0);var E=ge()({"Comment-create-textarea":!0,over:s}),O=ge()({"Comment-create-charCount":!0,over:s}),k=ge()({"Create-submitBtn":!0,disabled:C}),P=ge()({"Comment-create-bar":!0,focused:r}),S={};return S=o?{commentUpload:Object(_.b)("commentPreviewAlreadyExists"),reactionGIF:Object(_.b)("commentPreviewAlreadyExists")}:{commentUpload:Object(_.b)("commentUploadButton"),reactionGIF:Object(_.b)("gifOnHover")},N.a.createElement("div",{className:"Comment-create",style:f},y!==st.e&&N.a.createElement(na,{className:"Comment-create-titleMessage",copyName:y,op:v}),N.a.createElement("form",{className:"Comment-create-form",onSubmit:this.handleSubmit},N.a.createElement("div",{className:P,onClick:this.focusOnTextArea},p&&N.a.createElement(Pe.eb,{name:Pe.g,onClick:this.handleClose,width:"25",height:"25",viewBox:"0 0 32 32",className:"Comment-create-close"}),N.a.createElement("textarea",{ref:this.setTextareaElem,autoFocus:m,className:E,value:t,onChange:this.onChange,onKeyDown:this.handleKeyDown,onFocus:this.setFocusIn,onBlur:this.setFocusOut,placeholder:u}),this.getCommentMedia(),b&&""===t&&N.a.createElement(da,{suggestionGroup:y,openReactionGifs:this.openReactionGifs,setCommentValue:this.setCommentValue})),N.a.createElement("div",{className:"Comment-create-summary"},N.a.createElement("a",{className:"Comment-create-rules",target:"_blank",href:"/rules"},Object(_.b)("readCommunityRules")),N.a.createElement("div",{className:"Comment-create-actions"},N.a.createElement(ea,{disabled:o,startCommentUpload:this.startCommentUpload,title:S.commentUpload,onLoad:g(this.showUploadPopOver)}),N.a.createElement(Qr.a,{disabled:o,onSelect:this.onGIFSelect,title:S.reactionGIF,setReactionGifPopupVisibility:this.setReactionGifPopupVisibility,isGIFOpen:i}),d&&N.a.createElement(zr.a,{className:"Comment-create-adminbadge",text:Object(_.b)("showAdminBadgeCheckbox"),handleOnChange:this.onCheckboxChange,checkmarkPosition:"right"}),N.a.createElement("div",{className:O},"".concat(c)),N.a.createElement(Ue.c,{onClick:this.handleSubmit,className:k,isLoading:h,label:Object(_.b)("post")})))))}}]),n}(N.a.PureComponent);var ga={showPopOver:Or.s,viewedCommentUploadPopupAction:G.P,setReactionGifSearchStringAction:pa.i,newOPWelcomeAnalyticsAction:lt.x};ha.defaultProps={shouldShowSuggestedComments:!1,shouldShowCommentUploadTooltip:function(){return function(){}},commentPromptType:st.e},ha.__docgenInfo={description:"",methods:[{name:"handleSubmit",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setFocusIn",docblock:null,modifiers:[],params:[],returns:null},{name:"setFocusOut",docblock:null,modifiers:[],params:[],returns:null},{name:"setTextareaElem",docblock:null,modifiers:[],params:[{name:"domElem",type:null}],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"updateTextareaHeight",docblock:null,modifiers:[],params:[{name:"textareaElem",type:null}],returns:null},{name:"onGIFSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"removeUploadedFile",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUploadedFile",docblock:null,modifiers:[],params:[{name:"file",type:null},{name:"fileObjURL",type:null}],returns:null},{name:"getCommentMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"removeReactionMedia",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"focusOnTextArea",docblock:null,modifiers:[],params:[],returns:null},{name:"startCommentUpload",docblock:null,modifiers:[],params:[{name:"files",type:null}],returns:null},{name:"showUploadPopOver",docblock:null,modifiers:[],params:[{name:"wrapperRef",type:null}],returns:null},{name:"openReactionGifs",docblock:null,modifiers:[],params:[{name:"search",type:null},{name:"copyName",type:null}],returns:null},{name:"setCommentValue",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"setReactionGifPopupVisibility",docblock:null,modifiers:[],params:[{name:"isGIFOpen",type:null}],returns:null}],displayName:"CommentForm",props:{shouldShowSuggestedComments:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},shouldShowCommentUploadTooltip:{defaultValue:{value:"() => () => {}",computed:!1},type:{name:"func"},required:!1,description:""},commentPromptType:{defaultValue:{value:"COMMENT_PROMPT_NONE",computed:!0},type:{name:"enum",value:[{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0},{value:"import {\n    MAX_CHARS_IN_COMMENT,\n    COMMENT_PROMPT_NEW_OP,\n    COMMENT_PROMPT_FIRST_POST,\n    COMMENT_PROMPT_CAKE_DAY,\n    COMMENT_PROMPT_NONE,\n} from 'constants/comments';",computed:!0}]},required:!1,description:""},onCreate:{type:{name:"func"},required:!0,description:""},onClose:{type:{name:"func"},required:!1,description:""},placeholder:{type:{name:"string"},required:!1,description:""},isCommunityTeam:{type:{name:"bool"},required:!1,description:""},autoFocus:{type:{name:"bool"},required:!1,description:""},transformationCreateStyles:{type:{name:"object"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},showPopOver:{type:{name:"func"},required:!1,description:""},viewedCommentUploadPopupAction:{type:{name:"func"},required:!1,description:""},setReactionGifSearchStringAction:{type:{name:"func"},required:!0,description:""},newOPWelcomeAnalyticsAction:{type:{name:"func"},required:!0,description:""},level:{type:{name:"number"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""}}};var ya=Object(T.b)(function(e,t){var n=e.ui,r=e.user,a=e.ad,o=e.postsData,i={};a.getIn(["transformation","enabled"])&&(i={borderColor:"rgb(".concat(a.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(a.getIn(["transformation","primaryColor"]),", 0.32)")});var c=Object(Xr.b)(r,o,t.level);return{shouldShowCommentUploadTooltip:function(e){return n.emeraldFeature.get("viewedCommentUploadTooltip")?function(){}:e},isCommunityTeam:-1!==r.get("roles").indexOf(Yr.c),isLoading:n.spinner.get("createPostComment")&&n.spinner.get("createPostComment").loading,transformationCreateStyles:i,commentPromptType:Object(Xr.b)(r,o,t.level),shouldShowSuggestedComments:c!==st.e&&Object(Xr.g)(o),opUsername:o.getIn(["currentPost","account","username"]),placeholder:Object(_.b)("commentWrite")}},ga)(ha),ba=n("hIyu"),va=n("0WSl");function Ca(e){var t=e.postId,n=e.commentId,r=e.parentId,a=e.username,o=e.currentUsername,i=e.muteUserData,c=e.setDeleteCommentData,s=e.openDeleteCommentDialog,l=e.isLoggedIn,u=e.history,d=o&&a.toLowerCase()===o.toLowerCase(),m=l&&!d&&N.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),i(a,Le.b,n)}},N.a.createElement(Pe.eb,{className:"icon",name:Pe.u,width:"32",height:"32",fillColor:"#B4B9C2"}),N.a.createElement("span",{className:"label"},Object(_.b)("commentMuteUser"))),p=l&&d&&N.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),c(n),s()}},N.a.createElement(Pe.eb,{className:"icon",name:Pe.G,width:"32",height:"32",fillColor:"#B4B9C2"}),N.a.createElement("span",{className:"label"},Object(_.b)("commentDelete"))),f=N.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(qe.d)(t,n))}},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.r,width:"32",height:"32",fillColor:"#B4B9C2"}),N.a.createElement("span",{className:"label"},Object(_.b)("commentPermalink"))),h=!!r&&N.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(qe.e)(t,n))}},N.a.createElement(Pe.eb,{className:"icon stroke",name:Pe.r,width:"32",height:"32",fillColor:"#B4B9C2"}),N.a.createElement("span",{className:"label"},Object(_.b)("commentContext")));return N.a.createElement(Ut.a,{className:"CommentDropdown-menu Dropdown--btn",dropdownIcon:N.a.createElement(Pe.eb,{name:Pe.k,width:"24",height:"24"})},f,h,m,p,N.a.createElement(Wt,{reportType:Bt.d,id:n,isMature:!1}))}Ca.defaultProps={currentUsername:""};Ca.__docgenInfo={description:"",methods:[],displayName:"CommentDropDownMenu",props:{currentUsername:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},openDeleteCommentDialog:{type:{name:"func"},required:!0,description:""},setDeleteCommentData:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},parentId:{type:{name:"number"},required:!1,description:""}}};var Ea=Object(Oe.d)(Object(T.b)(function(e){var t=e.user;return{isLoggedIn:!!t.get("isLoggedIn"),currentUsername:t.get("username","")}},{muteUserData:Ce.M,openDeleteCommentDialog:lt.y,setDeleteCommentData:lt.C}),C.h)(Ca);n("G6+a");function Oa(e){var t=e.avatar,n=e.username,r=e.isSubComment,a=e.onUserProfileClick;return N.a.createElement("div",{className:"GalleryComment-avatar-bar"},N.a.createElement("div",{className:"avatar"},N.a.createElement(Re,{username:n,onClick:a},N.a.createElement("span",{style:{backgroundImage:"url(".concat(t,")")},title:n}))),r&&N.a.createElement("div",{className:"verticalLine"}))}Oa.__docgenInfo={description:"",methods:[],displayName:"CommentAvatarBar",props:{avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""}}};n("Dk6w");function ka(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Pa=function(e){d()(n,e);var t=ka(n);function n(e){var o;return l()(this,n),o=t.call(this,e),P()(f()(o),"randomVector",function(){return 2*Math.random()-1}),P()(f()(o),"createParticles",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!o.shouldCreateParticles)return e;for(var t=tt()(e),n=0;n<6;n++)t.push({x:o.canvas.width/2+100*o.randomVector(),y:o.canvas.height/2,size:Math.floor(Math.random()*Math.floor(8)),opacity:1,vectorX:o.randomVector(),vectorY:o.randomVector()});return t}),P()(f()(o),"drawParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=o.context,n=tt()(e),r=0;r<n.length;r++){t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size,0,2*Math.PI);var a=t.createRadialGradient(n[r].x,n[r].y,.5*n[r].size,n[r].x+.1,n[r].y,.1);a.addColorStop(.2143,"rgba(45, 217, 244, ".concat(n[r].opacity,")")),a.addColorStop(1,"rgba(22, 191, 118, ".concat(n[r].opacity,")")),t.fillStyle=a,t.filter="none",t.closePath(),t.fill(),t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size+2,0,2*Math.PI),t.fillStyle="rgba(67, 208, 189, ".concat(n[r].opacity,")"),t.filter="blur(".concat(8,"px)"),t.closePath(),t.fill()}return n}),P()(f()(o),"moveParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=tt()(e),n=0;n<t.length;n++)t[n].x+=.8*t[n].vectorX,t[n].y+=.8*t[n].vectorY,t[n].size=Math.max(0,t[n].size-.005),t[n].opacity=Math.max(0,t[n].opacity-.012),t[n].opacity<=0&&t.splice(n,1);return t}),P()(f()(o),"clearFrame",function(){var e=o.context;e&&e.clearRect&&e.clearRect(0,0,o.canvas.width,o.canvas.height)}),P()(f()(o),"draw",function(){if(o.counter++,o.shouldAnimate){if(o.clearFrame(),!o.particles.length&&!o.shouldCreateParticles)return o.stopAnimation(!0);o.particles=o.moveParticles(o.particles),o.drawParticles(o.particles),o.lastFrameId=Object(j.pb)(function(){return o.draw()})}}),P()(f()(o),"startAnimation",function(e){if(o.counter=0,!o.canvas)return e;o.stopAnimation(!0),o.shouldAnimate=!0,o.shouldCreateParticles=!0,o.particles=[],o.particles=o.createParticles(o.particles),o.animationTimer=Object(j.xb)(function(){o.particles=o.createParticles(o.particles)},250),o.draw(o.particles)}),P()(f()(o),"stopAnimation",function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0])return Object(j.e)(o.lastFrameId),o.clearFrame(),o.particles=[],o.shouldAnimate=!1,void Object(j.h)(o.animationTimer);o.shouldCreateParticles=!1}),o.canvas=Object(S.createRef)(),o.context=null,o.particles=[],o.animationTimer=null,o.lastFrameId=null,o.shouldAnimate=!1,o.shouldCreateParticles=!0,o}return u()(n,[{key:"componentDidMount",value:function(){this.context=this.canvas.getContext("2d")}},{key:"componentWillUnmount",value:function(){this.stopAnimation(!0)}},{key:"render",value:function(){var t=this,e=this.props.rank;return N.a.createElement("div",{className:"badge-best-wrapper"},N.a.createElement("canvas",{className:"badge-best-animation",ref:function(e){t.canvas=e}}),N.a.createElement(je.a,{to:"/leaderboard",className:"badge-best",onMouseEnter:this.startAnimation,onMouseLeave:function(){return t.stopAnimation()}},N.a.createElement("span",null,Object(_.b)("bestComment",e))))}}]),n}(N.a.PureComponent);Pa.__docgenInfo={description:"",methods:[{name:"randomVector",docblock:null,modifiers:[],params:[],returns:null},{name:"createParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"drawParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"moveParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"clearFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[],returns:null},{name:"startAnimation",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"stopAnimation",docblock:null,modifiers:[],params:[{name:"immediately",type:null}],returns:null}],displayName:"CommentLeaderboardBadge",props:{rank:{type:{name:"number"},required:!0,description:""}}};n("WHPL");function Sa(e){var t=e.postId,n=e.username,r=e.commentId,a=e.parentId,o=e.hasOpBadge,i=e.hasAdminBadge,c=e.avatar,s=e.onAvatarProfileClick,l=e.onUserProfileClick,u=e.createdAtDate,d=e.platform,m=e.isSubComment,p=e.rank,f=e.onGiveEmerald,h=e.isUserLoggedIn,g=e.currentUsername,y=e.isPromotedPost,b=ge()({"byline-badge":!0,"byline-badge-admin":i,"byline-badge-op":o&&!i}),v=new Date(u),C=Object(Xe.e)(d);return N.a.createElement("div",{className:"GalleryComment-byLine"},N.a.createElement("div",{className:"Meta"},N.a.createElement(Oa,{username:n,avatar:c,isSubComment:m,onUserProfileClick:s}),N.a.createElement(Re,{className:"author-name",username:n,onClick:l}),(o||i)&&N.a.createElement("div",{className:b},i&&N.a.createElement("a",{className:"admin-badge-link",href:va.a,target:"_blank",rel:"noopener noreferrer"},N.a.createElement(Pe.eb,{name:Pe.O,width:"16",height:"16"}),N.a.createElement("span",{className:"byline-badge-text"},Object(_.b)("adminBadge"))),o&&i&&N.a.createElement("div",{className:"delimiter byline-badge-text"},"|"),o&&N.a.createElement("span",{className:"byline-badge-text"},"OP")),N.a.createElement("span",{className:"date",title:v},N.a.createElement("span",{className:"delimiter"},"•"),Object(Qe.o)(v," ago"),C&&N.a.createElement(N.a.Fragment,null," via ",N.a.createElement("a",{className:"platform bold",href:"/apps"},C))),N.a.createElement(Rt.a,{currentUsername:g,itemUsername:n,isUserLoaded:!0,isPromoted:y,isEnabled:me.v},N.a.createElement(xt.a,{isUserLoggedIn:h,showTitle:!0,onClick:f,customClasses:"GiveEmeraldButton-secondary"})),p&&N.a.createElement(Pa,{rank:p}),N.a.createElement(Ea,{postId:t,commentId:r,parentId:a,username:n})))}Sa.__docgenInfo={description:"",methods:[],displayName:"CommentByline",props:{postId:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},createdAtDate:{type:{name:"string"},required:!0,description:""},platform:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},hasOpBadge:{type:{name:"bool"},required:!1,description:""},hasAdminBadge:{type:{name:"bool"},required:!1,description:""},onAvatarProfileClick:{type:{name:"func"},required:!0,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""},parentId:{type:{name:"number"},required:!1,description:""},rank:{type:{name:"number"},required:!1,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onGiveEmerald:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};n("Lz/x");function Na(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ja=function(e){d()(o,e);var a=Na(o);function o(){var n;l()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),P()(f()(n),"collapseReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!1)}),P()(f()(n),"extendReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!0)}),n}return u()(o,[{key:"render",value:function(){var e=this.props,t=e.replies,n=e.isExpanded,r=e.onReply,a=e.showReply,o=e.vote,i=e.pointCount,c=e.hasMoreComments,s=e.loadMore,l=e.onVote;return N.a.createElement("div",{className:"GalleryComment-actions"},N.a.createElement("div",{className:"vote-btn upvote actions-btn",onClick:function(e){return l(e,o===Je.b?Je.c:Je.b)},title:Object(_.b)("upvoteHint")},N.a.createElement(kr.b,{selected:o===Je.b,isMini:!0,strokeColor:"#B4B9C2"})),N.a.createElement("div",{className:"points ".concat(o)},"".concat(Object(Xe.j)(i))),N.a.createElement("div",{className:"vote-btn down actions-btn",onClick:function(e){return l(e,o===Je.a?Je.c:Je.a)},title:Object(_.b)("downvoteHint")},N.a.createElement(kr.a,{selected:o===Je.a,isMini:!0,strokeColor:"#B4B9C2"})),!c&&N.a.createElement(N.a.Fragment,null,N.a.createElement("button",{type:"button",onClick:this.collapseReplies,className:ge()({hide:!n,"toggle-replies":!0,"actions-btn":!0})},N.a.createElement(Pe.eb,{name:Pe.ab,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(_.b)("commentCollapseReplies")),N.a.createElement("button",{type:"button",onClick:this.extendReplies,className:ge()({hide:n||!t.size,"toggle-replies":!0,"actions-btn":!0})},N.a.createElement(Pe.eb,{name:Pe.bb,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(_.b)("commentRepliesCount",t.size))),c&&N.a.createElement("button",{type:"button",className:"load-more actions-btn",onClick:s},Object(_.b)("loadMore")),a&&N.a.createElement("button",{type:"button",className:"reply actions-btn",onClick:r},N.a.createElement(Pe.eb,{name:Pe.Q,width:"16",height:"16",strokeColor:"#FFFFFF"}),Object(_.b)("commentReply")))}}]),o}(N.a.PureComponent);ja.__docgenInfo={description:"",methods:[{name:"collapseReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"extendReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"CommentActions",props:{toggleReplies:{type:{name:"func"},required:!0,description:""},replies:{type:{name:"object"},required:!0,description:""},isExpanded:{type:{name:"bool"},required:!1,description:""},onReply:{type:{name:"func"},required:!0,description:""},showReply:{type:{name:"bool"},required:!0,description:""},onVote:{type:{name:"func"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},pointCount:{type:{name:"number"},required:!1,description:""},loadMore:{type:{name:"func"},required:!1,description:""},hasMoreComments:{type:{name:"bool"},required:!1,description:""}}};n("o+s0");function qa(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var wa=function(e){d()(r,e);var n=qa(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"toggleBadComments",function(){t.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),P()(f()(t),"renderBadComments",function(){var e=t.props.replies.filter(function(e){return e.get("point_count")<0});return e.size?N.a.createElement("div",null,N.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:t.toggleBadComments},N.a.createElement(Pe.eb,{name:t.state.expandBadComments?Pe.ab:Pe.bb,width:"16",height:"16"}),N.a.createElement("span",null,Object(_.b)("commentToggleBadReplies",t.state.expandBadComments))),t.state.expandBadComments&&e.map(function(e){return N.a.createElement(Aa,{key:e.get("id"),comment:e,isSubComment:!0,onCreateComment:t.props.onCreateComment})})):""}),t.state={expandBadComments:!1},t}return u()(r,[{key:"render",value:function(){var t=this;return N.a.createElement("div",{className:"GalleryComment-replies"},this.props.replies.filter(function(e){return 0<=e.get("point_count")}).map(function(e){return N.a.createElement(Aa,{key:e.get("id"),comment:e,isSubComment:!0,level:t.props.level,expandMode:t.props.expandMode,onCreateComment:t.props.onCreateComment})}),this.renderBadComments())}}]),r}(N.a.Component);wa.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentReplies",props:{replies:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},level:{type:{name:"number"},required:!0,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""}}};n("GGeJ");function Ia(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ta=function(e){d()(n,e);var t=Ia(n);function n(e){var s;return l()(this,n),s=t.call(this,e),P()(f()(s),"isCommentExpanded",function(e){return e.expandMode===st.i&&e.level<st.a&&0<e.comment.get("comments").size}),P()(f()(s),"hasMoreComments",function(){var e=s.props,t=e.level,n=e.comment;return t===st.a&&(0<n.get("comments").size||n.get("next"))}),P()(f()(s),"toggleReplies",function(e){s.setState({expanded:e})}),P()(f()(s),"onReply",function(e){var t=s.props,n=t.isUserLoggedOut,r=t.showPopOver;if(e.stopPropagation(),n)return r(Or.k,e.currentTarget);s.setState({reply:!0})}),P()(f()(s),"onCloseReply",function(){s.setState({reply:!1})}),P()(f()(s),"onCreate",function(e){var t=e.comment,n=e.hasAdminBadge,r=e.file,a=s.props;(0,a.onCreateComment)({comment:t,hasAdminBadge:n,parentId:a.comment.get("id"),file:r}),s.setState({reply:!1,expanded:!0})}),P()(f()(s),"onVote",function(e,t){var n=s.props,r=n.comment,a=n.onVote,o=n.isUserLoggedOut,i=n.showPopOver,c=n.vote;return e.stopPropagation(),o?i(t===Je.b?Or.f:Or.d,e.currentTarget):a(r.get("id"),t,c)}),P()(f()(s),"onProfileClick",function(e){var t=s.props,n=t.comment;return(0,t.onProfileClick)(n.get("account_id"),e)}),P()(f()(s),"onUserProfileClick",function(){return s.onProfileClick("Username Comment")}),P()(f()(s),"onAvatarProfileClick",function(){return s.onProfileClick("Avatar Comment")}),P()(f()(s),"onContainerClick",function(e){var t=s.state.expanded;0<s.props.comment.get("comments").size&&"A"!==e.target.tagName&&s.setState({expanded:!t})}),P()(f()(s),"loadMore",function(e){var t=s.props,n=t.comment,r=t.history;e.stopPropagation(),r.push(Object(qe.e)(n.get("post_id"),n.get("id")))}),P()(f()(s),"onGiveEmerald",function(){var e=s.props,t=e.giveEmeraldData,n=e.comment,r=n.getIn(["account"]);t({recipientUsername:r.get("username"),recipientId:r.get("id"),source:Ke.l,sourceURL:me.V+Object(qe.d)(n.get("post_id"),n.get("id")),postId:n.get("post_id"),commentId:n.get("id")})}),s.state={expanded:s.isCommentExpanded(s.props),reply:!1},s}return u()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.expandMode,n=this.state.expanded;e.expandMode!==t&&(n&&t<=st.h?this.setState({expanded:!1}):!n&&this.isCommentExpanded(this.props)&&this.setState({expanded:!0}))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isSubComment,r=e.opUsername,a=e.level,o=e.displayUsername,i=e.vote,c=e.expandMode,s=e.onCreateComment,l=e.postMedia,u=e.isUserLoggedOut,d=e.currentUsername,m=e.isPromotedPost,p=this.state,f=p.expanded,h=p.reply,g=t.getIn(["account","username"]),y=t.get("comments"),b=ge()({"GalleryComment-wrapper":!0,"comment-op":g===r,"comment-admin":t.get("has_admin_badge")}),v=this.hasMoreComments();return N.a.createElement("div",{className:"GalleryComment"},N.a.createElement("div",{className:b},N.a.createElement("div",{className:"hover-background"}),N.a.createElement("div",{className:"GalleryComment-container",onClick:this.onContainerClick},N.a.createElement("div",{className:"GalleryComment-content"},N.a.createElement(Sa,{username:g,hasOpBadge:g===r,hasAdminBadge:t.get("has_admin_badge"),onAvatarProfileClick:this.onAvatarProfileClick,onUserProfileClick:this.onUserProfileClick,isSubComment:n,commentId:t.get("id"),parentId:t.get("parent_id"),postId:t.get("post_id"),platform:t.get("platform"),createdAtDate:t.get("created_at"),avatar:t.getIn(["account","avatar"]),rank:t.get("rank"),onGiveEmerald:this.onGiveEmerald,isUserLoggedIn:!u,currentUsername:d,isPromotedPost:m}),N.a.createElement("div",{className:"GalleryComment-body"},N.a.createElement(ba.a,{expandlink:"true",opUsername:r,isLinkifyTargetMedia:!0,postMedia:l},t.get("comment"))),N.a.createElement(ja,{replies:y,toggleReplies:this.toggleReplies,isExpanded:f,onReply:this.onReply,showReply:!h&&!v,vote:i,onVote:this.onVote,pointCount:t.get("point_count"),hasMoreComments:v,loadMore:this.loadMore})))),h&&N.a.createElement("div",{className:"GalleryComment-reply"},N.a.createElement("div",{className:"avatar"},N.a.createElement(Dt.b,{displayUsername:o}),N.a.createElement("div",{className:"verticalLine"})),N.a.createElement(ya,{onCreate:this.onCreate,onClose:this.onCloseReply,placeholder:Object(_.b)("commentWriteReply"),level:a,autoFocus:!0})),f&&!v&&N.a.createElement(wa,{replies:y,level:a+1,expandMode:c,onCreateComment:s}))}}]),n}(N.a.Component);Ta.defaultProps={level:1},Ta.__docgenInfo={description:"",methods:[{name:"isCommentExpanded",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"hasMoreComments",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleReplies",docblock:null,modifiers:[],params:[{name:"expand",type:null}],returns:null},{name:"onReply",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCloseReply",docblock:null,modifiers:[],params:[],returns:null},{name:"onCreate",docblock:null,modifiers:[],params:[{name:"{\n    comment: commentString,\n    hasAdminBadge,\n    file,\n}",type:null}],returns:null},{name:"onVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onContainerClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"loadMore",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Comment",props:{level:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},comment:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!0,description:""},showPopOver:{type:{name:"func"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},postMedia:{type:{name:"object"},required:!0,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};var Aa=Object(Oe.d)(Object(T.b)(function(e,t){var n=e.postsData,r=e.user,a=t.comment;return{opUsername:n.getIn(["currentPost","account","username"]),postMedia:n.getIn(["currentPost","media"]),isPromotedPost:n.getIn(["currentPost","isAd"]),vote:n.getIn(["currentPostMeta","user","comment_votes","".concat(a.get("id"))]),isUserLoggedOut:!r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||"",currentUsername:r.get("username")||""}},{onVote:lt.D,showPopOver:Or.s,onProfileClick:Ce.ab,giveEmeraldData:it.r}),C.h)(Ta);n("q8cC");function Da(e){var t=e.count,n=void 0===t?1:t;return N.a.createElement("div",{className:"CommentsList-Placeholder-wrapper"},function(){for(var e=[],t=0;t<n;t++)e.push(N.a.createElement("div",{key:t,className:"CommentsList-Placeholder"},N.a.createElement("div",{className:"CommentsList-Placeholder-avatar-wrapper"},N.a.createElement("div",{className:"CommentsList-Placeholder-avatar"})),N.a.createElement("div",{className:"CommentsList-Placeholder-line-wrapper"},N.a.createElement("div",{className:"CommentsList-Placeholder-line"}),N.a.createElement("div",{className:"CommentsList-Placeholder-line"}),N.a.createElement("div",{className:"CommentsList-Placeholder-line"}),N.a.createElement("div",{className:"CommentsList-Placeholder-line"}))));return e}())}Da.__docgenInfo={description:"",methods:[],displayName:"CommentsPlaceholder",props:{count:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""}}};n("B0tv");function Ra(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var xa=function(e){d()(n,e);var t=Ra(n);function n(e){var i;return l()(this,n),i=t.call(this,e),P()(f()(i),"toggleBadComments",function(){i.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),P()(f()(i),"shouldRefetchComments",function(e){var t=i.props,n=t.postId,r=t.commentId,a=t.parentContext,o=t.isUserLoaded;return e.postId!==n||e.commentId!==r||e.parentContext!==a||e.isUserLoaded!==o}),P()(f()(i),"loadMoreHandler",function(){var e=i.props,t=e.commentsSort,n=e.postCommentsNextPageLink;(0,e.fetchComments)(t,n)}),P()(f()(i),"renderEmptyState",function(){return N.a.createElement("div",{className:"CommentsList-comments--empty"},N.a.createElement(Be.W,{name:Be.p,width:92}),N.a.createElement("span",null,Object(_.b)("beTheFirstToComment")))}),P()(f()(i),"renderBadComments",function(e){var t=i.props,a=t.expandMode,o=t.onCreateComment,n=i.state.expandBadComments,r=e.filter(function(e){return e.get("point_count")<0});return r.size?N.a.createElement("div",null,N.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:i.toggleBadComments},N.a.createElement(Pe.eb,{name:n?Pe.ab:Pe.bb,width:"16",height:"16"}),N.a.createElement("span",null,Object(_.b)("commentToggleBadComments",n))),n&&r.entrySeq().map(function(e){var t=At()(e,2),n=t[0],r=t[1];return N.a.createElement(Aa,{key:n,comment:r,expandMode:a,onCreateComment:o})})):""}),P()(f()(i),"renderLoadingComponent",function(){var e=i.props,t=e.isMainContentReady,n=e.isLoading,r=e.isAllCommentsLoaded,a=e.parentContext;return t&&!n?!r&&!a&&N.a.createElement(kn,{message:Object(_.b)("loadMoreComments"),onClick:i.loadMoreHandler}):N.a.createElement(Da,{count:3})}),i.commentsListContainer=Object(S.createRef)(),i.state={expandBadComments:!1,commentsListContainerStyles:{}},i}return u()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchComments)()}},{key:"componentWillUnmount",value:function(){(0,this.props.resetPostCommentsAction)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetPostCommentsAction,r=t.fetchComments;this.shouldRefetchComments(e)&&(n(),r())}},{key:"render",value:function(){var t=this,e=this.props,n=e.comments,r=e.postId,a=e.isMainContentReady,o=e.isLoading,i=e.commentId,c=e.expandMode,s=e.onCreateComment,l=this.state.commentsListContainerStyles;return N.a.createElement("div",{className:"CommentsList-comments",ref:function(e){t.commentsListContainer=e},style:l},i&&N.a.createElement("div",{className:"single-comment-thread"},N.a.createElement("span",null,Object(_.b)("viewingSingleComment")),N.a.createElement("p",null,N.a.createElement(je.a,{to:"/".concat(W.m,"/").concat(r),className:"load-more"},Object(_.b)("seeRestComments")))),N.a.createElement("div",{className:"CommentsList-comments--container"},a&&0<n.size&&n.filter(function(e){return 0<=e.get("point_count")}).entrySeq().map(function(e){var t=At()(e,2),n=t[0],r=t[1];return N.a.createElement(Aa,{key:n,comment:r,expandMode:c,onCreateComment:s})}),a&&this.renderBadComments(n),!n.size&&!o&&this.renderEmptyState()),N.a.createElement("div",{className:"CommentsList-comments--loading"},this.renderLoadingComponent()))}}]),n}(N.a.Component);xa.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldRefetchComments",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"loadMoreHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"renderEmptyState",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[{name:"comments",type:null}],returns:null},{name:"renderLoadingComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentsList",props:{postId:{type:{name:"string"},required:!0,description:""},comments:{type:{name:"object"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},postCommentsNextPageLink:{type:{name:"string"},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isAllCommentsLoaded:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},fetchComments:{type:{name:"func"},required:!0,description:""}}};var Ma=Object(T.b)(function(e){var t=e.postsData,n=e.comments,r=e.ui,a=e.user;return{postId:t.get("currentPost").get("id"),comments:n.get("postComments"),commentsSort:n.get("postCommentsSort"),postCommentsNextPageLink:n.get("postCommentsNextPageLink"),isLoading:r.spinner.get("postComments",{}).loading||!1,isAllCommentsLoaded:n.get("isAllPostCommentsLoaded"),isMainContentReady:t.get("isMainContentReady"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded")}},{resetPostCommentsAction:lt.A,commentSortSelectedAction:lt.p})(xa),Fa=n("gjSL");n("QqH4");function _a(){return N.a.createElement("div",{className:"Comment-create"},N.a.createElement("div",{className:"Comment-create-guest"},N.a.createElement("span",{className:"placeholder"},Object(_.b)("signInToLeaveComment")),N.a.createElement("div",null,N.a.createElement(Ue.b,{className:"Button signin",label:Object(_.b)("signIn"),title:Object(_.b)("signIn"),href:Object(Fa.a)()}),N.a.createElement(Ue.b,{className:"Button signup",label:Object(_.b)("signUp"),title:Object(_.b)("signUp"),href:Object(Fa.b)()}))))}function Ga(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}_a.__docgenInfo={description:"",methods:[],displayName:"SignInToLeaveComment"};var La=function(e){d()(n,e);var t=Ga(n);function n(e){var m;return l()(this,n),m=t.call(this,e),P()(f()(m),"expandAll",function(){m.setState({expandMode:st.i})}),P()(f()(m),"collapseAll",function(){m.setState(function(e){return{expandMode:st.h-Math.abs(e.expandMode)}})}),P()(f()(m),"handleClickToggleForceExpanded",function(){m.state.expandMode!==st.i?m.expandAll():m.collapseAll()}),P()(f()(m),"onKeyboardInteraction",function(e){if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case"[":m.handleClickToggleForceExpanded(e);break;case"]":m.collapseAll()}return e}),P()(f()(m),"createComment",function(e){var t=e.comment,n=e.hasAdminBadge,r=void 0!==n&&n,a=e.parentId,o=void 0===a?null:a,i=e.file,c=void 0===i?null:i,s=m.props,l=s.postId;(0,s.createPostCommentAction)({imageId:l,comment:t,parentId:o,hasAdminBadge:r,file:c})}),P()(f()(m),"fetchComments",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=m.props,r=n.id,a=n.fetchPostCommentsAction,o=n.commentId,i=n.parentContext,c=n.scrollToComments,s=n.contentOffset,l=n.galleryId,u=n.isUserLoggedIn;if(n.isUserLoaded){var d=u?st.l:st.m;t&&(d=st.k),a(l,e,t,o,0!==i,d),o&&c(r,s)}}),P()(f()(m),"setPlaceholderHeight",function(){m.setState({commentsListContainerStyles:{minHeight:"".concat(m.commentsListContainer.current.getBoundingClientRect().height,"px")}})}),P()(f()(m),"sortHandler",function(e){var t=m.props,n=t.commentSortSelectedAction,r=t.resetPostCommentsAction;m.setPlaceholderHeight(),r(),m.fetchComments(e),n(e)}),m.commentsListContainer=N.a.createRef(),m.state={expandMode:e.commentId?st.i:st.g,commentsListContainerStyles:{}},m}return u()(n,[{key:"componentDidMount",value:function(){Object(j.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(j.mb)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.commentId,a=t.comments;!e.commentId&&r&&this.expandAll(),e.commentId&&!r&&e.postId===n&&this.setState({expandMode:st.h}),a.size&&!Object(Wr.is)(e.comments,a)&&this.setState({commentsListContainerStyles:{}})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.lazyLoad,r=e.postId,a=e.isUserLoggedIn,o=e.commentsSortList,i=e.commentsSort,c=e.commentCount,s=e.parentContext,l=e.commentId,u=this.state,d=u.expandMode,m=u.commentsListContainerStyles,p=d===st.i,f=N.a.createElement(Ma,{id:t,expandMode:d,onCreateComment:this.createComment,fetchComments:this.fetchComments,parentContext:s,commentId:l});return N.a.createElement("div",{id:t,className:"CommentsList",ref:this.commentsListContainer,style:m},a?N.a.createElement(ya,{key:"commentForm-".concat(r),onCreate:this.createComment}):N.a.createElement(_a,null),N.a.createElement("div",{id:"".concat(t,"-headline"),className:"CommentsList-headline"},N.a.createElement("div",{className:"CommentsList-headline--counter"},N.a.createElement("span",null,Object(_.b)("postCommentsCounter",Object(Xe.j)(c)))),N.a.createElement("div",{className:"CommentsList-headline--expand",onClick:this.handleClickToggleForceExpanded},N.a.createElement("span",null,Object(_.b)("expandAll",p))," ",N.a.createElement(Pe.eb,{name:p?Pe.V:Pe.X,width:"15",height:"15",fillColor:"#DADCE2"})),N.a.createElement(Ut.a,{className:"CommentsList-headline--sort",dropdownIcon:N.a.createElement(Be.W,{name:Be.f,width:15}),options:o,value:i,onChange:this.sortHandler})),n?N.a.createElement(ne,{lazyLoadBuffer:400},function(){return f}):f)}}]),n}(N.a.Component);La.__docgenInfo={description:"",methods:[{name:"expandAll",docblock:null,modifiers:[],params:[],returns:null},{name:"collapseAll",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickToggleForceExpanded",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"createComment",docblock:null,modifiers:[],params:[{name:"{\n    comment,\n    hasAdminBadge = false,\n    parentId = null,\n    file = null,\n}",type:null}],returns:null},{name:"fetchComments",docblock:null,modifiers:[],params:[{name:"sort",type:null},{name:"postCommentsNextPageLink",type:null}],returns:null},{name:"setPlaceholderHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"sortHandler",docblock:null,modifiers:[],params:[{name:"sort",type:null}],returns:null}],displayName:"CommentsListWrapper",props:{id:{type:{name:"string"},required:!0,description:""},lazyLoad:{type:{name:"bool"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!1,description:""},comments:{type:{name:"object"},required:!0,description:""},commentsSortList:{type:{name:"array"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},galleryId:{type:{name:"string"},required:!1,description:""},createPostCommentAction:{type:{name:"func"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},fetchPostCommentsAction:{type:{name:"func"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},scrollToComments:{type:{name:"func"},required:!0,description:""}}};var Va=Object(C.h)(Object(T.b)(function(e,t){var n=e.postsData,r=e.comments,a=e.user,o=e.ui,i=t.match;return{postId:n.get("currentPost").get("id"),commentCount:n.getIn(["currentPostMeta","post","comment_count"],0),commentId:(i.params||{}).commentId||null,comments:r.get("postComments"),commentsSort:r.get("postCommentsSort"),commentsSortList:r.get("postCommentsSortList"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded"),parentContext:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.showContext,r=t.commentId;return n||(r?1:0)}(i.params),contentOffset:o.cover.get("collapsed",0),galleryId:(i.params||{}).galleryId}},{createPostCommentAction:lt.r,commentSortSelectedAction:lt.p,fetchPostCommentsAction:lt.t,resetPostCommentsAction:lt.A,scrollToComments:Er.g})(La));function Ua(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ba=function(e){d()(r,e);var n=Ua(r);function r(e){var t;return l()(this,r),t=n.call(this,e),P()(f()(t),"onResize",function(e){t.updateContentWrapperWidth(e)}),P()(f()(t),"updateContentWrapperWidth",function(){(0,t.props.updateGalleryContentWrapperWidth)(t.getMaxWidth())}),P()(f()(t),"getMaxWidth",function(){var e=t.contentWrapper.current;return e&&e.getBoundingClientRect().width||F.q}),t.contentWrapper=N.a.createRef(),t}return u()(r,[{key:"componentDidMount",value:function(){Object(j.c)("resize",this.onResize),this.updateContentWrapperWidth(this.getMaxWidth())}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.transformationAnimating,r=e.transformationTitleStyle,a=e.isFadeOut,o=e.style,i=e.commentsListId,c=e.isContentWrapperMount,s=e.commentPermalinkId,l=e.isOwner;return N.a.createElement(It.c,{isLoading:!t},t?N.a.createElement("div",{className:"Gallery".concat(n?" Gallery--transformation":""),style:o},N.a.createElement("div",{className:"Gallery-MainContainer".concat(a?" fadeOut":"")},N.a.createElement(Hr,{post:t,commentsListId:i}),N.a.createElement("div",{className:"Gallery-contentWrapper"},N.a.createElement("div",{className:"Gallery-insideContentWrapper",ref:this.contentWrapper},c&&N.a.createElement(Hn,{post:t,transformationTitleStyle:r,isOwner:l}),c&&!t.get("commentsDisabled")&&N.a.createElement(Va,{id:i,lazyLoad:!s})))),N.a.createElement("div",{className:"Gallery-Sidebar"},N.a.createElement(br,null))):N.a.createElement("div",{className:"placeholder"}))}}]),r}(N.a.Component);Ba.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"updateContentWrapperWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"getMaxWidth",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostContentWrapper",props:{post:{type:{name:"object"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isFadeOut:{type:{name:"bool"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},isContentWrapperMount:{type:{name:"bool"},required:!1,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!1,description:""},commentPermalinkId:{type:{name:"string"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""}}};n("CVa3");function Ha(e){var t=e.style,n=e.children,r=e.showGate,a=Object(_.b)("desktopAgeGate"),o=Object(S.useState)(!1),i=At()(o,2),c=i[0],s=i[1];return r&&!c?N.a.createElement("div",{className:"WallPage"},N.a.createElement("div",{className:"WallPage-background"}),N.a.createElement(ye.a,{minHeight:0,className:"GalleryCover",backgroundType:q.n,hideNewPostNotification:!0}),N.a.createElement("div",{className:"Wall",style:t},N.a.createElement("img",{src:Be.a[Be.H]}),a.text,N.a.createElement("div",{className:"Wall-choices"},N.a.createElement("a",{className:"Wall-Button Button btn-wall--no",href:"/"},a.backButton),N.a.createElement("div",{className:"Wall-Button Button btn-wall--yes",onClick:function(){return s(!0)}},a.continueButton)),N.a.createElement("div",{className:"Wall-footer"},a.terms))):n}function Wa(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}Ha.__docgenInfo={description:"",methods:[],displayName:"Wall",props:{style:{type:{name:"object"},required:!1,description:""},children:{type:{name:"element"},required:!1,description:""},showGate:{type:{name:"bool"},required:!1,description:""}}};var za=function(e){d()(n,e);var t=Wa(n);function n(e){var d;return l()(this,n),d=t.call(this,e),P()(f()(d),"loadPrimis",function(){var e=d.props,t=e.post,n=e.adsEnabled,r=e.isLoggedIn,a=e.userIsLoaded,o=d.state.primisLoaded;if(o&&a&&!r&&t&&n&&Object(L.d)(t.get("adConfig"))&&!t.get("is_ad"))if(o){var i=document.getElementById("primisPlayerContainerDiv");i&&i.classList.remove("hide!")}else{var c=function(e){var t={s:e,playerApiId:e};return Object(me.Y)()||(t.pubUrl="www.primis.tech"),Object(j.n)("script",{src:"https://live.primis.tech/live/liveView.php?".concat(new URLSearchParams(t)),async:!0})}(108937);document.body.appendChild(c),d.setState({primisLoaded:!0})}}),P()(f()(d),"hidePrimis",function(){if(d.state.primisLoaded){var e=document.getElementById("primisPlayerContainerDiv");if(e){e.classList.add("hide!");var t=e.querySelector("video");t&&(t.muted=!0)}}}),P()(f()(d),"onResize",function(e){(0,d.props.updateViewportHeightAction)(e)}),P()(f()(d),"scrollToFirstMedia",function(){var e=Object(j.M)(),t=d.props.byLinePosition;(d.state.previousByLinePosition-26<=e||t-25<e)&&Object(j.tb)(0,t-25)}),P()(f()(d),"onKeyboardInteraction",function(e){var t=d.props,n=t.history,r=t.newPostAction,a=t.goToPreviousPostAction,o=t.goToNextPostAction,i=t.params,c=t.toggleAudioState;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case k.g:case k.f:d.lastNavArrow=!0,a(w.o.HOTKEY,i);break;case k.i:case k.h:d.lastNavArrow=!0,o(w.o.HOTKEY,i);break;case"`":r(),n.push("/".concat(W.y));break;case"m":case"M":c()}return e}),P()(f()(d),"retrievePost",function(e){var t=d.props,n=t.params,r=t.post,a=t.retrievePostAction,o=t.retrievePostMetaAction,i=t.retrievePromotedPostAction,c=t.failedFetchAttempts,s=t.toastError,l=t.incomingPost,u=d.state.setToast;3!==c?r&&!l&&r.get("id")===e||(l&&l.get("isAdInserted")?i(e):l&&l.get("inGallery")&&l.get("media")&&0<l.get("media").size?o(e,l):a(e)):u||(d.setState({setToast:!0}),s({id:"post-".concat(n.galleryId),description:Object(_.b)("errorLoadingPost")}))}),P()(f()(d),"calculateTopOffset",function(e){return Math.max(0,e-2*q.h)}),P()(f()(d),"onScroll",function(){var e=d.props,t=e.reachedBottom,n=e.post,r=e.isLoading,a=e.isCommentsLoading,o=Object(j.bb)(),i=Object(j.u)(),c=Object(j.s)(),s=o+i;c-w.p<=s&&n&&!d.reachedBottomSent&&!r&&!a&&(t(n,c),d.reachedBottomSent=!0)}),d.state={isFadeOut:!1,isContentWrapperMount:!1,setToast:!1,prevPostId:null,previousByLinePosition:e.byLinePosition,primisLoaded:!1},d.reachedBottomSent=!1,d.lastNavArrow=!1,d}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params,n=e.retrievePostAction,r=t.galleryId;n&&this.retrievePost(r);var a=this.props.history;a&&"PUSH"===a.action&&Object(j.tb)(0,0),Object(j.c)("keydown",this.onKeyboardInteraction),this.loadPrimis()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.adsEnabled,r=t.params,a=t.post,o=t.isLoading,i=t.isLoggedIn,c=t.promotedPostViewAction,s=t.setTransformationAction,l=t.isPromotedTransformation,u=t.transformationEnabled,d=t.updateAdConfigAction,m=t.sendToTop,p=t.retrievePostAction,f=this.state.isFadeOut,h=r.galleryId;if((!e.retrievePostAction&&p||a&&h!==a.get("id")&&!o)&&(this.retrievePost(h),this.reachedBottomSent=!1),f&&(m?Object(j.sb)(function(){return Object(j.tb)(0,0)}):Object(j.sb)(this.scrollToFirstMedia),this.lastNavArrow=!1),a&&!e.post&&Object(j.sb)(function(){return Object(j.Eb)("resize")}),a){var g=!e.post||a.get("id")!==e.post.get("id"),y=!Object(L.d)(a.get("adConfig"))&&e.post&&Object(L.d)(e.post.get("adConfig"));a.get("isAd")&&g?(c(a.get("id")),!l&&u&&s(!1,!1)):y&&!l&&!a.get("inGallery")&&u&&s(!1,!1),!g||a.get("inGallery")||Object(L.d)(a.get("adConfig"))||d({enabled:!1}),!n||a.get("is_ad")||i?this.hidePrimis():this.loadPrimis()}}},{key:"componentWillUnmount",value:function(){var e=this.props.resetPostDataAction;Object(j.mb)("resize",this.onResize),Object(j.mb)("keydown",this.onKeyboardInteraction),e(),this.hidePrimis()}},{key:"shouldShowGate",value:function(){var e=this.props,t=e.isLoggedIn,n=e.post;if(t||!n||n.get("inGallery"))return!1;var r=n.getIn(["adConfig","wallFlags"]);return r&&r.includes(z.o)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.topOffset,r=e.isLoggedIn,a=e.isOwner,o=e.transformationAnimating,i=e.transformationCoverStyle,c=e.transformationBackgroundStyle,s=e.transformationTitleStyle,l=e.adsEnabled,u=e.updateGalleryContentWrapperWidth,d=e.params,m=e.isMainContentReady,p=e.isInRecircExperimentWithTreatment,f=e.treatment,h=e.isLoading,g=this.state,y=g.isFadeOut,b=g.isContentWrapperMount,v={marginTop:this.calculateTopOffset(n)},C="CommentsList-".concat(t&&t.get("id"));return N.a.createElement(Ha,{showGate:this.shouldShowGate()},N.a.createElement("div",{className:"GalleryPage",style:c},N.a.createElement(fe,{post:t}),N.a.createElement(ue.a,null),N.a.createElement($.d,null),N.a.createElement(Pt,null),r&&N.a.createElement(N.a.Fragment,null,N.a.createElement(We,null),t&&N.a.createElement(ze.a,{postId:t.get("id"),isAlbum:t.get("isAlbum")}),N.a.createElement(dt,null),N.a.createElement(vt,null)),N.a.createElement(ct,null),N.a.createElement(re.a,null),N.a.createElement(ae.a,null),N.a.createElement(oe.a,null),N.a.createElement(ie.a,null),N.a.createElement("div",{className:"GalleryPage-background",style:i}),N.a.createElement(Ge,null),N.a.createElement(Ba,{style:v,post:t,transformationAnimating:o,transformationTitleStyle:s,isFadeOut:y,commentsListId:C,isContentWrapperMount:b,updateGalleryContentWrapperWidth:u,commentPermalinkId:d.commentId,isOwner:a}),N.a.createElement("div",{className:"badges-wrapper"},N.a.createElement(Q.a,null)),t&&l&&N.a.createElement(jt,{post:t}),t&&m&&!h&&N.a.createElement(ne,{lazyLoadBuffer:800},function(){return N.a.createElement(le,{experimentName:I.e},p&&!t.get("isAd")?N.a.createElement(B,{op:t.getIn(["account","username"],""),postHash:t.get("id"),treatment:f}):N.a.createElement(H,{adsEnabled:l,adConfig:t.get("ad_config")}))}),t&&t.get("hasPicsart")&&N.a.createElement(qt.a,null),N.a.createElement(Z.a,null),N.a.createElement(X,{onScroll:this.onScroll})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.failedFetchAttempts,r=e.isLoading,a=e.isLoadingMeta,o=e.post,i=e.byLinePosition,c=t.setToast,s=t.prevPostId,l=t.isFadeOut;if(o&&o.get("id")!==s)return{prevPostId:o.get("id"),isContentWrapperMount:!0,setToast:!1};if(0===n&&c)return{setToast:!1};if(o&&(r||a)){if(!l)return{previousByLinePosition:i,isFadeOut:!0}}else if(l)return{isFadeOut:!1};return null}}]),n}(N.a.Component);za.defaultProps={failedFetchAttempts:0};var Ya=function(e,t){var n=e.experiments,r=e.postsData,a=e.posts,o=e.ui,i=e.user,c=e.ad,s=n.get(I.e),l=s&&s.get("isActive")&&!s.get("isControl"),u=s?s.get("activeTreatment"):"",d=c.getIn(["transformation","enabled"]),m={},p={},f={};if(c.getIn(["transformation","animatingIn"])&&(m={opacity:0}),d){var h=c.getIn(["transformation","backgroundColor"]);m={background:"linear-gradient(rgba(".concat(h,", 0.4) 0%, rgba(").concat(h,", 1) 100%), url(").concat(c.getIn(["transformation","backgroundImage"]),")"),opacity:c.getIn(["transformation","animatingOut"])?0:1},p={background:"rgb(".concat(c.getIn(["transformation","backgroundColor"]),")")},f={fontFamily:c.getIn(["transformation","fontFamily"]),fontSize:c.getIn(["transformation","titleFontSize"])}}return{isInRecircExperimentWithTreatment:l,treatment:u,post:r.get("currentPost")&&Object(wt.b)(r.get("currentPost")),incomingPost:a.getIn(["posts",O()(t,"match.params.galleryId")]),isMainContentReady:r.get("isMainContentReady"),topOffset:o.cover.get("height"),userIsLoaded:i.get("isLoaded"),isLoggedIn:!!i.get("isLoggedIn"),isOwner:i.get("isLoggedIn")&&i.get("id")===r.getIn(["currentPost","account","id"]),isLoading:o.spinner.get("retrievePost",{}).loading,isLoadingMeta:o.spinner.get("retrievePostMeta",{}).loading,isCommentsLoading:o.spinner.get("postComments",{}).loading||!1,byLinePosition:r.get("byLinePosition"),adsEnabled:Object(de.g)(c,i),isPromotedTransformation:c.getIn(["transformation","promotedPostIds"]).includes(r.getIn(["currentPost","id"])),transformationAnimating:c.getIn(["transformation","animatingIn"])||c.getIn(["transformation","animatingOut"]),transformationCoverStyle:m,transformationBackgroundStyle:p,transformationTitleStyle:f,transformationEnabled:d,failedFetchAttempts:r.get("error").failedFetchAttempts,sendToTop:O()(t,"location.state.sendToTop",!1)}};function Ka(e){var t=Object(C.g)();return N.a.createElement(za,p()({params:t},e))}za.__docgenInfo={description:"",methods:[{name:"loadPrimis",docblock:null,modifiers:[],params:[],returns:null},{name:"hidePrimis",docblock:null,modifiers:[],params:[],returns:null},{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"scrollToFirstMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"retrievePost",docblock:null,modifiers:[],params:[{name:"galleryId",type:null}],returns:null},{name:"calculateTopOffset",docblock:null,modifiers:[],params:[{name:"coverHeight",type:null}],returns:null},{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldShowGate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDetail",props:{failedFetchAttempts:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},params:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},incomingPost:{type:{name:"object"},required:!1,description:""},topOffset:{type:{name:"number"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},userIsLoaded:{type:{name:"bool"},required:!1,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isLoadingMeta:{type:{name:"bool"},required:!1,description:""},byLinePosition:{type:{name:"number"},required:!1,description:""},isCommentsLoading:{type:{name:"bool"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationCoverStyle:{type:{name:"object"},required:!1,description:""},transformationBackgroundStyle:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},transformationEnabled:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},setTransformationAction:{type:{name:"func"},required:!1,description:""},toggleAudioState:{type:{name:"func"},required:!1,description:""},isPromotedTransformation:{type:{name:"bool"},required:!1,description:""},promotedPostViewAction:{type:{name:"func"},required:!0,description:""},reachedBottom:{type:{name:"func"},required:!0,description:""},updateViewportHeightAction:{type:{name:"func"},required:!0,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!0,description:""},goToNextPostAction:{type:{name:"func"},required:!0,description:""},goToPreviousPostAction:{type:{name:"func"},required:!0,description:""},newPostAction:{type:{name:"func"},required:!0,description:""},retrievePostAction:{type:{name:"func"},required:!0,description:""},retrievePromotedPostAction:{type:{name:"func"},required:!0,description:""},retrievePostMetaAction:{type:{name:"func"},required:!0,description:""},resetPostDataAction:{type:{name:"func"},required:!0,description:""},toastError:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!0,description:""},updateAdConfigAction:{type:{name:"func"},required:!0,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},isInRecircExperimentWithTreatment:{type:{name:"bool"},required:!1,description:""},treatment:{type:{name:"string"},required:!1,description:""}}},Ka.__docgenInfo={description:"",methods:[],displayName:"PostDetailWithParams"}},QFwP:function(e,t,n){},QqH4:function(e,t,n){},"R/W3":function(e,t,n){var r=n("KwMD"),a=n("2ajD"),o=n("CZoQ");e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},Rhnt:function(e,t,n){},SeDK:function(e,t,n){},T7zL:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r),c=(n("17x9"),n("G5ih")),s=n("gGMO"),l=n("Nm7g");n("pxaO");function a(e){var t=e.points,n=e.ups,r=e.downs,a=66*Math.PI,o=n*a/(n+r);return i.a.createElement("div",{className:"ChartData"},i.a.createElement("div",{className:"Chart"},i.a.createElement("svg",{width:"192",height:"192",viewBox:"14 0 178 192",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{filter:"url(#filter0_d)"},i.a.createElement("g",{filter:"url(#filter1_d)"},i.a.createElement("circle",{cx:"96",cy:"86",r:"65",fill:"#FE6065"})),i.a.createElement("circle",{r:"33",cx:"0",cy:"0",stroke:"#2FBE7C",strokeWidth:"97",strokeDasharray:"".concat(o," ").concat(a),transform:"rotate(-90) scale(1, -1) translate(-86, -96)"}),i.a.createElement("g",{filter:"url(#filter2_d)"},i.a.createElement("circle",{cx:"96",cy:"86",r:"50",fill:"#3C424B"})),i.a.createElement("text",{x:"96",y:"82",textAnchor:"middle",className:"points"},Object(l.j)(t)),i.a.createElement("text",{x:"96",y:"100",textAnchor:"middle",className:"pointsLabel"},Object(c.b)("statisticsDialogPoints"))),i.a.createElement("defs",null,i.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"192",height:"192",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"10"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter1_d",x:"17",y:"17",width:"158",height:"158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"10"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter2_d",x:"32",y:"24",width:"128",height:"128",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"2"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))),i.a.createElement("div",{className:"Votes"},i.a.createElement("div",{className:"ups"},i.a.createElement(s.b,{isMini:!0,selected:!0})," ",Object(l.j)(n)),i.a.createElement("div",{className:"downs"},i.a.createElement(s.a,{isMini:!0,selected:!0})," ",Object(l.j)(r))))}a.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{points:{type:{name:"number"},required:!0,description:""},ups:{type:{name:"number"},required:!0,description:""},downs:{type:{name:"number"},required:!0,description:""}}}},Uyyq:function(e,t,n){e.exports=n.p+"desktop-assets/drag.660828a621ac6ca507e8b0ec53165870.png"},Uz4u:function(e,t,n){e.exports=n.p+"desktop-assets/ReactionGifEmptySearch.2ac15cedf0d98e71a201086d56b96c2a.svg"},Uzvo:function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return I});var r=n("pVnL"),g=n.n(r),a=n("lSNA"),o=n.n(a),i=n("lwsE"),c=n.n(i),s=n("W8MJ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("AoHe"),E=n("+qLk");var O=n("KMpf");n("ZYtQ");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}function N(h){return function(e){d()(n,e);var t=S(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){if(!h)return null;var e=this.props,t=e.post,n=e.height,r=e.width,a=e.colorLoading,o=e.streamSection,i=e.streamParam;if(!t)return null;var c=t.toJS(),s={color:a,height:n},l=Object(C.b)(c,r,n),u=l.contentWidth,d=l.contentHeight,m=Object(C.e)(c.isAd,n,d,null!=c.title&&c.title.length),p="".concat(function(e,t,n){return!e&&t&&n?"/".concat(t,"/").concat(n):e&&!e.inGallery||![E.H,E.r,E.F,E.t,E.u].includes(t)?t&&n?"/".concat(t,"/").concat(n):e&&e.isAlbum?"/a":"":"/".concat(E.n)}(c,o,i),"/").concat(c.id),f=P(P({},this.props),{},{spinner:s,post:P(P({},c),{},{streamParam:i||c.streamParam,streamSection:o||c.streamSection,width:u,height:d,href:p}),styles:m});return b.a.createElement(h,g()({className:"Post-item"},f))}}]),n}(b.a.Component)}function j(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id,i=n.getIn(["posts",o]);return{post:i&&Object(O.b)(i),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}function q(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id,i=n.getIn(["recircPosts",o]);return{post:i&&Object(O.b)(i),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}var w=function(e){return Object(v.b)(j)(N(e))},I=function(e){return Object(v.b)(q)(N(e))}},VhX2:function(e,t,n){var r=n("vlbB");e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},W8uW:function(e,t,n){},WHPL:function(e,t,n){},WYmX:function(e,t,n){},X9Zs:function(e,t,n){e.exports=n.p+"desktop-assets/b3.e6334893f2151aa2c16ce7596c4daeaa.svg"},"XF+e":function(e,t,n){},XKKw:function(e,t,n){},XVVZ:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),v=n.n(a),o=n("J4zp"),C=n.n(o),E=n("q1tI"),O=n.n(E),k=(n("17x9"),n("b5GN")),P=n("AG5K"),S=n("OX3u"),N=n("GB65"),j=n("pNV7"),q=n("BWa0");n("7Yk7");function w(e){function t(e){""!==e?(e=Math.min(Math.max(a,e),o))!==l&&(u(e),i(e)):u(e)}function n(e,t){return O.a.createElement(q.eb,{name:e,width:"26",height:"26",viewBox:"0 0 26 26",className:t?"disabled":"",fillColor:t?"#585D6A":"#ffffff",strokeColor:t?"#585D6A":"#ffffff"})}var r=e.initialNumber,a=e.minNumber,o=e.maxNumber,i=e.onNumberChange,c=Object(E.useState)(r),s=C()(c,2),l=s[0],u=s[1];return O.a.createElement("div",{className:"InputStepper"},O.a.createElement("div",{className:"InputStepper-minus",onClick:function(){return t(l-1)}},n(q.L,a===l)),O.a.createElement("div",{className:"InputStepper-number"},O.a.createElement("input",{type:"number",value:l,onChange:function(e){return t(e.target.value)},onBlur:function(){l||u(a)},min:a,max:o})),O.a.createElement("div",{className:"InputStepper-plus",onClick:function(){return t(l+1)}},n(q.M,o===l)))}w.defaultProps={initialNumber:1,minNumber:1,maxNumber:12,onNumberChange:function(){}},w.__docgenInfo={description:"",methods:[],displayName:"InputStepper",props:{initialNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},minNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},maxNumber:{defaultValue:{value:"12",computed:!1},type:{name:"number"},required:!1,description:""},onNumberChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""}}};n("rlD7");function I(e){var t=e.monthNumber,n=e.price,r=e.onClick,a=e.isDisabled;return O.a.createElement("button",{type:"button",className:"GiveGiftButton",onClick:r,disabled:a},O.a.createElement("div",{className:"GiveGiftButton-description"},O.a.createElement(q.eb,{name:q.Y,width:"20",height:"20",viewBox:"0 0 20 20"}),O.a.createElement("span",null,Object(P.a)("giftPeriod",t))),O.a.createElement("div",{className:"GiveGiftButton-price"},"$".concat((n*t).toFixed(2))))}I.defaultProps={monthNumber:1,price:5,onClick:function(){}},I.__docgenInfo={description:"",methods:[],displayName:"GiveGiftButton",props:{monthNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},price:{defaultValue:{value:"5",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}};var T=n("7oyi");n("IgJu");var i=n("wAdX"),c=n("/PhX"),s=n("RUHF");t.a=Object(r.b)(function(e){var t=e.emerald,n=e.user,r=t.get("giveEmeraldData").toJS();return r.gifterId=n.get("id"),{giftData:r}},function(t){return{close:function(){t(Object(c.y)(S.p)),t(Object(s.v)())},submit:function(e){t(Object(s.p)(e))}}})(function(y,e){var b=1<arguments.length&&void 0!==e?e:{};function t(e){var t=e.giftData,n=e.close,r=e.onDialogOpen,a=e.submit;if(!t.recipientUsername)return null;var o=Object(E.useState)(t.amount||1),i=C()(o,2),c=i[0],s=i[1],l=Object(E.useState)(t.anonymous||!1),u=C()(l,2),d=u[0],m=u[1],p=Object(E.useState)(!1),f=C()(p,2),h=f[0],g=f[1];return O.a.createElement(y,v()({className:"GiveGiftDialog",isModal:!1,onClose:n,name:S.p,onOpen:r},b),O.a.createElement("div",{className:"GiveGiftDialog-head"},O.a.createElement(j.W,{name:j.S}),O.a.createElement(T.b,{className:"GiveGiftDialog-head--close",image:O.a.createElement(q.eb,{name:q.g,width:"32",height:"32"}),onClick:n})),O.a.createElement("div",{className:"GiveGiftDialog-content"},O.a.createElement("div",{className:"GiveGiftDialog-title"},t.title||Object(P.a)("giveGiftDialogTitle")),O.a.createElement("div",{className:"GiveGiftDialog-description"},Object(P.a)("giveGiftDialogDescription",t.recipientUsername)),O.a.createElement("div",{className:"GiveGiftDialog-input"},O.a.createElement("span",null,Object(P.a)("howManyMonths")),O.a.createElement(w,{initialNumber:c,onNumberChange:s})),O.a.createElement("div",{className:"GiveGiftDialog-anonymously"},O.a.createElement("label",{className:"GiveGiftDialog-anonymously--input"},O.a.createElement("input",{type:"checkbox",name:"giftAnonymously",id:"giftAnonymously",onChange:function(){return m(!d)},checked:d}),O.a.createElement("span",null)),O.a.createElement("label",{className:"GiveGiftDialog-anonymously--label",htmlFor:"giftAnonymously"},Object(P.a)("giftAnonymously"))),O.a.createElement("div",{className:"GiveGiftDialog-button"},O.a.createElement(I,{monthNumber:c,onClick:function(){g(!0);var e=Object(N.H)();a(Object.assign(t,{amount:c,anonymous:d,redirectURL:e,sourceURL:t.sourceURL?t.sourceURL:e,recipientUsername:t.recipientUsername}))},isDisabled:h})),O.a.createElement("div",{className:"GiveGiftDialog-footer"},Object(P.a)("giveGiftDialogFooter"),O.a.createElement("a",{href:"/".concat(k.f,"?source=giveGiftDialog"),target:"_blank",rel:"noreferrer noopener"},Object(P.a)("fullInfo")))))}return t.defaultProps={onDialogOpen:function(){}},t}(i.a))},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},Ya97:function(e,t,n){},ZCgT:function(e,t,n){var r=n("tLB3");e.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},ZYtQ:function(e,t,n){},"a/1F":function(e,t,n){},c0eP:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("/MKj")),s=n("55Ip"),l=n("TSYQ"),u=n.n(l),d=n("pNV7"),m=n("b5GN"),p=n("G5ih"),f=n("fdoY"),h=(n("W8uW"),Object(p.b)("newPost"));function g(e){var t=e.className,n=e.onClick,r=u()(a()({Button:!0,upload:!0},t,t));return i.a.createElement(s.a,{className:r,to:"/".concat(m.y),onClick:n},i.a.createElement("img",{src:d.a[d.o]}),i.a.createElement("span",{className:"newPostLabel"},h))}function y(e){var t=e.onClick;return i.a.createElement(s.a,{to:"/".concat(m.y),onClick:t},h)}g.defaultProps={className:""};var b=Object(c.b)(null,{onClick:f.ib}),v=b(y);g.__docgenInfo={description:"",methods:[],displayName:"NewPostButton",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},t.b=b(g),y.__docgenInfo={description:"",methods:[],displayName:"NewPostLink",props:{onClick:{type:{name:"func"},required:!1,description:""}}}},cG8M:function(e,t,n){"use strict";n.d(t,"b",function(){return N}),n.d(t,"a",function(){return T});var r=n("pVnL"),j=n.n(r),a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),g=n("lSNA"),y=n.n(g),b=(n("4cSd"),n("q1tI")),D=n.n(b),v=(n("17x9"),n("/MKj")),C=n("TSYQ"),R=n.n(C),E=n("GB65"),q=n("wmRA"),x=n("yA1n"),O=n("WY5P"),k=n("2c7z"),w=n("ej/z"),M=n("F8bk");n("qhsG");function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var I=function(e){d()(n,e);var t=P(n);function n(e){var o;return i()(this,n),o=t.call(this,e),y()(l()(o),"movementStartPos",0),y()(l()(o),"volumeStart",0),y()(l()(o),"stateIndicator",D.a.createRef()),y()(l()(o),"time",D.a.createRef()),y()(l()(o),"scrubber",D.a.createRef()),y()(l()(o),"bar",D.a.createRef()),y()(l()(o),"audioIndicator",D.a.createRef()),y()(l()(o),"volume",D.a.createRef()),y()(l()(o),"updateDimensionsFromScrubber",function(){var e=o.scrubber.current.offsetWidth;e=e||1,o.updateDimensions(e,o.scrubber.current.getBoundingClientRect().left)}),y()(l()(o),"handleMouseDown",function(){Object(E.c)("mouseup",o.handleMouseUp),Object(E.c)("mousemove",o.handleMouseMove),Object(E.y)("body").style.userSelect="none",o.setState({dragging:!0})}),y()(l()(o),"handleMouseUp",function(){var t=o.props.onTimeChange;Object(E.mb)("mouseup",o.handleMouseUp),Object(E.mb)("mousemove",o.handleMouseMove),Object(E.y)("body").style.userSelect="auto",o.setState(function(e){return{scrubPauseWait:t(e.playedPercentModifier),dragging:!1}})}),y()(l()(o),"handleMouseMove",function(e){var t=o.props.onScrubbing,n=o.state.scrubberWidth;t();var r=o.movementStartPos,a=n;o.setState({playedPercentModifier:o.getPlayedPercentModifier(e.pageX,r,a)})}),y()(l()(o),"handleMouseDownVolume",function(){Object(E.c)("mouseup",o.handleMouseUpVolume),Object(E.c)("mousemove",o.handleMouseMoveVolume),Object(E.y)("body").style.userSelect="none",o.volumeStart=o.volume.current.getBoundingClientRect().left}),y()(l()(o),"handleMouseUpVolume",function(e){Object(E.mb)("mouseup",o.handleMouseUpVolume),Object(E.mb)("mousemove",o.handleMouseMoveVolume),Object(E.y)("body").style.userSelect="auto",o.setVolumeFromCoordinates(e.pageX)}),y()(l()(o),"handleMouseMoveVolume",function(e){o.setVolumeFromCoordinates(e.pageX)}),y()(l()(o),"handleScrubberBarClick",function(e){var t=o.props.onTimeChange,n=o.state.scrubberWidth,r=o.movementStartPos,a=n;t(o.getPlayedPercentModifier(e.pageX,r,a))}),o.state={scrubPauseWait:0,playedPercentModifier:null,scrubberWidth:1,dragging:!1,volume:e.volume},o}return c()(n,[{key:"componentDidMount",value:function(){var t=this;this.updateDimensionsFromScrubber(),Object(E.c)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.a)(e,t.updateDimensionsFromScrubber)})}},{key:"componentWillUnmount",value:function(){var t=this;Object(E.mb)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.jb)(e,t.updateDimensionsFromScrubber)})}},{key:"updateDimensions",value:function(e,t){this.setState({scrubberWidth:e}),this.movementStartPos=t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state,n=t.playedPercentModifier,r=t.scrubPauseWait;null!==n&&e.playedPercent>r&&this.setState({scrubPauseWait:0,playedPercentModifier:null})}},{key:"setVolumeFromCoordinates",value:function(e){var t=this.props.onVolumeChange,n=1-Math.min(Math.max((this.volumeStart+104+Object(E.B)("scrollX")-e)/104,0),1);t(n),this.setState({volume:n})}},{key:"getPlayedPercentModifier",value:function(e,t,n){var r=(e-t)/n;return r<0?0:1<r?1:r}},{key:"pad",value:function(e){var t=e.toString();return t.length<2&&(t="0".concat(t)),t}},{key:"slide",value:function(e,t){e=Math.max(Math.min(100*e/t,100),1);for(var n=[[0,[27,183,110]],[44,[58,221,214]],[100,[123,133,247]]],r=[],a=0;a<n.length;a++)if(e<=n[a][0]){r=[a-1,a];break}var o=n[r[0]][1],i=n[r[1]][1],c=n[r[0]][0],s=(e-c)/(n[r[1]][0]-c);return this.pickRgb(i,o,s).join()}},{key:"pickRgb",value:function(e,t,n){var r=((2*n-1)/1+1)/2,a=1-r;return[Math.round(e[0]*r+t[0]*a),Math.round(e[1]*r+t[1]*a),Math.round(e[2]*r+t[2]*a)]}},{key:"render",value:function(){var e=this.props,t=e.playedPercent,n=e.duration,r=e.time,a=e.playState,o=e.audioState,i=e.fullscreen,c=e.onPlayToggle,s=e.toggleFullscreen,l=e.hasAudio,u=e.onAudioToggle,d=e.id,m=e.hash,p=e.title,f=e.index,h=this.state,g=h.playedPercentModifier,y=h.scrubberWidth,b=h.volume,v=h.dragging,C=t;null!==g&&(C=g);var E=y*C,O=-1*E,k=(E+=5)-25,P=Math.floor(n-r),S="".concat(E,"px"),N=a===x.d.PLAY_STATE.PRESENT_PLAYING?"playing":"paused",j=this.slide(E,y),q="0 0 10px 0 rgb(".concat(j,"), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 0px 20px 0 rgb(").concat(j,")"),w=o===x.d.AUDIO_STATE.PRESENT_MUTED?"mute":"on",I=R()({"PostVideoControls-fullscreen":!0,fullscreen:i}),T=o===x.d.AUDIO_STATE.PRESENT_MUTED?0:104*b,A=T;return D.a.createElement("div",{className:"PostVideoControls",id:d},!l&&D.a.createElement(M.a,{hash:m,title:p,indexForComment:f}),D.a.createElement("div",{className:"PostVideoControls-container"},D.a.createElement("span",{onClick:c,className:"PostVideoControls-state"},D.a.createElement("span",{ref:this.stateIndicator,className:"PostVideoControls-state-indicator PostVideoControls-state-indicator-".concat(N)}," ")),D.a.createElement("span",{ref:this.time,className:"PostVideoControls-time"},Math.floor(P/60),":",this.pad(P%60)),D.a.createElement("span",{ref:this.scrubber,className:"PostVideoControls-scrubber",onClick:this.handleScrubberBarClick},D.a.createElement("div",{className:"PostVideoControls-scrubber-backdrop"}," "),D.a.createElement("div",{ref:this.bar,className:"PostVideoControls-scrubber-bar",style:{width:S}},D.a.createElement("style",null,"\n                                ".concat(d?"#".concat(d):""," .PostVideoControls-scrubber-bar::after{\n                                    width: ").concat(y,"px;\n                                }\n                                ").concat(d?"#".concat(d):""," .PostVideoControls-scrubber-knob-extender {\n                                    background: rgb(").concat(j,")\n                                }\n\n                            "))),D.a.createElement("div",{className:"PostVideoControls-scrubber-buffer",style:{left:S}}),v&&D.a.createElement("div",{className:"PostVideoControls-knob-extender-container"},D.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-top",style:{left:k}},D.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:O}})),D.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-bottom",style:{left:k}},D.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:O}}))),D.a.createElement("div",{className:"PostVideoControls-scrubber-knob",style:{left:S,background:"rgb(".concat(j,")"),boxShadow:q},onMouseDown:this.handleMouseDown},D.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:O}}))),s&&D.a.createElement("span",{onClick:function(){return s(!0)},className:I}," ")),l?D.a.createElement("span",{className:"PostVideoControls-audio-container"},D.a.createElement("span",{ref:this.audioIndicator,onClick:u,className:"PostVideoControls-audio PostVideoControls-audio-".concat(w)}),D.a.createElement("div",{className:"PostVideoControls-volume",ref:this.volume,onMouseDown:this.handleMouseDownVolume},D.a.createElement("div",{className:"PostVideoControls-volume-fill",style:{width:T}}),D.a.createElement("div",{className:"PostVideoControls-volume-knob",style:{left:A}})),D.a.createElement(M.a,{hash:m,title:p,indexForComment:f})):"")}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),n}(D.a.Component);I.defaultProps={volume:x.a},I.__docgenInfo={description:"",methods:[{name:"updateDimensionsFromScrubber",docblock:null,modifiers:[],params:[],returns:null},{name:"updateDimensions",docblock:null,modifiers:[],params:[{name:"scrubberWidth",type:null},{name:"movementStartPos",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseMove",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDownVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUpVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseMoveVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setVolumeFromCoordinates",docblock:null,modifiers:[],params:[{name:"x",type:null}],returns:null},{name:"handleScrubberBarClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getPlayedPercentModifier",docblock:null,modifiers:[],params:[{name:"xPos",type:null},{name:"start",type:null},{name:"width",type:null}],returns:null},{name:"pad",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"slide",docblock:null,modifiers:[],params:[{name:"position",type:null},{name:"sliderWidth",type:null}],returns:null},{name:"pickRgb",docblock:null,modifiers:[],params:[{name:"color1",type:null},{name:"color2",type:null},{name:"weight",type:null}],returns:null}],displayName:"PostVideoControlsComponent",props:{volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},playedPercent:{type:{name:"number"},required:!1,description:""},time:{type:{name:"number"},required:!1,description:""},onScrubbing:{type:{name:"func"},required:!0,description:""},duration:{type:{name:"number"},required:!1,description:""},onTimeChange:{type:{name:"func"},required:!0,description:""},onVolumeChange:{type:{name:"func"},required:!0,description:""},audioState:{type:{name:"string"},required:!1,description:""},onAudioToggle:{type:{name:"func"},required:!0,description:""},playState:{type:{name:"string"},required:!1,description:""},onPlayToggle:{type:{name:"func"},required:!0,description:""},onSeek:{type:{name:"func"},required:!0,description:""},fullscreen:{type:{name:"bool"},required:!1,description:""},toggleFullscreen:{type:{name:"func"},required:!0,description:""},hasAudio:{type:{name:"bool"},required:!1,description:""},id:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!0,description:""}}};function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var N=function(e){d()(r,e);var n=S(r);function r(e){var d;i()(this,r),d=n.call(this,e),y()(l()(d),"unmount",!1),y()(l()(d),"timeStarted",-1),y()(l()(d),"timePlayed",0),y()(l()(d),"duration",0),y()(l()(d),"soundWasEverEnabled",!1),y()(l()(d),"videoContainer",D.a.createRef()),y()(l()(d),"srcmp4",D.a.createRef()),y()(l()(d),"video",D.a.createRef()),y()(l()(d),"updateAudioState",function(e){var t=d.props,n=t.globalAudioState,r=t.hash,a=t.setHashWithAudioOn,o=t.isFirst,i=t.hashWithAudioOn,c=d.state.audioState;if(e.globalAudioState!==n&&n!==c){if(n===x.d.AUDIO_STATE.PRESENT_ON&&r!==i)return void(!i&&o&&(d.setState({audioState:n}),a(r)));d.setState({audioState:n})}}),y()(l()(d),"changeEvent",function(){Object(E.y)("mozFullScreen")||Object(E.y)("webkitIsFullScreen")||Object(E.y)("fullscreen")||d.toggleFullscreen(!1)}),y()(l()(d),"isVideoElementUnavailable",function(){return d.unmount||!d.video.current}),y()(l()(d),"onPlayToggle",function(){if(!d.isVideoElementUnavailable()){var e=d.props,t=e.playVideoByOne,n=e.hash,r=e.addVideoToViewList,a=e.removeVideoFromViewList,o=d.video.current;t&&o.paused&&r(n,!0),t&&!o.paused&&a(n,!0),o.paused?d.play():d.pause()}}),y()(l()(d),"onAudioToggle",function(){if(!d.isVideoElementUnavailable()){var e=d.props,t=e.hash,n=e.updateAudioState,r=e.setHashWithAudioOn,a=d.state.audioState===x.d.AUDIO_STATE.PRESENT_ON,o=a?x.d.AUDIO_STATE.PRESENT_MUTED:x.d.AUDIO_STATE.PRESENT_ON;d.video.current.muted=a,d.setState({audioState:o},function(){!a&&t&&r(t)}),n(o),d.soundWasEverEnabled||(d.soundWasEverEnabled=!a)}}),y()(l()(d),"onScrubbing",function(){if(!d.isVideoElementUnavailable()){var e=d.video.current;e.paused||e.pause()}}),y()(l()(d),"onTimeChange",function(e){if(!d.isVideoElementUnavailable()){var t=d.video.current;return t.currentTime=t.duration*e,d.isPlaying()&&d.play(),t.currentTime/t.duration}}),y()(l()(d),"onVolumeChange",function(e){if(!d.isVideoElementUnavailable()){var t=d.props,n=t.hash,r=t.updateAudioState,a=t.updateAudioVolume,o=t.setHashWithAudioOn;d.video.current.volume=e,d.setState({audioState:x.d.AUDIO_STATE.PRESENT_ON,volume:e},function(){0<e&&n&&o(n)}),a(e),r(x.d.AUDIO_STATE.PRESENT_ON)}}),y()(l()(d),"handleTimeUpdate",function(e){if(!d.isVideoElementUnavailable()){var t=d.state.progressVisible;d.videoInterval(e),t&&d.setState({playedPercent:d.video.current.currentTime/d.video.current.duration,currentTime:Math.floor(d.video.current.currentTime)})}}),y()(l()(d),"handleMetadata",function(){if(!d.isVideoElementUnavailable()){var e=d.state.currentTime;d.video.current.currentTime=e,d.setState(function(e){return{playedPercent:e.currentTime/d.video.current.duration,duration:Math.floor(d.video.current.duration)}})}}),y()(l()(d),"handleData",function(e){if(!d.isVideoElementUnavailable()){var t=!1;void 0!==e.target.webkitAudioDecodedByteCount&&0<e.target.webkitAudioDecodedByteCount?t=!0:void 0!==e.target.mozHasAudio&&e.target.mozHasAudio?t=!0:void 0!==e.target.audioTracks&&0<e.target.audioTracks.length&&(t=!0);var n=d.state.volume;d.video.current.volume=n,d.setState(function(e){return{playedPercent:e.currentTime/d.video.current.duration,duration:Math.floor(d.video.current.duration),hasAudio:t}})}}),y()(l()(d),"handleCanPlay",function(e){d.isVideoElementUnavailable()||d.isPaused()||(1!==d.video.current.readyState&&4!==d.video.current.readyState||d.play(),(0,d.props.handleCanPlay)(e))}),y()(l()(d),"handleVideoSourceError",function(e){!d.video.current||0!==d.video.current.readyState&&3!==d.video.current.networkState||(d.setState({isError:!0}),(0,d.props.onError)(e))}),y()(l()(d),"toggleFullscreen",function(e){d.isVideoElementUnavailable()||(Object(E.y)("body").mozRequestFullScreen||Object(E.y)("body").webkitRequestFullScreen||Object(E.y)("body").requestFullScreen)&&(d.state.fullscreen||!1===e?(Object(E.Bb)(),Object(E.y)("body").classList.remove("video-hidden-body"),d.setState({fullscreen:!1})):(d.videoContainer.current&&Object(E.Cb)(d.videoContainer.current),Object(E.y)("body").classList.add("video-hidden-body"),d.setState({fullscreen:!0})))}),y()(l()(d),"videoStartedPlaying",function(){d.setState({playState:x.d.PLAY_STATE.PRESENT_PLAYING}),d.props.promoted&&(d.timeStarted=(new Date).getTime()/1e3)}),y()(l()(d),"videoInterval",function(e){if(!d.isVideoElementUnavailable()){var t=d.props,n=t.promoted,r=t.controls,a=t.trackPromotedPostVideo,o=t.hash,i=t.postId;if(n&&!d.video.current.paused&&r){var c=d.state,s=c.duration,l=c.controlsEverDisplayed;if(s){if(0<d.timeStarted){var u=(new Date).getTime()/1e3-d.timeStarted;d.timeStarted=-1,d.timePlayed+=u}"timeupdate"===e.type&&(d.timeStarted=(new Date).getTime()/1e3),a({timePlayed:d.timePlayed,supportsAutoPlay:d.supportsAutoPlay,albumHash:i,soundOn:0<d.video.current.volume&&!d.video.current.muted,isControlsOn:l,duration:s,hash:o}),d.timePlayed=0}}}}),y()(l()(d),"handleSeek",function(e){d.isVideoElementUnavailable()||(d.video.current.currentTime=e)}),y()(l()(d),"handleMouseOver",function(){d.setState({progressVisible:!0,controlsEverDisplayed:!0})}),y()(l()(d),"handleMouseOut",function(){d.setState({progressVisible:!1})}),function(e){if("function"!=typeof e)return;var t=document.createElement("video");t.pause();var n="play"in t&&t.play();e(!t.paused||"Promise"in window&&n instanceof Promise)}(function(e){d.supportsAutoPlay=e});var t=e.playAudioIfAvailable&&e.isFirst&&void 0!==e.handleCanPlay?x.d.AUDIO_STATE.PRESENT_ON:x.d.AUDIO_STATE.PRESENT_MUTED;return e.playState===x.d.PLAY_STATE.PRESENT_PAUSED&&e.audioState&&(t=e.audioState),d.state={playedPercent:0,playState:e.playVideo?x.d.PLAY_STATE.PRESENT_PLAYING:x.d.PLAY_STATE.PRESENT_PAUSED,currentTime:e.currentTime||0,duration:0,fullscreen:!1,hasAudio:!1,progressVisible:!1,audioState:t,isError:!1,volume:e.volume,controlsEverDisplayed:!1},d}return c()(r,[{key:"componentWillUnmount",value:function(){var t=this,e=this.props.intersectionObserver;this.unmount=!0,["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.jb)(e,t.changeEvent)}),this.srcmp4.current&&this.srcmp4.current.removeAttribute("src"),this.video.current&&this.video.current.load(),e&&e.unobserve(this.video.current)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.playVideo,r=t.playVideoByOne,a=t.hashWithAudioOn,o=t.hashWithVideoOn;e.playVideo!==n&&(e.playVideo&&this.pause(),n&&this.play()),e.hashWithAudioOn!==a&&this.handleGlobalUnmute(a),this.updateAudioState(e),r&&e.hashWithVideoOn!==o&&this.handleGlobalPlay(o)}},{key:"componentDidMount",value:function(){var t=this,e=this.props.intersectionObserver;this.srcmp4.current&&(this.srcmp4.current.onerror=this.handleVideoSourceError),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.a)(e,t.changeEvent)}),e&&e.observe(this.video.current)}},{key:"handleGlobalUnmute",value:function(e){var t=this.props.hash;this.unmount||this.setState({audioState:e===t?x.d.AUDIO_STATE.PRESENT_ON:x.d.AUDIO_STATE.PRESENT_MUTED})}},{key:"handleGlobalPlay",value:function(e){var t=this.props.hash;this.unmount||(e===t?(this.video.current.play(),this.setState({playState:x.d.PLAY_STATE.PRESENT_PLAYING})):(this.video.current.pause(),this.setState({playState:x.d.PLAY_STATE.PRESENT_PAUSED})))}},{key:"play",value:function(){var e=this;if(!this.isVideoElementUnavailable()){var t=this.video.current.play();void 0!==t?t.then(function(){e.setState({playState:x.d.PLAY_STATE.PRESENT_PLAYING})}).catch(function(){e.setState({playState:x.d.PLAY_STATE.PRESENT_PAUSED})}):this.setState({playState:x.d.PLAY_STATE.PRESENT_PLAYING})}}},{key:"pause",value:function(){this.isVideoElementUnavailable()||(this.video.current.pause(),this.setState({playState:x.d.PLAY_STATE.PRESENT_PAUSED}))}},{key:"isPlaying",value:function(){return this.state.playState===x.d.PLAY_STATE.PRESENT_PLAYING}},{key:"isPaused",value:function(){return this.state.playState===x.d.PLAY_STATE.PRESENT_PAUSED}},{key:"render",value:function(){var e=this.props,t=e.animationType,n=e.src,r=e.hash,a=e.width,o=e.height,i=e.playVideoByOne,c=e.dataURL,s=e.controls,l=e.classNames,u=e.fallbackMedia,d=e.maxHeight,m=e.title,p=e.index,f=this.state,h=f.isError,g=f.audioState,y=f.fullscreen,b=f.playedPercent,v=f.currentTime,C=f.duration,E=f.playState,O=f.hasAudio,k=f.volume;if(h)return u(n);var P={key:r,style:{width:a,height:d||o},draggable:!1,playsInline:"playsInline",controls:!1};g===x.d.AUDIO_STATE.PRESENT_MUTED&&(P.muted=!0),this.isPlaying()?P.autoPlay="autoplay":P.preload=i?"auto":"metadata",t===q.r&&(P.loop="loop"),c&&(P["data-url"]=c);var S=R()({PostVideo:!0,fullscreen:y}),N=R()({"PostVideo-video-wrapper":!0,"PostVideo--unconstrained":!Object(w.b)(a,o)});return D.a.createElement("div",{className:S,ref:this.videoContainer,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},s&&this.isPaused()&&D.a.createElement("span",{title:"Play video",className:"video-play pointer",onClick:this.onPlayToggle}),D.a.createElement("div",{className:N},D.a.createElement("video",j()({},P,{onPlay:this.videoStartedPlaying,onPlaying:this.videoStartedPlaying,onEnded:this.videoInterval,onPause:this.videoInterval,onTimeUpdate:this.handleTimeUpdate,onLoadedMetadata:this.handleMetadata,onLoadedData:this.handleData,onCanPlay:this.handleCanPlay,className:y?"fullscreen":l,ref:this.video,hash:r}),D.a.createElement("source",{ref:this.srcmp4,type:"video/mp4",src:n.video}))),s&&D.a.createElement(I,{playedPercent:b,time:v,onScrubbing:this.onScrubbing,duration:C,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange,audioState:g,onAudioToggle:this.onAudioToggle,playState:E,onPlayToggle:this.onPlayToggle,onSeek:this.handleSeek,fullscreen:y,toggleFullscreen:this.toggleFullscreen,hasAudio:O,volume:k,id:"PostVideoControls-".concat(r),hash:r,title:m,index:p}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),r}(D.a.Component);N.defaultProps={animationType:q.r,controls:!1,src:{image:"",video:""},playState:x.d.PLAY_STATE.PRESENT_PAUSED,currentTime:0,volume:x.a,handleCanPlay:function(){},fallbackMedia:function(e){return D.a.createElement("img",{src:e,"data-url":e})},dataUrl:"",promoted:!1,classNames:"",playVideo:!0,playVideoByOne:!1,onError:function(){},updateAudioState:function(){},updateAudioVolume:function(){},setHashWithAudioOn:function(){},isFirst:!1,globalAudioState:x.d.AUDIO_STATE.PRESENT_MUTED};var T=Object(v.b)(function(e){var t=e.video,n=e.postsData.get("currentPost");return{playAudioIfAvailable:t.get("audioState")===x.d.AUDIO_STATE.PRESENT_ON,hashWithAudioOn:t.get("hashWithAudioOn"),hashWithVideoOn:t.get("hashWithVideoOn"),volume:t.get("volume"),postId:n&&n.get("id"),promoted:n&&!!n.get("promoted"),globalAudioState:t.get("audioState")}},{updateAudioState:k.o,updateAudioVolume:k.p,setHashWithAudioOn:k.k,addVideoToViewList:k.i,removeVideoFromViewList:k.j,trackPromotedPostVideo:O.d})(N);N.__docgenInfo={description:"",methods:[{name:"updateAudioState",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"changeEvent",docblock:null,modifiers:[],params:[],returns:null},{name:"isVideoElementUnavailable",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGlobalUnmute",docblock:null,modifiers:[],params:[{name:"hashWithAudioOn",type:null}],returns:null},{name:"handleGlobalPlay",docblock:null,modifiers:[],params:[{name:"hashWithVideoOn",type:null}],returns:null},{name:"onPlayToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onAudioToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrubbing",docblock:null,modifiers:[],params:[],returns:null},{name:"onTimeChange",docblock:null,modifiers:[],params:[{name:"offset",type:null}],returns:null},{name:"onVolumeChange",docblock:null,modifiers:[],params:[{name:"volume",type:null}],returns:null},{name:"handleTimeUpdate",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleData",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCanPlay",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleVideoSourceError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"play",docblock:null,modifiers:[],params:[],returns:null},{name:"pause",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleFullscreen",docblock:null,modifiers:[],params:[{name:"state",type:null}],returns:null},{name:"videoStartedPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"videoInterval",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSeek",docblock:null,modifiers:[],params:[{name:"time",type:null}],returns:null},{name:"handleMouseOver",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseOut",docblock:null,modifiers:[],params:[],returns:null},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"isPaused",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},controls:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playState:{defaultValue:{value:"VIDEO_CONTROLS.PLAY_STATE.PRESENT_PAUSED",computed:!0},type:{name:"string"},required:!1,description:""},currentTime:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},handleCanPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},fallbackMedia:{defaultValue:{value:"(src) => (<img src={src} data-url={src} />)",computed:!1},type:{name:"func"},required:!1,description:""},dataUrl:{defaultValue:{value:"''",computed:!1},required:!1},promoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},classNames:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},playVideoByOne:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onError:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioState:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioVolume:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},setHashWithAudioOn:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isFirst:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},globalAudioState:{defaultValue:{value:"VIDEO_CONTROLS.AUDIO_STATE.PRESENT_MUTED",computed:!0},type:{name:"enum",computed:!0,value:"Object.values(VIDEO_CONTROLS.AUDIO_STATE)"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},playAudioIfAvailable:{type:{name:"bool"},required:!1,description:""},audioState:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},dataURL:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},trackPromotedPostVideo:{type:{name:"func"},required:!1,description:""},addVideoToViewList:{type:{name:"func"},required:!1,description:""},removeVideoFromViewList:{type:{name:"func"},required:!1,description:""},hashWithAudioOn:{type:{name:"string"},required:!1,description:""},hashWithVideoOn:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},intersectionObserver:{type:{name:"object"},required:!1,description:""}}}},"cm4/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=s(n("q1tI")),o=s(n("+80P")),i=s(n("wRvv")),c=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.linkify=new o.default;d.tlds(i.default);var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,l.default.Component),r(p,[{key:"getMatches",value:function(e){return d.match(e)}},{key:"parseString",value:function(o){var i=this,c=[];if(""===o)return c;var e=this.getMatches(o);if(!e)return o;var s=0;return e.forEach(function(e,t){e.index>s&&c.push(o.substring(s,e.index));var n={href:e.url,key:"parse"+i.parseCounter+"match"+t};for(var r in i.props.properties){var a=i.props.properties[r];a===p.MATCH&&(a=e.url),n[r]=a}c.push(l.default.createElement(i.props.component,n,e.text)),s=e.lastIndex}),s<o.length&&c.push(o.substring(s)),1===c.length?c[0]:c}},{key:"parse",value:function(e){var t=this,n=e;return"string"==typeof e?n=this.parseString(e):l.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?n=l.default.cloneElement(e,{key:"parse"+ ++this.parseCounter},this.parse(e.props.children)):e instanceof Array&&(n=e.map(function(e){return t.parse(e)})),n}},{key:"render",value:function(){this.parseCounter=0;var e=this.parse(this.props.children);return l.default.createElement("span",{className:this.props.className},e)}}]),p);function p(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n=u(this,(e=p.__proto__||Object.getPrototypeOf(p)).call.apply(e,[this].concat(a)))).parseCounter=0,u(n,t)}m.MATCH="LINKIFY_MATCH",m.propTypes={className:c.default.string,component:c.default.any,properties:c.default.object,urlRegex:c.default.object,emailRegex:c.default.object},m.defaultProps={className:"Linkify",component:"a",properties:{}},t.default=m},co09:function(e,t,n){},dQpi:function(e,t,n){var r=n("yGk4"),a=n("vN+2"),o=n("rEGp"),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},dZW6:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("/MKj")),O=n("/PhX"),k=n("GB65"),P=n("G5ih");function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)}}function N(r){var e=function(e){m()(n,e);var t=S(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"timeoutId",null),b()(u()(r),"clipboardCopy",function(){var t=r.inputElement.value;r.inputElement.current.select(),r.timeoutId&&clearTimeout(r.timeoutId);try{var e=Object(k.p)("copy");Object(k.N)().removeAllRanges(),e?(r.props.clipboardCopySuccess(t),r.timeoutId=Object(k.Ab)(r.props.clipboardCopyClear,3e3)):r.props.clipboardCopyFail(t,Object(P.b)("clipboardCopyFailMessage"))}catch(e){r.props.clipboardCopyFail(t,e.message)}}),b()(u()(r),"renderInput",function(e){var t=e.className,n=e.text;return C.a.createElement("input",{className:t,ref:r.inputElement,readOnly:!0,value:n})}),r.inputElement=C.a.createRef(),r}return s()(n,[{key:"render",value:function(){return C.a.createElement(r,a()({},this.props,{renderInput:this.renderInput,clipboardCopy:this.clipboardCopy}))}}]),n}(C.a.Component);return e.displayName="WithClipboardCopy(".concat(function(e){return e.displayName||e.name||"Component"}(r),")"),Object(E.b)(null,{clipboardCopyFail:O.w,clipboardCopySuccess:O.x,clipboardCopyClear:O.v})(e)}},eeI0:function(e,t,n){},"ega+":function(e,t,n){"use strict";n.d(t,"a",function(){return Ie}),n.d(t,"b",function(){return De}),n.d(t,"c",function(){return Re});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),I=n.n(h),g=n("q1tI"),T=n.n(g),b=n("JPcv"),w=n("wINB"),y=n("sEfC"),v=n.n(y),C=(n("17x9"),n("/MKj")),E=n("TSYQ"),A=n.n(E),O=n("9Jdl"),k=n("4TFA"),D=n("G5ih"),P=n("wmRA"),R=n("jlYo"),x=n("fPgW"),S=n("Bw9V"),N=n("ErBw"),j=n("fdoY"),q=n("Uzvo"),M=n("bWDY"),F=n("GB65"),_=n("Y22u"),G=n("aYmD"),L=n("mcUd"),V=n("yFeA"),U=n("gGMO"),B=n("pVnL"),H=n.n(B),W=n("QILm"),z=n.n(W),Y=n("BWa0");function K(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"currentColor",strokeColor:"#ffffff"}}function J(e){var t=e.isMini,n=void 0===t||t,r=z()(e,["isMini"]),a=A()({PostViewsIcon:!0}),o=K(n);return T.a.createElement(Y.eb,H()({className:a,name:Y.cb},o,r))}function X(e){var t=e.isMini,n=void 0===t||t,r=z()(e,["isMini"]),a=A()({PostCommentsIcon:!0}),o=K(n);return T.a.createElement(Y.eb,H()({className:a,name:Y.Q,title:"Comments"},o,r))}X.__docgenInfo={description:"",methods:[],displayName:"Comments",props:{isMini:{defaultValue:{value:"true",computed:!(J.__docgenInfo={description:"",methods:[],displayName:"Views",props:{isMini:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""}}})},type:{name:"bool"},required:!1,description:""}}};var Q=n("129X"),Z=n("Nm7g");n("j/yV"),n("pNV7"),n("wMLv");function $(e){var t=e.text;return T.a.createElement("div",{className:"PostInfo label"},t)}function ee(e){var t=e.text,n=e.lines,r=e.fontSize,a=e.lineHeight;return T.a.createElement("span",{style:function(e,t,n){return{display:"-webkit-box",maxHeight:e*t*n,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e}}(n,r,a)},t)}$.__docgenInfo={description:"",methods:[],displayName:"PostLabel",props:{text:{type:{name:"string"},required:!0,description:""}}},ee.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{text:{type:{name:"string"},required:!0,description:""},lines:{type:{name:"number"},required:!0,description:""},fontSize:{type:{name:"number"},required:!0,description:""},lineHeight:{type:{name:"number"},required:!0,description:""}}};n("yQno");function te(e){var t=e.title,n=e.children,r=e.isNotAd,a=e.privacy,o=e.className,i=e.views;if(!r&&!t)return null;var c=-1===[P.u,P.p].indexOf(a),s=A()(I()({"Post-item-title-wrap":!0},o,o));return T.a.createElement("div",{className:s},T.a.createElement("div",{className:"Post-item-title"},T.a.createElement(ee,{lines:2,fontSize:14,lineHeight:1.14,text:t})),T.a.createElement("div",{className:"Post-item-info"},c&&r&&n,a===P.u&&T.a.createElement($,{text:Object(D.b)("postPrivate")}),a===P.p&&T.a.createElement($,{text:Object(D.b)("postHidden")}),r&&1<=i&&T.a.createElement(Q.a,{className:"Post-item-stat uScaleTransition"},T.a.createElement(J,{strokeWidth:0}),T.a.createElement(Q.b,null,Object(Z.h)(i)))))}te.defaultProps={className:"",privacy:P.v},te.__docgenInfo={description:"",methods:[],displayName:"Title",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},privacy:{defaultValue:{value:"POST_PUBLIC",computed:!0},type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"array"},required:!1,description:""},isNotAd:{type:{name:"bool"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""}}};var ne=n("STNw"),re=n("gmqy"),ae=n("CG6i"),oe=n("cG8M");function ie(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ce=function(e){u()(o,e);var a=ie(o);function o(){var t;i()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),I()(s()(t),"imageLoaded",!1),I()(s()(t),"handlerLoad",function(e){t.imageLoaded=!0,t.props.onLoad&&t.props.onLoad(e)}),t}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.onError,a=e.animationType,o=e.playVideo,i=e.src,c=e.placeholderSrc,s=e.showImage,l=c||i.coverImage,u=l;return o&&(u=i.video),a!==P.t&&(u=l),s||a!==P.r||!this.imageLoaded?T.a.createElement(ae.a,{thumbSrc:u,originalSrc:u,height:n,width:t,onError:r,onLoad:this.handlerLoad}):T.a.createElement(oe.b,this.props)}}]),o}(T.a.Component);ce.defaultProps={animationType:P.r,src:{image:"",video:"",coverImage:""},playVideo:!0,showImage:!1},ce.__docgenInfo={description:"",methods:[{name:"handlerLoad",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PostHomeVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n    coverImage: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},coverImage:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},showImage:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},placeholderSrc:{type:{name:"string"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""}}};function se(e){var t=e.onLoad,n=e.height,r=e.width;return Object(g.useEffect)(function(){t()},[]),T.a.createElement("div",{className:"Post-item-media",style:{width:r,height:n}})}var le=Object(re.a)(ce),ue=n("n/mK");se.__docgenInfo={description:"",methods:[],displayName:"PostHomeDeleted",props:{onLoad:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""}}};var de=Object(re.a)(se),me=n("HWIq");n("MZXA");function pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach(function(e){I()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function he(e){var t=e.children,n=e.display,r=void 0===n?[]:n;if(0===r.length)return t;var a=function(e){var t="",n={};return(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){switch(e.type){case"accolade_border":n=fe(fe({},n),function(e){var t=0<arguments.length&&void 0!==e?e:[],n=t.length;if(0===n)return{};var r="linear-gradient(165deg,";if(1<n){var a=0,o=100/(n-1);t.forEach(function(e){var t=100===a?")":", ";r+="#".concat(e," ").concat(a,"%").concat(t),a+=o})}else 1===n&&(r+="#".concat(t[0]," 0%, #").concat(t[0]," 100%)"));return{background:r}}(e.colors));break;case"accolade_icon":t=e.url}}),{styles:n,accoladeImage:t}}(r),o=a.styles,i=a.accoladeImage;return T.a.createElement("div",{style:o,className:"AccoladeBorder"},i&&T.a.createElement(me.a,{imageUrl:i,background:!0}),t)}he.defaultProps={display:[]},he.__docgenInfo={description:"",methods:[],displayName:"AccoladeBorder",props:{display:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""}}};var ge=n("fTpD"),ye=n.n(ge),be=n("D0BC"),ve=n.n(be),Ce=n("E9Wd"),Ee=null,Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_";function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach(function(e){I()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Se(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function Ne(e){return e*(Math.PI/180)}var je=function(e){u()(n,e);var t=Se(n);function n(e){var w;return i()(this,n),w=t.call(this,e),I()(s()(w),"clearKey",function(e){var t=w.state,n=t.interactionsShowing,r=t.interactionTimeouts;Object(F.i)(r[e]);var a=Pe({},n),o=Pe({},r);delete a[e],delete o[e],w.setState({interactionsShowing:a,interactionTimeouts:o})}),I()(s()(w),"handleClick",function(){var e=w.props,t=e.adTileInteractions,n=e.onClick,r=e.innerRef,a=r.current.getBoundingClientRect(),o=a.height,i=a.width,c=Object(_.d)(r.current,o/2),s=Object(_.d)(r.current)&&Object(_.b)(r.current),l=Object(_.b)(r.current,-o/2),u=ye()(w.spots.filter(function(e){return!(e.top&&!c)&&(!(e.bottom&&!l)&&(!(e.middle&&(e.left||e.right)&&!s)&&e.id!==w.lastUsedSpotId))}));w.lastUsedSpotId=u.id;var d=ye()(t);d.height=Math.min(d.height,o),d.width=Math.min(d.width,i);var m={maxHeight:"".concat(o,"px"),maxWidth:"".concat(i,"px"),position:"absolute",zIndex:-1,opacity:1,transform:"rotate(0) scale(0)",top:0,left:0},p=0,f=0,h=ye()([0,d.width/4]),g=ye()([0,d.width/4]);u.top&&(p=-d.height-g),u.bottom&&(p=o+g),u.middle&&(u.top||u.bottom)&&(f=(i-d.width+ve()(-d.width,d.width))/2),u.left&&(f=-d.width-h),u.right&&(f=i+h),u.middle&&(u.left||u.right)&&(p=(o-d.height+ve()(-d.height,d.height))/2);var y=ve()(0,45)*u.rotationModifier,b=function(e){for(var t="",n=Oe.length,r=0;r<Math.max(2,e);r++)t+=Oe.charAt(Math.floor(Math.random()*n));return t}(7);if(0!=y){var v=Math.abs(y),C=90-v,E=Ne(90),O=Ne(v),k=Ne(C),P=d.width,S=P*(Math.sin(O)/Math.sin(E)),N=P*(Math.sin(k)/Math.sin(E)),j=(N+N)/3,q=S/3;p=(0<=p?1:-1)*(Math.abs(p)-q/2),f=(0<=f?1:-1)*(Math.abs(f)-j/2)}p="".concat(p,"px"),f="".concat(f,"px"),function(e){Ee||(Ee=document.createElement("style"),document.head.appendChild(Ee)),Ee.sheet.insertRule(e)}("@keyframes ".concat(b," {\n            20% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n            }\n            90% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n                opacity: 1;\n            }\n            100% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n                opacity: 0;\n            }\n        }")),m.animation="".concat(b," ").concat(5500,"ms"),w.setState(function(e){var t=Pe(I()({},b,T.a.createElement("img",{src:"".concat(Ce.W,"/").concat(d.id,".gif"),style:m,key:b})),e.interactionsShowing),n=Object(F.Ab)(function(){w.clearKey(b)},5500);return{interactionsShowing:t,interactionTimeouts:Pe(I()({},b,n),e.interactionTimeouts)}}),n()}),w.spots=[{id:1,top:!0,right:!1,bottom:!1,left:!0,middle:!1,rotationModifier:-1},{id:2,top:!0,right:!1,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:3,top:!0,right:!0,bottom:!1,left:!1,middle:!1,rotationModifier:1},{id:4,top:!1,right:!0,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:5,top:!1,right:!0,bottom:!0,left:!1,middle:!1,rotationModifier:-1},{id:6,top:!1,right:!1,bottom:!0,left:!1,middle:!0,rotationModifier:0},{id:7,top:!1,right:!1,bottom:!0,left:!0,middle:!1,rotationModifier:1},{id:8,top:!1,right:!1,bottom:!1,left:!0,middle:!0,rotationModifier:0}],w.lastUsedSpotId=0,w.state={interactionsShowing:{},interactionTimeouts:{}},w}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.innerRef,a=this.state.interactionsShowing;return T.a.createElement("div",{ref:r,onClick:this.handleClick,className:t},Object.values(a),n)}}]),n}(T.a.Component);je.__docgenInfo={description:"",methods:[{name:"clearKey",docblock:null,modifiers:[],params:[{name:"key",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractableAdTile",props:{adTileInteractions:{type:{name:"array"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""}}};n("ZYtQ");function qe(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function we(e){var t=e.isDeleted,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave,o=e.to,i=e.target,c=e.onClick,s=e.innerRef,l=e.isExternalAd,u=e.state,d=e.children,m=e.adTileInteractions,p=e.isFastGridAd;return t||p?T.a.createElement("div",{className:n},d):0<m.length?T.a.createElement(je,{innerRef:s,className:n,adTileInteractions:m,onClick:c},d):T.a.createElement(ue.a,{draggable:"false",onMouseEnter:r,onMouseLeave:a,className:n,to:o,target:i,onClick:c,innerRef:s,isExternalAd:l,state:u},d)}var Ie=function(e){u()(n,e);var t=qe(n);function n(e){var y;return i()(this,n),y=t.call(this,e),I()(s()(y),"isVoteHandler",!1),I()(s()(y),"handleFastGridAdLoading",function(e){Object(M.f)(e)&&y.setState({isFastGridAdLoaded:!0})}),I()(s()(y),"getVoteHandler",function(c){return function(e){var t=y.props,n=t.post,r=t.isUserLoggedIn,a=t.onGalleryImageVote,o=n.title;if(!r||!a)return!0;e.preventDefault();var i=n.vote;y.isVoteHandler=!0,a({postId:n.id,vote:i===c?x.c:c,initialVote:i,trigger:k.q,location:k.l.OUTSIDE,title:o})}}),I()(s()(y),"handlerSaveGalleryPage",function(){var e=y.props,t=e.onSaveGalleryPage,n=e.post;if(!t)return!0;t(n.galleryPage)}),I()(s()(y),"clickHandler",function(){var e=y.props,t=e.post,n=e.adTileTappedAction,r=e.streamSection,a=e.navigationTrigger,o=e.navigationDirection,i=e.postNavigateAnalyticsAction,c=e.location,s=t.meta;t.isAd&&n&&n(t.id,c,0<s.interactions.length),r&&a&&o&&i(t.id,o,a,L.a[r])}),I()(s()(y),"inViewHandler",function(){var e=y.props,t=e.post,n=e.location,r=e.adTileInViewAction;r&&Object(_.c)(y.post.current)&&(r(t.id,n),Object(F.mb)("scroll",y.inViewHandler))}),I()(s()(y),"getMediaComponent",function(){var e=y.props,t=e.post,n=e.spinner,r=e.styles,a=e.isViewPort,o=e.viewGif,i=e.isWebPSupported,c=e.isDeleted,s=t.isVideo,l=t.src,u=t.animationType,d=t.height,m=t.width,p=t.adConfig,f=t.isFastGridAd,h=t.title,g=function(e,t){return t?e.webPImage:e.coverImage}(l,i);return c?T.a.createElement(de,{styles:r,spinner:n,isDeleted:c,height:d,width:m}):s?T.a.createElement(le,{animationType:u,styles:r,src:l,height:d,width:m,playVideo:o&&u===P.r&&a,spinner:n,placeholderSrc:l.videoPoster,showImage:!o,isDeleted:c}):f?T.a.createElement(V.a,{path:O.P,postAdConfig:Object(b.Map)(p),callback:y.handleFastGridAdLoading,refresh:!0}):T.a.createElement(ae.b,{thumbSrc:g,originalSrc:g,height:d,width:m,styles:r,spinner:n,isDeleted:c,postTitle:h})}),y.post=T.a.createRef(),y.state={isFastGridAdLoaded:!1},y.props.post.isAd&&(y.inViewHandler=v()(y.inViewHandler.bind(s()(y)),100),Object(F.c)("scroll",y.inViewHandler)),y}return c()(n,[{key:"componentDidMount",value:function(){this.props.post.isAd&&this.inViewHandler()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.post,a=t.isUserLoggedIn,o=t.userId,i=t.onRemoveGalleryPage,c=t.onGalleryImageVote,s=t.usePrivacy,l=t.viewGif,u=t.sendToTop,d=t.isDeleted,m=t.viewUniform,p=r.adUrl,f=r.adType,h=r.title,g=r.href,y=r.target,b=r.views,v=r.commentCount,C=r.isAd,E=r.isFastGridAd,O=r.meta,k=r.display,P=r.points,S=r.createdAt,N=this.state.isFastGridAdLoaded,j=a&&c&&(r.vote||x.c),q=A()((e={},I()(e,n,!!n),I()(e,"".concat(j,"vote"),!!j),I()(e,"novote",!j),I()(e,"Post-item--deleted",d),I()(e,"Post-item--interactions",O.interactions.length),I()(e,"fast-grid-ad",m&&E),e));return T.a.createElement(we,{draggable:"false",onMouseEnter:this.handlerSaveGalleryPage,onMouseLeave:i,className:q,to:0<f&&p?p:g,target:y,onClick:this.clickHandler,innerRef:this.post,isExternalAd:f===R.e,state:{sendToTop:u},isDeleted:d,adTileInteractions:O.interactions,isFastGridAd:E},T.a.createElement(he,{display:d?[]:k},T.a.createElement("div",{className:"Post-item-container"},this.getMediaComponent(),this.props.children,T.a.createElement(ne.a,{isPromotedAd:O.isPromotedAd,isThumbnailAd:O.isThumbnailAd,isInteractiveAd:0<O.interactions.length,isFastGridAd:N,imagesCount:O.imagesCount,metaLabel:l?"":O.label}),T.a.createElement(te,{title:h,isNotAd:!C,views:b,privacy:s?r.privacy:""},d?T.a.createElement("div",{className:"Post-item-title--deleted"},Object(D.b)("deletedPost",new Date(S).getTime())):"",T.a.createElement(Q.a,null,T.a.createElement("div",{className:"Post-item-stat Post-item-vote uScaleTransition",onClick:this.getVoteHandler(x.b),title:Object(D.b)("upvoteHint")},T.a.createElement(U.b,{selected:j===x.b,isMini:!0,fillColor:"currentColor",strokeWidth:0})),T.a.createElement(Q.b,{className:"Post-item-vote-points Post-item-vote-points--".concat(j)},"".concat(Object(Z.j)(P))),a&&T.a.createElement("div",{className:"Post-item-stat Post-item-vote uScaleTransition",onClick:this.getVoteHandler(x.a),title:Object(D.b)("downvoteHint")},T.a.createElement(U.a,{selected:j===x.a,isMini:!0,fillColor:"currentColor",strokeWidth:0}))),T.a.createElement(Q.a,{className:"Post-item-stat uScaleTransition"},T.a.createElement(X,{strokeWidth:0}),T.a.createElement(Q.b,null,Object(Z.j)(v)))),O.pixels&&O.pixels.map(function(e,t){var n=e.replace("[USERID]",a?o:w.a.getInstance().options.deviceId).replace("[CACHEBUSTER]",Date.now());return T.a.createElement("img",{key:"tilePixel-".concat(t),src:n,style:{display:"none"}})}))))}}]),n}(g.Component);Ie.defaultProps={className:"",usePrivacy:!1,viewGif:!0};function Te(e){var t=e.gallery,n=e.agent,r=e.user;return{viewGif:t.get("viewGif")&&!t.get("pauseAnimation"),viewUniform:t.get("viewUniform"),isWebPSupported:n.get(G.s),userId:r.get("id")}}var Ae={onGalleryImageVote:j.Zb,onSaveGalleryPage:S.Q,onRemoveGalleryPage:S.N,adTileInViewAction:N.t,adTileTappedAction:N.u,postNavigateAnalyticsAction:j.nb},De=Object(C.b)(Te,Ae)(Ie),Re=Object(q.b)(Object(C.b)(Te,Ae)(Ie));Ie.__docgenInfo={description:"",methods:[{name:"handleFastGridAdLoading",docblock:null,modifiers:[],params:[{name:"eventData",optional:!1,type:null}],returns:null},{name:"getVoteHandler",docblock:null,modifiers:[],params:[{name:"voteType",optional:!1,type:null}],returns:null},{name:"handlerSaveGalleryPage",docblock:null,modifiers:[],params:[],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inViewHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostHome",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},usePrivacy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},viewGif:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},spinner:{type:{name:"object"},required:!0,description:""},isViewPort:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},userId:{type:{name:"number"},required:!1,description:""},styles:{type:{name:"object"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!0,description:""},onGalleryImageVote:{type:{name:"func"},required:!1,description:""},onSaveGalleryPage:{type:{name:"func"},required:!1,description:""},onRemoveGalleryPage:{type:{name:"func"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},adTileInViewAction:{type:{name:"func"},required:!1,description:""},adTileTappedAction:{type:{name:"func"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},streamSection:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},postNavigateAnalyticsAction:{type:{name:"func"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},viewUniform:{type:{name:"bool"},required:!1,description:""}}};t.d=Object(q.a)(Object(C.b)(Te,Ae)(Ie));we.__docgenInfo={description:"",methods:[],displayName:"PostHomeLinker",props:{isDeleted:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},onMouseEnter:{type:{name:"func"},required:!0,description:""},onMouseLeave:{type:{name:"func"},required:!0,description:""},to:{type:{name:"string"},required:!0,description:""},target:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!0,description:""},state:{type:{name:"object"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},adTileInteractions:{type:{name:"array"},required:!0,description:""},isFastGridAd:{type:{name:"bool"},required:!0,description:""}}}},"ej/z":function(e,t,n){"use strict";function r(e,t,n){if(t<=e)return null;var r=n/t;return Math.ceil(e*r)}function a(e,t){return t/2<e}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},emG5:function(e,t,n){},f6ut:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lSNA"),p=n.n(r),a=n("q1tI"),f=n.n(a),o=n("TSYQ"),h=n.n(o),g=(n("17x9"),n("m+bm"),{default:"",left:"Checkmark--left",right:"Checkmark--right"});function i(e){var t=e.selected,n=e.text,r=void 0===n?"":n,a=e.handleOnChange,o=void 0===a?function(){}:a,i=e.checkmarkPosition,c=void 0===i?"default":i,s=e.name,l=void 0===s?"":s,u=e.value,d=void 0===u?"":u,m=h()(p()({Checkmark:!0},g[c],!0));return f.a.createElement("label",{className:"Checkbox-wrapper"},r,f.a.createElement("input",{onChange:o,type:"checkbox",defaultChecked:t,name:l,value:d}),f.a.createElement("div",{className:m}))}i.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{text:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},handleOnChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},checkmarkPosition:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},name:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},reference:{type:{name:"func"},required:!1,description:""}}}},fTpD:function(e,t,n){var r=n("VhX2"),a=n("98ov"),o=n("Z0cm");e.exports=function(e){return(o(e)?r:a)(e)}},fbUk:function(e,t,n){},gGMO:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var r=n("pVnL"),l=n.n(r),a=n("QILm"),u=n.n(a),o=n("q1tI"),d=n.n(o),i=(n("17x9"),n("TSYQ")),m=n.n(i),p=n("j/yV"),f=n("BWa0");n("9JWB");function h(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"none",strokeColor:"#ffffff"}}function c(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,o=u()(e,["selected","isMini"]),i=m()({Vote:!0,"Vote-up":!0,"Vote-up--selected":n}),c=a?f.db:f.H,s=h(a);return d.a.createElement("div",{className:i},n&&d.a.createElement(p.a,null),d.a.createElement(f.eb,l()({name:c},s,o)))}function s(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,o=u()(e,["selected","isMini"]),i=m()({Vote:!0,"Vote-down":!0,"Vote-down--selected":n}),c=a?f.W:f.i,s=h(a);return d.a.createElement(f.eb,l()({className:i,name:c},s,o))}s.__docgenInfo={description:"",methods:[],displayName:"Downvote",props:{selected:{defaultValue:{value:"false",computed:!(c.__docgenInfo={description:"",methods:[],displayName:"Upvote",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}})},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},ghid:function(e,t,n){},gmqy:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("pVnL"),c=n.n(r),a=n("lwsE"),o=n.n(a),i=n("W8MJ"),s=n.n(i),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("TSYQ")),O=n.n(E),k=n("DUmG"),P=n.n(k);function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)}}function N(e){var t=e.isLoading,n=e.color,r=e.height;if(!t)return null;var a={position:"absolute",zIndex:"".concat(P.a.$zIndexPostSpinner),top:0,left:0,width:"100%",height:"".concat(r,"px"),background:"linear-gradient(".concat(n,", ").concat(P.a.$voyagerDarkGrey,")")};return C.a.createElement("div",{className:"Spinner",style:a})}function j(i){return function(e){m()(r,e);var n=S(r);function r(e){var t;return o()(this,r),t=n.call(this,e),b()(u()(t),"_isMounted",!1),b()(u()(t),"loadHandler",function(){t._isMounted&&t.setState({isLoading:!1})}),b()(u()(t),"errorHandler",function(){t.setState({isLoading:!1})}),t.state={isLoading:!0},t}return s()(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.spinner,n=e.styles,r=e.isDeleted,a=this.state.isLoading,o=O()({"Post-item-media":!0,"Post-item-media--deleted":r});return C.a.createElement("div",{className:o,style:n},C.a.createElement(N,{isLoading:a,color:t.color,height:t.height}),C.a.createElement(i,c()({},this.props,{onLoad:this.loadHandler,onError:this.errorHandler})))}}]),r}(C.a.Component)}N.__docgenInfo={description:"",methods:[],displayName:"PostSpinner",props:{isLoading:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}}},hIyu:function(e,t,n){"use strict";var r=n("pVnL"),s=n.n(r),a=n("QILm"),l=n.n(a),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),u=n.n(c),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),O=n.n(E),k=n("/MKj"),P=(n("17x9"),n("1coQ")),S=n("66r6"),N=n("26Ob"),j=n("AoHe"),q=n("RJ0p"),w=n("P5Jw"),I=n("G5ih"),T=n("E9Wd"),A=n("wmRA"),D=n("uGFe"),R=n("fdoY"),x=n("9rNq"),M=n("pNV7");n("Ya97");function F(e){var t=e.id,n=e.downloadImageAction,r=e.isLoggedIn,a=e.onFavorite,o=O.a.createElement(w.CopyToClipboard,{text:T.z+t},O.a.createElement("button",{type:"button"},O.a.createElement("span",{className:"label"},Object(I.b)("imageCopy")))),i=O.a.createElement("button",{type:"button",onClick:function(){return n(t,t)}},O.a.createElement("span",{className:"label"},Object(I.b)("download"))),c=O.a.createElement("button",{type:"button",onClick:function(){return a(t,null,!1,null,A.y)}},O.a.createElement("span",{className:"label"},Object(I.b)("favoriteLabel")));return O.a.createElement(x.a,{className:"mediaDropdown-menu",dropdownIcon:O.a.createElement(M.W,{name:M.k,width:21})},o,i,r&&c)}F.__docgenInfo={description:"",methods:[],displayName:"MediaItemDropDownMenu",props:{id:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},onFavorite:{type:{name:"func"},required:!0,description:""},downloadImageAction:{type:{name:"func"},required:!0,description:""}}};var _=Object(k.b)(function(e){return{isLoggedIn:!!e.user.get("isLoggedIn")}},{downloadImageAction:D.Nb,onFavorite:R.db})(F),G=n("9uSn");function L(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var V=function(e){f()(o,e);var a=L(o);function o(){var r;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),C()(m()(r),"getReactionPreview",function(e){var t=r.props.onClick;if(e){var n=e.match(S.c);return O.a.createElement("div",{className:"MediaPreview-wrapper",onClick:t},O.a.createElement("div",{className:"MediaMenuContainer"},Object(q.c)(e),O.a.createElement(_,{id:n[1]})))}}),r}return u()(o,[{key:"expandLink",value:function(){return"true"===this.props.expandlink&&this.props.children!==S.a&&new RegExp(S.c).test(this.props.href)}},{key:"renderTargetMedia",value:function(){var e=this.props,t=(e.children,e.href),n=e.postMedia,r=e.onClick,a=l()(e,["children","href","postMedia","onClick"]),o=n.get(parseInt(t,10)-1),i=o.getIn(["src",o.get("isVideo")?"video":"image"]),c=O.a.createElement("a",s()({href:i},a),"#".concat(t));return O.a.createElement(G.a,{className:"Tooltip-targetMedia",onClick:r,inline:!0,src:i},c)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=(e.postMedia,l()(e,["children","href","postMedia"]));if(this.expandLink())return this.getReactionPreview(n);if(t===S.g)return this.renderTargetMedia();var a=t===S.a?n:t,o=O.a.createElement("a",s()({href:n},r),a);return Object(j.h)(n)?O.a.createElement(G.a,{className:"Tooltip-media",inline:!0,src:n},o):o}}]),o}(O.a.Component);V.defaultProps={expandlink:"false"};t.a=Object(k.b)(function(){return{component:V}},function(n){return{onClick:function(e){var t=e.target.src||e.target.href;return!Object(j.h)(t)||(e.preventDefault(),e.stopPropagation(),n(Object(N.b)({show:!0,src:t})),!1)}}})(P.a);V.__docgenInfo={description:"",methods:[{name:"expandLink",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"renderTargetMedia",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LinkifyDecorator",props:{expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},children:{type:{name:"string"},required:!0,description:""},href:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},postMedia:{type:{name:"object"},required:!1,description:""}}}},heTe:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),d=n.n(a),o=n("J4zp"),m=n.n(o),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("AG5K")),g=n("OX3u"),y=n("b5GN"),b=n("pNV7"),v=n("BWa0"),C=n("7oyi"),E=n("zuLI");n("IgJu");var i=n("wAdX"),c=n("/PhX"),s=n("RUHF");t.a=Object(r.b)(function(e){var t=e.emerald,n=e.user;return{giftData:t.get("giveEmeraldData").toJS(),isSubscribed:n.getIn(["subscription","isSubscribed"])}},function(e){return{close:function(){e(Object(c.y)(g.q)),e(Object(s.v)())}}})(function(l,e){var u=1<arguments.length&&void 0!==e?e:{};function t(e){var t=e.giftData,n=e.close,r=e.onDialogOpen,a=e.isSubscribed;if(!t.recipientUsername)return null;var o=Object(p.useState)(0),i=m()(o,2),c=i[0],s=i[1];return f.a.createElement(l,d()({className:"GiveGiftDialog GiveGiftDialog-ty",isModal:!1,onClose:n,name:g.q,onOpen:r},u),f.a.createElement("div",{className:"GiveGiftDialog-head"},f.a.createElement(b.W,{name:b.S}),f.a.createElement(C.b,{className:"GiveGiftDialog-head--close",image:f.a.createElement(v.eb,{name:v.g,width:"32",height:"32"}),onClick:n})),f.a.createElement("div",{className:"GiveGiftDialog-ty-content"},f.a.createElement(E.a,{className:"GiveGiftDialog-ty-confetti",run:c,viewWidth:540,viewHeight:500,loadSpeed:1}),f.a.createElement("span",{onClick:function(){s(c+1)}},f.a.createElement(b.W,{className:"GiveGiftDialog-ty-heart",name:b.Q})),f.a.createElement("div",{className:"GiveGiftDialog-ty-title"},Object(h.a)("giveGiftTyGem")),f.a.createElement("div",{className:"GiveGiftDialog-ty-description"},Object(h.a)("giveGiftTyDescription",t.recipientUsername)),!a&&f.a.createElement(C.b,{className:"GiveGiftDialog-ty-button Button",label:Object(h.a)("emeraldJoin"),title:Object(h.a)("emeraldJoin"),href:"/".concat(y.f,"?source=").concat(g.x)})))}return t.defaultProps={onDialogOpen:function(){}},t}(i.a))},hibn:function(e,t,n){},hrf1:function(e,t,n){},"iaU+":function(e,t,n){"use strict";n.d(t,"b",function(){return Je}),n.d(t,"a",function(){return Xe});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),E=n.n(h),g=n("q1tI"),O=n.n(g),y=(n("17x9"),n("TSYQ")),k=n.n(y),b=n("/MKj"),P=n("E9Wd"),v=n("GB65"),C=n("LZBw"),S=n("zTH+"),N=n("c0eP"),j=n("DzJC"),q=n.n(j),w=n("kpbE"),I=n("G5ih"),T=n("JzwX"),A=n("pNV7"),D=n("xypG"),R=n("oYs2");function x(e){var t=e.suggestion,o=e.searchString,n=t[R.a];return n&&n.length?O.a.createElement("div",{className:"Suggestion-block ".concat(R.a)},O.a.createElement("div",{className:"Suggestion-title"},R.a),n.map(function(e,t){var n="".concat(P.V,"/gallery/").concat(e.hash||e.id),r=e.title,a=B(o,r);return a.length?O.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},O.a.createElement("span",{className:"Suggestion-item-text"},a)):null})):null}x.__docgenInfo={description:"",methods:[],displayName:"SuggestedPosts",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var M=n("55Ip"),F=n("+qLk");function _(e){var t=e.suggestion,a=e.searchString,n=t[R.b];return n&&n.length?O.a.createElement("div",{className:"Suggestion-block ".concat(R.b)},O.a.createElement("div",{className:"Suggestion-title"},R.b),n.map(function(e,t){var n=e.display_name,r=B(a,n);return r.length?O.a.createElement(M.b,{to:"/".concat(F.C,"/").concat(e.name),key:"".concat(t),className:"Suggestion-item",title:n},O.a.createElement("div",{className:"thumbnail ".concat(R.b),style:{backgroundImage:"url(".concat(P.W,"/").concat(e.background_hash,"_d.jpg?maxwidth=60&shape=thumb&fidelity=high)")}}),O.a.createElement("span",{className:"Suggestion-item-text"},"#",r)):null})):null}_.__docgenInfo={description:"",methods:[],displayName:"SuggestedTags",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var G=n("7tbW"),L=n.n(G);function V(e){var t=e.suggestion,n=void 0===t?{}:t,i=e.searchString,r=n[R.c];return r&&r.length?O.a.createElement("div",{className:"Suggestion-block ".concat(R.c)},O.a.createElement("div",{className:"Suggestion-title"},R.c),r.map(function(e,t){var n="".concat(P.V,"/user/").concat(e.url),r=e.url,a=r.split(""),o=L()(i.toLowerCase().split(""));return O.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},O.a.createElement("div",{className:"thumbnail ".concat(R.c),style:{backgroundImage:"url(".concat(e.avatar,")")}}),O.a.createElement("span",{className:"Suggestion-item-text"},"@",a.map(function(e,t){return-1===o.indexOf(e.toLowerCase())?e:O.a.createElement("strong",{key:"strong-users-".concat(t),className:"Suggestion-match-case"},e)})))})):null}V.__docgenInfo={description:"",methods:[],displayName:"SuggestedUsers",props:{suggestion:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};n("A8WO");function U(e,t){return O.a.createElement("strong",{key:t,className:"Suggestion-match-case"},e)}function B(e,t,n){var r=2<arguments.length&&void 0!==n?n:U,a=[];if(!e)return a;for(var o=e.trim().toLowerCase().replace(/\s+/g," ").split(" ").join("|"),i=new RegExp("(".concat(o,")"),"gi"),c=i.exec(t),s=0;null!==c&&c[0];)s!==c.index&&0<c.index&&a.push(t.slice(s,c.index)),s=c.index+c[0].length,a.push(r(t.slice(c.index,s),c.index)),c=i.exec(t);return s<t.length&&a.push(t.slice(s,t.length)),a}function H(e){function t(e){var t=e.target.closest(".Suggestion-list");t&&0<e.deltaY&&t.clientHeight+t.scrollTop+5>=t.scrollHeight&&e.preventDefault()}var n=e.suggestion,r=e.searchString,a=e.maxHeight;return O.a.createElement("div",{className:"Suggestion"},O.a.createElement("div",{className:"Suggestion-list".concat(a?" Scrollbar":""),onWheel:t,onTouchMove:t,style:{maxHeight:a?a/2:null}},O.a.createElement(D.d,{model:"suggest",size:20}),O.a.createElement(_,{suggestion:n,searchString:r}),O.a.createElement(x,{suggestion:n,searchString:r}),O.a.createElement(V,{suggestion:n,searchString:r})))}H.__docgenInfo={description:"",methods:[],displayName:"SearchbarSuggestion",props:{suggestion:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},searchString:{type:{name:"string"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""}}};n("oG7g");function W(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var z=function(e){u()(n,e);var t=W(n);function n(e){var o;return i()(this,n),o=t.call(this,e),E()(s()(o),"inputChangeHandler",function(e){if(!e.target.value)return o.setState({isOpen:!1}),void o.props.cleanSearch();o.props.inputSearch(e.target.value)}),E()(s()(o),"getSuggest",function(e){var t=e.handleFetchSuggest,n=e.searchTag,r=e.searchString,a=o.getSearchString(r,n.symbol);o.setState({isOpen:!!a}),a?t(a.toLowerCase(),n.tagName):r||o.props.cleanSearch()}),E()(s()(o),"submitHandler",function(e){e.preventDefault(),o.props.onSubmitSearch(o.props.searchString),Object(v.db)("".concat(P.V,"/search?q=").concat(Object(v.A)(o.props.searchString)))}),E()(s()(o),"handleMouseDown",function(){o.props.suggest.size&&o.setState({isOpen:!!o.props.suggest.size})}),E()(s()(o),"handleKeyDown",function(e){27===e.keyCode&&o.setState({isOpen:!1})}),o.state={isOpen:!1},o}return c()(n,[{key:"componentDidUpdate",value:function(e,t){if(e.searchString!==this.props.searchString)this.getSuggest(this.props);else if(e.positionY!==this.props.positionY&&this.searchText&&t.isOpen){this.searchText.getBoundingClientRect().bottom<-70&&this.setState({isOpen:!1})}}},{key:"componentDidMount",value:function(){var e=this;this.removeAutoCloser=Object(T.a)({el:function(){return e.searchText},cb:function(){return e.setState({isOpen:!1})}});this.getSuggest=q()(this.getSuggest,600,{leading:!1,trailing:!0})}},{key:"componentWillUnmount",value:function(){this.getSuggest.cancel(),this.removeAutoCloser&&this.removeAutoCloser()}},{key:"getSearchString",value:function(e,t){return-1<["#","@"].indexOf(t)?e.slice(1,e.length):e}},{key:"render",value:function(){var t=this,e=this.props,n=e.searchString,r=e.loading,a=e.suggest,o=e.searchTag,i=e.style,c=a.size&&"function"==typeof a.toObject?a.toObject():a;return O.a.createElement("div",{className:"Searchbar",style:i},O.a.createElement("form",{onSubmit:this.submitHandler,className:"Searchbar-form",action:"/search"},O.a.createElement("input",{ref:function(e){t.searchText=e},placeholder:Object(I.b)("searchPlaceholder"),type:"text",className:"Searchbar-textInput",value:"".concat(n),onChange:this.inputChangeHandler,onMouseDown:this.handleMouseDown,onKeyDown:this.handleKeyDown,onTouchEnd:this.handleMouseDown,style:{height:36},name:"q"}),O.a.createElement("button",{onClick:this.submitHandler,type:"submit",className:"Searchbar-submitInput"},O.a.createElement(A.W,{name:A.v}))),this.state.isOpen&&a.size?O.a.createElement(H,{suggestion:c,searchString:this.getSearchString(n,o.symbol),loading:r}):null)}}]),n}(O.a.Component);z.defaultProps={searchTag:{symbol:""},suggest:{},style:{},onSubmitSearch:function(){}},z.__docgenInfo={description:"",methods:[{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"getSearchString",docblock:null,modifiers:[],params:[{name:"searchString",type:null},{name:"symbol",type:null}],returns:null},{name:"getSuggest",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Searchbar",props:{searchTag:{defaultValue:{value:"{\n    symbol: '',\n}",computed:!1},type:{name:"shape",value:{symbol:{name:"string",required:!1},tagName:{name:"string",required:!1}}},required:!1,description:""},suggest:{defaultValue:{value:"{}",computed:!1},type:{name:"instanceOf",value:"Object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},onSubmitSearch:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""},inputSearch:{type:{name:"func"},required:!0,description:""},cleanSearch:{type:{name:"func"},required:!0,description:""},handleFetchSuggest:{type:{name:"func"},required:!0,description:""},loading:{type:{name:"bool"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var Y=Object(b.b)(function(e){var t=e.search,n=e.ui,r=e.display;return{searchString:t.get("searchString")||"",searchTag:t.get("searchTag"),suggest:t.get("suggest")||{},loading:n.spinner&&n.spinner.get("suggest")&&n.spinner.get("suggest").loading,positionY:r.get("positionY")}},function(n){return{handleFetchSuggest:function(e,t){return n(Object(w.e)(e,t))},inputSearch:function(e){return n(Object(w.f)(e))},onSubmitSearch:function(e){return n(Object(w.g)(e))},cleanSearch:function(){return n(Object(w.d)())}}})(z),K=n("ygTn"),J=n("+VfX");n("rvyR");function X(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Q=function(e){u()(n,e);var t=X(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props.searchName;return O.a.createElement("div",{className:"NavbarDropdown"},O.a.createElement("ul",null,O.a.createElement("li",null,O.a.createElement(N.a,null))),e===J.k&&O.a.createElement(Y,{name:"dropdown"}))}}]),n}(O.a.Component);var Z=Object(b.b)(function(e){return{searchName:e.ui.cover.getIn(["searchbar","name"])}})(Q);Q.__docgenInfo={description:"",methods:[],displayName:"NavbarDropdown",props:{searchName:{type:{name:"string"},required:!1,description:""}}};n("HhWI");function $(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ee=function(e){u()(n,e);var t=$(n);function n(e){var r;return i()(this,n),r=t.call(this,e),E()(s()(r),"updateDropdownNavbar",function(e,t){var n=r.dropDown;n&&e.target!==n&&n.parentNode.contains(e.target)&&"INPUT"===e.target.tagName?e.preventDefault():r.setState({isOpen:t})}),E()(s()(r),"toggleHandler",function(e){var t=r.state.isOpen;r.updateDropdownNavbar(e,!t)}),r.state={isOpen:!1},r}return c()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.forceClose;this.state.isOpen&&e.forceClose!==t&&this.setState({isOpen:!1})}},{key:"componentDidMount",value:function(){var t=this;this.removeAutoCloser=Object(T.a)({el:function(){return t.dropDown},cb:function(e){return t.updateDropdownNavbar(e,!1),!0}})}},{key:"componentWillUnmount",value:function(){this.removeAutoCloser&&this.removeAutoCloser()}},{key:"render",value:function(){var t=this,e=this.state.isOpen;return O.a.createElement("div",{className:"NavbarMenuButton"},O.a.createElement("div",{className:"icon icon-menu",ref:function(e){t.dropDown=e},onClick:this.toggleHandler}),e&&O.a.createElement(Z,null))}}]),n}(g.Component);function te(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}ee.__docgenInfo={description:"",methods:[{name:"updateDropdownNavbar",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"isOpen",type:null}],returns:null},{name:"toggleHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarMenuButton",props:{forceClose:{type:{name:"number"},required:!1,description:""}}};var ne=function(e){u()(n,e);var t=te(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.left,a=e.top,o=e.right,i=e.bottom,c=k()(E()({MoveContainer:!0},t,t));return O.a.createElement("div",{className:c,style:{left:r,top:a,right:o,bottom:i}},n)}}]),n}(g.Component);ne.defaultProps={className:""},ne.__docgenInfo={description:"",methods:[],displayName:"MoveContainer",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},left:{type:{name:"number"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},right:{type:{name:"number"},required:!1,description:""},bottom:{type:{name:"number"},required:!1,description:""}}};var re=n("Ty5D");n("JHKR");function ae(e){var t=e.className,n=e.history;return O.a.createElement("a",{href:P.V,className:"GoUp-stopDrag",onClick:function(e){e.preventDefault(),Object(v.tb)(0,0),"/"!==n.location.pathname&&n.push("/")}},O.a.createElement("img",{className:k()("GoUp","GoUp-image","GoUp-stopDrag",E()({},t,!!t)),src:"//s.".concat(P.U,"/images/favicon-32x32.png")}))}ae.defaultProps={className:""},ae.__docgenInfo={description:"",methods:[],displayName:"GoUpComponent",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""}}};var oe=Object(re.h)(ae),ie=n("RIqP"),ce=n.n(ie),se=n("D0BC"),le=n.n(se),ue=n("sEfC"),de=n.n(ue),me=n("zMZQ"),pe=n.n(me),fe=n("r9xK"),he=n.n(fe),ge=n("DT9I"),ye=n.n(ge),be=n("+sW7"),ve=n.n(be),Ce=n("uFEW"),Ee=n.n(Ce),Oe=n("naFI"),ke=n.n(Oe),Pe=n("X9Zs"),Se=n.n(Pe),Ne=[pe.a,he.a,ye.a,ve.a],je=[Ee.a,ke.a,Se.a],qe=[-90,90],we=[-45,45];n("w1ny");function Ie(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Te=100,Ae={limit:50,speed:[5.5,2.5],wind:[-.5,.5],spin:[-25,25]};function De(e,t,n,r){var a=[];e.forEach(function(e){var t=le.a.apply(void 0,ce()(Ae.spin));a.push(Object.assign(e,{y:e.y+e.speed},{x:e.x+e.wind},{rotate:e.rotate+t}))});var o=a.filter(function(e){return function(e){return e.x<Object(v.v)()&&e.y<Object(v.u)()}(e)});return t<n&&o.length<Te?(o.push(function(e,t){var n=t();return n.speed=le.a.apply(void 0,ce()(Ae.speed)),n.wind=le.a.apply(void 0,ce()(Ae.wind)),n.x=le()(0,Object(v.v)()),n.y=-10,n.key=e,n}("particle ".concat(t+1),r)),{totalCreated:t+1,confetti:o}):{totalCreated:t,confetti:o.slice(0,n)}}var Re=function(e){u()(n,e);var t=Ie(n);function n(e){var o;return i()(this,n),o=t.call(this,e),E()(s()(o),"startConfetti",de()(function(){var r=o.props.particleGenerator;o.setState(function(e){var t=e.limit+Ae.limit,n=De(e.confetti,e.totalCreated,t,r);return{confetti:n.confetti,totalCreated:n.totalCreated,limit:t}},function(){1===o.state.confetti.length&&o.runAnimation()})},500,{leading:!0})),E()(s()(o),"runAnimation",function(){var t=o.props.particleGenerator,e=o.state,n=e.confetti,r=e.totalCreated,a=e.limit;Object(v.pb)(function(){var e=De(n,r,a,t);o.setState({confetti:e.confetti,totalCreated:e.totalCreated}),e.confetti.length&&o.runAnimation()})}),o.state={confetti:[],totalCreated:0,limit:0},o}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.eventName;Object(v.c)(e,this.startConfetti,!0)}},{key:"componentWillUnmount",value:function(){var e=this.props.eventName;Object(v.mb)(e,this.startConfetti,!0)}},{key:"render",value:function(){var e=this.state.confetti;return O.a.createElement("div",null,0<e.length&&e.map(function(e){return O.a.createElement("img",{className:"confetti-particle",src:e.svg,style:{transform:"rotateZ(".concat(e.rotate,"deg)"),top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),maxWidth:36,maxHeight:36},key:e.key})}))}}]),n}(O.a.Component);Re.defaultProps={particleGenerator:function(){var e={};return Math.random()<.15?(e.svg=je[Math.floor(Math.random()*je.length)],e.rotate=le.a.apply(void 0,we)):(e.svg=Ne[Math.floor(Math.random()*Ne.length)],e.rotate=le.a.apply(void 0,qe)),e},eventName:"confetti"},Re.__docgenInfo={description:"",methods:[{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Confetti",props:{particleGenerator:{defaultValue:{value:"party",computed:!0},type:{name:"func"},required:!1,description:""},eventName:{defaultValue:{value:"'confetti'",computed:!1},type:{name:"string"},required:!1,description:""}}};var xe=[-45,45,-90,90];function Me(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Fe="accolade_confetti",_e=function(e){u()(o,e);var r=Me(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),E()(s()(a),"getUrls",function(){var e=a.props,t=e.accoladeData,n=e.accolades,r=t.get("accoladeIds");if(!n||!r)return[];return r.map(function(e){return function(e){return e&&e.get("image_url")}(n.find(function(t){return function(e){return e.get("id")===parseInt(t,10)}}(e)))}).filter(function(e){return!!e})}),a}return c()(o,[{key:"componentDidUpdate",value:function(e){this.props.accoladeData!==e.accoladeData&&Object(v.Eb)(Fe)}},{key:"render",value:function(){var e=this.getUrls();return 0===e.length?null:O.a.createElement(O.a.Fragment,null,O.a.createElement(Re,{eventName:Fe,particleGenerator:function(e){return function(){return{svg:e[Math.floor(Math.random()*e.length)],rotate:le.a.apply(void 0,xe)}}}(e)}))}}]),o}(O.a.Component);_e.defaultProps={accoladeData:null,accolades:null},_e.__docgenInfo={description:"",methods:[{name:"getUrls",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AccoladeConfetti",props:{accoladeData:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""},accolades:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""}}};var Ge=Object(b.b)(function(e){var t=e.postsData;return{accoladeData:e.ui.gallery.get("accoladeData"),accolades:t&&t.getIn(["currentPostMeta","accolades","available"])}},{})(_e);n("oJUB"),n("sUKj"),n("6IHV");function Le(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ve=function(e){u()(n,e);var t=Le(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.top,r=e.forceClose,a=k()({"Navbar HomeNavbar":!0,active:t});return O.a.createElement(ne,{className:a,top:n},O.a.createElement(Ge,null),O.a.createElement(Re,null),O.a.createElement(ee,{"forceСlose":r}),O.a.createElement("div",{className:"NavbarContainer-left"},O.a.createElement(K.a,null),O.a.createElement(N.b,null),O.a.createElement(oe,{className:"ProfileCover-up"})),O.a.createElement("div",{className:"NavbarContainer-center"},O.a.createElement(Y,null)),O.a.createElement("div",{className:"NavbarContainer-right"},O.a.createElement(C.a,null)))}}]),n}(O.a.Component);Ve.defaultProps={username:""},Ve.__docgenInfo={description:"",methods:[],displayName:"Navbar",props:{username:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},fireInDropDownMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},searchName:{type:{name:"string"},required:!1,description:""},forceClose:{type:{name:"number"},required:!1,description:""}}};var Ue=Object(b.b)(function(e){var t=e.user,n=e.ui,r=e.display;return{username:t.get("username"),top:n.cover.getIn(["navbar","top"]),searchName:n.cover.getIn(["searchbar","name"]),forceClose:r.get("positionY")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(S.d)("topNavBar"))},fireInDropDownMessagingNavAnalytics:function(){e(Object(S.d)("usernameDropdown")),e(Object(S.g)("messages"))}}})(Ve),Be=n("Bw9V");n("hrf1");function He(e){var t=e.newPosts,n=e.handleGalleryPostRerender;return t?O.a.createElement("div",{className:"NewPostsNotification",onClick:n},O.a.createElement(A.W,{name:A.b,className:"".concat(A.b)}),Object(I.b)("newPosts",t)):null}He.__docgenInfo={description:"",methods:[],displayName:"NewPostsNotification",props:{newPosts:{type:{name:"number"},required:!0,description:""},handleGalleryPostRerender:{type:{name:"func"},required:!0,description:""}}};var We=Object(b.b)(function(e){return{newPosts:e.ui.newPosts.get("newPostsNumber")}},{handleGalleryPostRerender:Be.F})(He),ze=n("/PhX");n("sQc6");function Ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ke(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Je=function(e){u()(o,e);var r=Ke(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),E()(s()(a),"scrollHandler",function(){var e=a.props.onScroll;a._lastKnownScrollPosition=Math.round(Object(v.bb)()),a._ticking||Object(v.pb)(function(){a.calculatePositioning(a._lastKnownScrollPosition),e&&e(),a._ticking=!1}),a._ticking=!0}),E()(s()(a),"updateHeight",function(){var e=a.props,t=e.coverHeight,n=e.modifyCoverHeight;if(a._elem){var r=Math.round(a._elem.getBoundingClientRect().height);t!==r&&n({height:r})}}),a}return c()(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.modifyCoverHeight,n=e.updateHeightHandler;this._elem&&t({height:this._elem.getBoundingClientRect().height});this._lastKnownScrollPosition=0,this._ticking=!1,Object(v.a)("scroll",this.scrollHandler),"function"==typeof n&&n(this.updateHeight)}},{key:"calculatePositioning",value:function(e){var t=this.props,n=t.coverFixed,r=t.coverHeight,a=t.modifyCoverPosition;n&&e>r+J.a||a({scrollY:e})}},{key:"componentWillUnmount",value:function(){(0,this.props.modifyCoverHeight)({height:0,top:0}),Object(v.jb)("scroll",this.scrollHandler)}},{key:"componentDidUpdate",value:function(){this.updateHeight()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isPromoted,r=e.backgroundHash,a=e.coverTop,o=e.coverFixed,i=e.children,c=e.className,s=e.backgroundType,l=e.minHeight,u=e.Banner,d=e.isNavBar,m=e.SCTU,p=e.SCTUPath,f=e.SCTUReservePath,h=e.SCTUTargeting,g=e.hideNewPostNotification,y=e.transformationStyle,b=e.customStyle,v=k()(E()({isFixed:o,isPromoted:n},c,c)),C=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(n),!0).forEach(function(e){E()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({top:a,minHeight:l,backgroundImage:function(e,t){switch(e){case J.o:case J.n:return;case J.s:return"linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.3) 20%), url(".concat(P.W,"/").concat(t,".jpg)");case J.p:return"linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2) ), url(".concat(P.V,"/user/").concat(t,"/cover)");case J.u:return"linear-gradient(180deg, rgba(39, 42, 51, 0.8) 21%, #272A33 77%), linear-gradient(116.32deg, rgba(105, 19, 254, 0.56) 0%, rgba(1, 185, 107, 0.56) 100%), url(".concat(P.W,"/").concat(t,".jpg)");case J.t:return"linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 1) 100%), url(".concat(P.W,"/").concat(t,".jpg)");default:return"linear-gradient(167deg, rgba(68, 215, 142, 0), rgba(41, 182, 112, 0)), linear-gradient(rgba(0, 0, 0, 0.43), rgba(0, 0, 0, 0.43)), linear-gradient(141deg, #3023ae, #3ec871), url(".concat(P.W,"/").concat(t,".jpg)")}}(s,r)},b);return o&&(C=Object.assign(C,y)),O.a.createElement("div",{className:"App-cover NewCover ".concat(v),style:C,ref:function(e){t._elem=e}},m&&O.a.createElement(m,{path:p,onStatusChange:this.updateHeight,slotTargeting:h}),m&&O.a.createElement(m,{path:f,onStatusChange:this.updateHeight,slotTargeting:h,reserve:!0}),u&&O.a.createElement(u,{onStatusChange:this.updateHeight}),d&&O.a.createElement(Ue,null),i,!g&&o&&O.a.createElement(We,null))}}]),o}(O.a.Component);Je.defaultProps={className:"",backgroundHash:"",isPromoted:!1,top:0,minHeight:J.l,isNavBar:!0,SCTUTargeting:{},hideNewPostNotification:!1,preventFixed:!1,useOffset:!1};var Xe=Object(b.b)(function(e,t){var n=e.gallery,r=e.ui,a=e.fastGrid,o=e.ad,i=t.backgroundType,c=t.backgroundHash,s=t.preventFixed,l=t.useOffset,u=i===J.p?(c||"").toLowerCase():n.get("streamBackgroundHash"),d={};o.getIn(["transformation","animatingIn"])&&(d={opacity:0}),o.getIn(["transformation","enabled"])&&(d={background:"linear-gradient(rgba(".concat(o.getIn(["transformation","backgroundColor"]),", 0.64), rgba(").concat(o.getIn(["transformation","backgroundColor"]),", 0.9)), url(").concat(o.getIn(["transformation","backgroundImage"]),")"),opacity:o.getIn(["transformation","animatingOut"])?0:1});var m={};return l&&(m.paddingLeft=a.get("leftOffset"),m.paddingRight=a.get("rightOffset")),{coverTop:r.cover.get("top"),coverHeight:r.cover.get("height"),isPromoted:n.get("streamIsPromoted"),backgroundHash:u,customStyle:m,transformationStyle:d,coverFixed:!s&&r.cover.get("fixed")}},{modifyCoverHeight:ze.E,modifyCoverPosition:ze.F})(Je);Je.__docgenInfo={description:"",methods:[{name:"scrollHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"calculatePositioning",docblock:null,modifiers:[],params:[{name:"position",type:null}],returns:null},{name:"updateHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CoverHeader",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},backgroundHash:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},top:{defaultValue:{value:"0",computed:!1},required:!1},minHeight:{defaultValue:{value:"DEFAULT_HEIGHT",computed:!0},type:{name:"number"},required:!1,description:""},isNavBar:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},SCTUTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},hideNewPostNotification:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},preventFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},modifyCoverHeight:{type:{name:"func"},required:!0,description:""},modifyCoverPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},backgroundType:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},coverFixed:{type:{name:"bool"},required:!1,description:""},updateHeightHandler:{type:{name:"func"},required:!1,description:""},Banner:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTU:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTUPath:{type:{name:"number"},required:!1,description:""},SCTUReservePath:{type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""},leftOffset:{type:{name:"number"},required:!1,description:""},rightOffset:{type:{name:"number"},required:!1,description:""}}}},iww3:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),s=n.n(r),a=(n("17x9"),n("TSYQ")),l=n.n(a);n("58bT");function o(e){var t=e.name,n=e.value,r=e.toggleHandler,a=e.labelText,o=e.className,i=e.children,c=e.isDisabled;return s.a.createElement("div",{className:l()("UploadCheckbox",{isDisabled:c},o)},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",name:t,value:"true",id:t,checked:n,onChange:r,disabled:c}),s.a.createElement("span",null)),a&&s.a.createElement("label",{htmlFor:t},a),i)}o.__docgenInfo={description:"",methods:[],displayName:"UploadCheckbox",props:{name:{type:{name:"string"},required:!0,description:""},value:{type:{name:"bool"},required:!0,description:""},toggleHandler:{type:{name:"func"},required:!0,description:""},labelText:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}}},"j/yV":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r);n("17x9"),n("/q0z");function a(e){for(var t=e.points,n=e.radius,r=360/t*Math.PI/180,a=[],o=0;o<t;o++)a.push({cx:16+(16-n)*Math.cos(r*o),cy:16+(16-n)*Math.sin(r*o)});return i.a.createElement("span",{className:"FireworkAnimate"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(32," ").concat(32),fill:"currentColor"},a.map(function(e,t){return i.a.createElement("circle",{key:"point-".concat(t),cx:e.cx,cy:e.cy,r:n})})))}a.defaultProps={points:8,radius:2},a.__docgenInfo={description:"",methods:[],displayName:"Firework",props:{points:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},radius:{defaultValue:{value:"2",computed:!1},type:{name:"number"},required:!1,description:""}}}},jAEK:function(e,t,n){},"jbM+":function(e,t,n){var r=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&-1<r(e,t,0)}},jlYo:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return l});var r="active",a="scheduled",o="expired",i=1,c=3,s=4,l="Campaign not found"},kVJ9:function(e,t,n){},lQn5:function(e,t,n){"use strict";n.d(t,"a",function(){return ae});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("sEfC")),C=n.n(v),E=n("/MKj"),O=n("ANjH"),k=n("Ty5D"),P=n("if3o"),S=n("Bw9V"),N=n("Gk2F"),j=n("+qLk"),q=n("TSYQ"),w=n.n(q),I=n("Njrs");function T(e){var t,n=e.children,r=e.data,a=e.handleDragItem,o=e.dragEnd,i=e.className,c=w()(g()({Draggable:!0},i,!!i));return b.a.createElement("div",{ref:function(e){t=e},className:c,draggable:"true","data-transfer":JSON.stringify(r),onDragStart:function(e){e.stopPropagation();try{e.dataTransfer.setDragImage(t,-20,-20)}catch(e){}e.dataTransfer.setData("text","{}"),a()},onDragEnd:o},n)}T.defaultProps={className:""};var A=Object(E.b)(null,function(e,t){var n=t.name,r=t.data;return{handleDragItem:function(){return e(Object(I.c)({name:n,data:r}))},dragEnd:function(){return e(Object(I.d)({name:n}))}}})(T);T.__docgenInfo={description:"",methods:[],displayName:"Draggable",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},data:{type:{name:"object"},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDragItem:{type:{name:"func"},required:!1,description:""},dropItem:{type:{name:"func"},required:!1,description:""},dragEnd:{type:{name:"func"},required:!1,description:""}}};var D=n("fKOs");function R(e){var t=e.selected,n=e.children,r=e.className,a=e.handleToggle,o=["Selectable"];return r&&o.push(r),t&&o.push("Selectable-selected"),b.a.createElement("div",{className:o.join(" "),onClick:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a())}},n)}var x=Object(E.b)(function(e,t){var n=t.name,r=t.data,a=e.selectables.get(n);return{selected:a&&a.has(r)}},function(e,t){var n=t.name,r=t.data;return{handleToggle:function(){return e(Object(D.f)({name:n,data:r}))}}})(R);R.__docgenInfo={description:"",methods:[],displayName:"Selectable",props:{data:{type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},name:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},handleToggle:{type:{name:"func"},required:!1,description:""}}};var M=n("G5ih"),F=n("f6ut"),_=n("9uSn");n("wmkP");function G(e){var t=e.checked,n=e.onToggle,r=e.withTooltip,a=b.a.createElement(F.a,{handleOnChange:n,selected:t});return b.a.createElement("div",{className:"FavoritesPostCheckbox"},r&&b.a.createElement(_.a,{text:Object(M.b)("dragDropTooltip")},a),!r&&a)}G.defaultProps={checked:!1,withTooltip:!1},G.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostCheckbox",props:{checked:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onToggle:{type:{name:"func"},required:!0,description:""}}};n("FuWu");function L(e){var t=e.onClick,n=e.withTooltip,r=b.a.createElement("span",{className:"icon-trash"});return b.a.createElement("div",{className:"FavoritesPostDelete",onClick:t},n&&b.a.createElement(_.a,{text:Object(M.b)("deleteFavFromAll")},r),!n&&r)}L.defaultProps={withTooltip:!1},L.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostDelete",props:{withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};var V=n("ega+"),U=n("1Gek"),B=n("Uzvo"),H=n("Uyyq"),W=n.n(H),z=n("mpKo"),Y=n.n(z);n("wcKY");function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function X(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Q="selectedFavorites",Z=function(e){u()(o,e);var a=X(o);function o(){var r;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),g()(s()(r),"handlerRemoveFromFavorite",function(){var e=r.props,t=e.folderInfo,n=e.post;(0,e.removeFromFavorite)(n.id,n.isAlbum,Object(U.f)(n),t&&t.get("id"))}),g()(s()(r),"handlerToggle",function(){var e=r.props,t=e.firstTime,n=e.post;(0,e.handleToggle)(Object(U.f)(n),t)}),r}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.folderInfo,r=e.firstTime,a=e.selectables,o=e.isOwner,i=e.username;if(!n)return null;var c=Object(U.f)(t),s=n&&n.get("id"),l="".concat(Object(U.a)(n.toJS(),o,i),"/").concat(t.id),u=a&&1<a.size,d=a&&a.has(c),m=r&&s===P.a,p=J(J({},this.props),{},{post:Object.assign(t,{href:l})});if(!o)return b.a.createElement(V.b,p);var f=w()({FavoritesPost:!0,isSelected:d});return b.a.createElement("div",{className:f},b.a.createElement(A,{className:"FavoritesPost-draggable",name:"favorites",src:u?Y.a:W.a,data:{selectableName:Q,id:c}},b.a.createElement(x,{name:Q,className:"FavoritesPost-selectable",data:c},b.a.createElement(V.b,J(J({},p),{},{usePrivacy:!t.inGallery})))),b.a.createElement(L,{withTooltip:m,onClick:this.handlerRemoveFromFavorite}),b.a.createElement(G,{onToggle:this.handlerToggle,checked:d,withTooltip:m}))}}]),o}(y.Component);Z.defaultProps={className:""},Z.__docgenInfo={description:"",methods:[{name:"handlerRemoveFromFavorite",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerToggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesPost",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},folderInfo:{type:{name:"object"},required:!1,description:""},firstTime:{type:{name:"bool"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},selectables:{type:{name:"object"},required:!1,description:""},removeFromFavorite:{type:{name:"func"},required:!0,description:""},handleToggle:{type:{name:"func"},required:!0,description:""}}};var $=Object(B.a)(Object(O.d)(k.h,Object(E.b)(function(e,t){var n=e.user,r=e.account,a=e.favorites,o=e.selectables,i=t.match,c=(i.params.username||"").toLowerCase(),s=parseInt(i.params.id||P.a,10),l=r.getIn(["accounts",c]),u=l?l.get("username"):null;return{isOwner:n.get("username")===u,folderInfo:a.getIn(["folders",s]),firstTime:!a.get("hasUsedFavoriteFolders"),username:c,selectables:o.get(Q)}},function(o,e){var i=e.link;return{removeFromFavorite:function(e,t,n,r){var a={id:e,isAlbum:t};r===P.a?o(Object(N.w)(a)):o(Object(N.v)({id:r,link:i,faves:[n]})),o(Object(S.O)([a]))},handleToggle:function(e,t){o(Object(D.f)({name:Q,data:e})),t&&o(Object(N.y)())}}}))(Z));n("1POK");function ee(e){var t=e.id,n=e.isOwner,r=Object(M.b)("noFavoritesToShow");return n&&(r=Object(M.b)("noFavoritesOfMine"),t!==P.a&&(r=Object(M.b)("noFavoritesInFolderOfMine"))),b.a.createElement("div",{className:"ProfileFavoritesEmpty"},r)}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function re(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ae(){var n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(t){var e=function(e){u()(o,e);var a=re(o);function o(){var n;i()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),g()(s()(n),"moreDataFetch",C()(function(){n.props.hasMore&&n.fetchGallery(ne(ne({},n.props),{},{insertionModifier:S.a}))},j.o,{leading:!0,trailing:!1})),g()(s()(n),"dataFetch",function(e){n.props.cleanupGallery(),n.fetchGallery(ne(ne({},e),{},{insertionModifier:S.o,streamPage:0}))}),g()(s()(n),"fetchGallery",function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.folderId,t.streamPage,t.streamSort,t.streamOrganized,t.insertionModifier)}}),g()(s()(n),"getEmptyRow",function(){return b.a.createElement(ee,{isOwner:n.props.isOwner})}),n}return c()(o,[{key:"componentDidMount",value:function(){n&&this.props.isFoldersFetched&&this.dataFetch(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.folderId,r=t.streamOrganized,a=t.streamSort,o=t.isFoldersFetched;return n&&n!==e.folderId?this.dataFetch(this.props):o&&!e.isFoldersFetched?this.dataFetch(this.props):r&&r!==e.streamOrganized?this.dataFetch(this.props):a&&a!==e.streamSort?this.dataFetch(this.props):void 0}},{key:"render",value:function(){return b.a.createElement(t,{Child:$,moreDataFetch:this.moreDataFetch,emptyRow:this.getEmptyRow})}}]),o}(b.a.Component);return e.defaultProps={folderId:P.a},e.displayName="WithFavoritesData(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),Object(O.d)(k.h,Object(E.b)(function(e,t){var n=e.favorites,r=e.gallery,a=t.match,o=Number.parseInt(a.params.id||P.a,10);return{streamSort:n.get("sort"),streamPage:Number.parseInt(n.get("page")||0,10),streamOrganized:n.get("organized"),isFoldersFetched:n.get("isFoldersFetched"),isFetching:r.get("isFetching"),hasMore:r.get("hasMore"),folderId:o}},function(l,e){var u=e.username,d=e.isOwner,m=e.isLoggedIn;return{fetchGallery:function(e,t,n,r,a){var o=1<arguments.length&&void 0!==t?t:0,i=2<arguments.length&&void 0!==n?n:P.d,c=3<arguments.length&&void 0!==r?r:P.m,s=4<arguments.length?a:void 0;return l(0<=e?Object(N.p)({username:u,id:e,isOwner:d,page:o,sort:i,insertionModifier:s,isAuthed:m}):d?Object(N.o)({username:u,page:o,sort:i,organized:c,insertionModifier:s,isAuthed:m}):Object(N.r)({username:u,page:o,sort:i,insertionModifier:s,isAuthed:m}))},cleanupGallery:function(){return l(Object(S.u)())}}}))(e)}}ee.defaultProps={isOwner:!1},ee.__docgenInfo={description:"",methods:[],displayName:"ProfileFavoritesEmpty",props:{isOwner:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""}}}},"m+bm":function(e,t,n){},mky3:function(e,t,n){},moYt:function(e,t,n){var r=n("dt0z");e.exports=function(e){return r(e).toUpperCase()}},mpKo:function(e,t,n){e.exports=n.p+"desktop-assets/multi-drag.c600d4c73980a8f8fb9f06a3d290bb2b.png"},"n/mK":function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),a=n("QILm"),i=n.n(a),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("/MKj"));function u(e){var t=e.innerRef,n=e.to,r=(e.isLoggedIn,e.isPostPageBeta,e.children),a=(e.dispatch,e.isExternalAd,e.state,i()(e,["innerRef","to","isLoggedIn","isPostPageBeta","children","dispatch","isExternalAd","state"]));return s.a.createElement("a",o()({draggable:"false",href:n,ref:t},a),r)}u.defaultProps={state:{}};u.__docgenInfo={description:"",methods:[],displayName:"PostLinkComponent",props:{state:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},innerRef:{type:{name:"object"},required:!1,description:""},to:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isPostPageBeta:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(l.b)(function(e){var t=e.user;return{isLoggedIn:t.get("isLoggedIn"),isPostPageBeta:t.get("flags").get("desktopPostPageBeta")}})(u)},nAF4:function(e,t,n){},nFdL:function(e,t,n){},naFI:function(e,t,n){e.exports=n.p+"desktop-assets/b2.8b9e5b2c5f0b610eb10ef24ece1539cd.svg"},neJP:function(e,t,n){},nswd:function(e,t,n){},"o+s0":function(e,t,n){},o9hv:function(e,t,n){},oAby:function(e,t,n){},oG7g:function(e,t,n){},oJUB:function(e,t,n){},oSho:function(e,t,n){},oYpj:function(e,t,n){},pQSO:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("pVnL"),i=n.n(r),a=n("QILm"),c=n.n(a),o=n("q1tI"),s=n.n(o),l=(n("17x9"),n("TSYQ")),u=n.n(l),d=n("BWa0");n("kVJ9");function m(e){var t=e.selected,n=void 0!==t&&t,r=c()(e,["selected"]),a=u()({Favorite:!0,"Favorite--selected":n}),o={height:"32",width:"32",fillColor:"none",strokeColor:"#ffffff"};return s.a.createElement(d.eb,i()({className:a,name:d.p},o,r))}m.__docgenInfo={description:"",methods:[],displayName:"Favorite",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},pR6v:function(e,t,n){"use strict";n.r(t),n.d(t,"HiddenAlbum",function(){return d}),n.d(t,"HiddenImage",function(){return m});var r=n("/MKj"),a=n("fdoY"),o=n("ErBw"),i=n("/PhX"),c=n("2c7z"),s=n("76Z7"),l=n("Ogr3"),u=n("Pom+"),d=Object(r.b)(u.b,{retrievePostAction:a.Bb,retrievePostMetaAction:a.Fb,retrievePromotedPostAction:a.Db,resetPostDataAction:a.yb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.fb,goToPreviousPostAction:a.gb,newPostAction:a.jb,promotedPostViewAction:a.rb,reachedBottom:a.tb,toggleAudioState:c.n,setTransformationAction:o.M,updateAdConfigAction:o.N})(u.a),m=Object(r.b)(u.b,{retrievePostAction:a.Cb,retrievePostMetaAction:a.Fb,retrievePromotedPostAction:a.Db,resetPostDataAction:a.yb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.fb,goToPreviousPostAction:a.gb,newPostAction:a.jb,promotedPostViewAction:a.rb,reachedBottom:a.tb,toggleAudioState:c.n,setTransformationAction:o.M,toastError:l.d,updateAdConfigAction:o.N})(u.a)},pxaO:function(e,t,n){},q8cC:function(e,t,n){},qAYT:function(e,t,n){},qMU6:function(e,t,n){},qhsG:function(e,t,n){},r9xK:function(e,t,n){e.exports=n.p+"desktop-assets/s2.dd85daa2582e347fdab35ad5a8e74dca.svg"},rbYx:function(e,t,n){},rlD7:function(e,t,n){},rvyR:function(e,t,n){},sQc6:function(e,t,n){},sUKj:function(e,t,n){},sWSo:function(e,t,n){"use strict";n.d(t,"c",function(){return z}),n.d(t,"e",function(){return Y}),n.d(t,"a",function(){return K}),n.d(t,"b",function(){return J});var r=n("lwsE"),c=n.n(r),a=n("W8MJ"),s=n.n(a),o=n("PJYZ"),l=n.n(o),i=n("7W2i"),u=n.n(i),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("ANjH")),C=n("/MKj"),E=n("sEfC"),O=n.n(E),k=n("zXN+"),P=n("wL9V"),S=n("N9yH"),N=n("vuO0"),j=n("Bw9V"),q=n("+qLk"),w=n("ega+"),I=n("5zAP"),T=n("hWib");function A(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var D=n("cF8P"),R=n("DUmG"),x=n.n(R);n("9DFJ");function M(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function F(e){var t=e.item;return b.a.createElement("div",{key:t.id,className:"PostWrapper",style:{height:t.size,background:"linear-gradient(".concat(t.colorLoading,", ").concat(x.a.$voyagerDarkGrey,")")}})}var _=function(e){u()(n,e);var t=M(n);function n(){return c()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return e.version!==this.props.version}},{key:"render",value:function(){var n=this,e=this.props,t=e.column,r=e.hasMargin,a=e.Child,o={width:D.c},i="Grid-column".concat("".concat(r?" hasMargin":""));return b.a.createElement("div",{style:o,className:i},t.getItems().map(function(e,t){return e.isInview?b.a.createElement("div",{key:"".concat(e.id,"-").concat(t),style:{height:e.size,marginBottom:16,position:"relative",zIndex:e.isActiveInteraction?2:1}},b.a.createElement(a,{id:e.id,width:D.c,height:e.size,colorLoading:e.colorLoading,isViewPort:e.isViewPort,isDeleted:e.isDeleted,streamSection:n.props.streamSection,streamParam:n.props.streamParam,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop})):b.a.createElement(F,{key:e.id,item:e})}))}}]),n}(b.a.Component);_.__docgenInfo={description:"",methods:[],displayName:"FastColumn",props:{column:{type:{name:"object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},hasMargin:{type:{name:"bool"},required:!1,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamParam:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}};var G=n("Y22u"),L=n("GB65"),V=n("G5ih"),U=n("vOx8");n("LbAz");function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var z=function(e){u()(r,e);var n=W(r);function r(e){var t;return c()(this,r),t=n.call(this,e),g()(l()(t),"inViewHandler",O()(function(){t.setState({inView:Object(G.a)(t.grid.current)})},200)),g()(l()(t),"resizeHandler",O()(function(){t.grid.current&&t.props.updateGridOffsetAction(t.grid.current.offsetTop)},200)),t.grid=b.a.createRef(),t.state={inView:!1},t}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.mountGrid,n=e.columnsCount,r=e.modifyDisplayState;t({width:e.viewPortWidth,viewUniform:e.shouldViewUniform,height:Object(L.u)(),topOffset:this.grid.current?this.grid.current.offsetTop+this.props.coverHeight:this.props.coverHeight}),0<n&&r({contentWidth:Object(k.a)(n)}),Object(L.c)("scroll",this.inViewHandler),Object(L.c)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e,t){if(e.columnsCount!==this.props.columnsCount&&this.props.modifyDisplayState({contentWidth:Object(k.a)(this.props.columnsCount)}),e.positionY!==this.props.positionY&&0<this.props.columns.length&&e.version!==this.props.version){var n=this.props.columns[0].getSize();this.props.topOffset+n-this.props.positionY<Object(L.u)()*D.i&&this.props.moreDataFetch()}e.coverHeight!==this.props.coverHeight&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop),!t.inView&&this.state.inView&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop)}},{key:"shouldComponentUpdate",value:function(e,t){return e.version!==this.props.version||(e.isFetching!==this.props.isFetching||(e.coverHeight!==this.props.coverHeight||t.inView!==this.state.inView))}},{key:"componentWillUnmount",value:function(){this.props.unmountGrid(),Object(L.mb)("scroll",this.inViewHandler),Object(L.mb)("resize",this.resizeHandler)}},{key:"render",value:function(){var n=this,e=this.props,t=e.viewUniform,r=e.columns,a=e.isFetching,o=e.fetchError,i=e.posts,c=e.version,s=e.Child,l=e.emptyRow,u=e.coverHeight,d=e.customStyle;if(0===r.length)return null;var m="FastGrid".concat(t?" uniform":""),p=H({marginTop:u-D.k,width:Object(k.a)(r.length)},d);if(o&&0===i.size)return b.a.createElement("h1",{className:"FastGrid-Error",style:p},Object(V.b)("explanationGeneric")," ",Object(V.b)("suggestionGeneric"));if(0===i.size&&!a&&l)return l();var f=r.some(function(e){return e.hasPicsartInview()}),h=r.slice().sort(function(e,t){return e.getId().slice(-1)-t.getId().slice(-1)});return b.a.createElement("div",{ref:this.grid,className:m,style:p},h.map(function(e,t){return b.a.createElement(_,{key:e.getId(),column:e,version:10*c+e.version,hasMargin:0!==t,Child:s,streamSection:n.props.streamSection,streamParam:n.props.streamParam,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop})}),f&&b.a.createElement(U.a,null))}}]),r}(b.a.Component);function Y(e,t){var n=e.gallery,r=e.fastGrid,a=e.display,o=e.posts,i=e.ui,c=t.useOffset,s={};return c&&(s.marginLeft=r.get("leftOffset"),s.marginRight=r.get("rightOffset")),{columns:r.get("columns"),version:r.get("version"),gridWidth:r.get("width"),topOffset:r.get("topOffset"),positionY:a.get("positionY"),columnsCount:r.get("columns").length,viewUniform:r.get("viewUniform"),shouldViewUniform:n.get("viewUniform"),isFetching:n.get("isFetching"),viewPortWidth:a.get("viewPort").get("width"),fetchError:n.get("fetchError"),posts:o.get("posts"),coverHeight:i.cover.get("height"),customStyle:s,useOffset:c}}z.defaultProps={useOffset:!1};var K=Object(v.d)(function(e,t,n){var r=!(0<arguments.length&&void 0!==e)||e,o=!(1<arguments.length&&void 0!==t)||t,i=!(2<arguments.length&&void 0!==n)||n;return function(a){var e=function(e){u()(n,e);var t=A(n);function n(e){var r;return c()(this,n),r=t.call(this,e),g()(l()(r),"initialDataFetch",function(e){var t=e.streamParam;r.fetchGallery(t,0,j.g),r.setState({nextPage:1,endOfStream:!1})}),g()(l()(r),"moreDataFetch",function(){var e=r.props.streamParam,t=r.state,n=t.nextPage;t.endOfStream||(r.fetchGallery(e,n,j.a),r.setState({nextPage:n+1}))}),g()(l()(r),"replaceDataFetch",function(e){var t=e.streamParam;r.fetchGallery(t,0,j.o),r.setState({nextPage:1,endOfStream:!1})}),g()(l()(r),"fetchGallery",O()(function(e,t,n){r.props.isFetching||r.props.fetchGallery(e,t,n)},q.o,{leading:!0,trailing:!1})),g()(l()(r),"renderWithSpinner",function(){return b.a.createElement(I.b,{isLoading:r.props.isFetching,isScrollSpinner:0<r.props.postCount},b.a.createElement(a,{Child:w.c,moreDataFetch:r.moreDataFetch,streamSection:r.props.streamSection,streamParam:r.props.streamParam,navigationTrigger:r.props.navigationTrigger,navigationDirection:r.props.navigationDirection,location:r.props.location,sendToTop:r.props.sendToTop,useOffset:r.props.useOffset}))}),g()(l()(r),"renderWithoutSpinner",function(){return b.a.createElement(a,{Child:w.c,moreDataFetch:r.moreDataFetch,streamSection:r.props.streamSection,streamParam:r.props.streamParam,navigationTrigger:r.props.navigationTrigger,navigationDirection:r.props.navigationDirection,location:r.props.location,sendToTop:r.props.sendToTop,useOffset:r.props.useOffset})}),r.state={nextPage:0,endOfStream:!1},r}return s()(n,[{key:"componentDidMount",value:function(){r&&this.props.isInitialized&&this.props.cleanupGallery()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.postCount,o=t.isFetching;return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):void(e.postCount===a&&!0===e.isFetching&&!1===o&&this.setState({endOfStream:!0}))}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(T.a,{action:this.fetchGallery,retries:e},o?this.renderWithSpinner():this.renderWithoutSpinner())}}]),n}(b.a.Component);return e.displayName="WithRecircData(".concat(function(e){return e.displayName||e.name||"Component"}(a),")"),Object(C.b)(function(e){var t=e.gallery,n=e.posts;return{isFetching:t.get("isFetching"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),postCount:n.get("recircPosts").size}},function(r,e){var a=e.recircFetcher,o=e.displayAnalytics;return{fetchGallery:function(e,t,n){r(Object(j.H)({isFetching:!0})),r(a(e,t,n)),0===t&&o&&o()},galleryPostRendererReady:function(){return r(Object(j.E)(i))},cleanupGallery:function(){return r(Object(j.v)())}}})(e)}}(),Object(C.b)(function(e,t){return H(H({},Y(e,t)),{},{posts:e.posts.get("recircPosts"),streamSection:t.streamSection,streamParam:t.streamParam})},{modifyDisplayState:P.f,mountGrid:S.g,unmountGrid:S.i,updateGridOffsetAction:S.j}))(z),J=Object(v.d)(Object(N.a)(!1),Object(C.b)(Y,{modifyDisplayState:P.f,mountGrid:S.g,unmountGrid:S.i,updateGridOffsetAction:S.j}))(z);z.__docgenInfo={description:"",methods:[],displayName:"FastGrid",props:{useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamParam:{type:{name:"string"},required:!1,description:""},mountGrid:{type:{name:"func"},required:!0,description:""},unmountGrid:{type:{name:"func"},required:!0,description:""},modifyDisplayState:{type:{name:"func"},required:!0,description:""},topOffset:{type:{name:"number"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},viewUniform:{type:{name:"bool"},required:!0,description:""},shouldViewUniform:{type:{name:"bool"},required:!0,description:""},isFetching:{type:{name:"bool"},required:!0,description:""},columns:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},columnsCount:{type:{name:"number"},required:!0,description:""},gridWidth:{type:{name:"number"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},fetchError:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},posts:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},emptyRow:{type:{name:"func"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},updateGridOffsetAction:{type:{name:"func"},required:!0,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""}}};t.d=Object(v.d)(Object(N.a)(),Object(C.b)(Y,{modifyDisplayState:P.f,mountGrid:S.g,unmountGrid:S.i,updateGridOffsetAction:S.j}))(z)},uFEW:function(e,t,n){e.exports=n.p+"desktop-assets/b1.606f828f35a1cbfa3829dcafa2635c36.svg"},"vN+2":function(e,t){e.exports=function(){}},vOx8:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("q1tI"),a=n.n(r),o=n("r/tT");function i(){return a.a.createElement("img",{src:o.i,referrerPolicy:"no-referrer-when-downgrade"})}i.__docgenInfo={description:"",methods:[],displayName:"PicsartPixel"}},vuO0:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var r=n("lwsE"),c=n.n(r),a=n("W8MJ"),s=n.n(a),o=n("PJYZ"),l=n.n(o),i=n("7W2i"),u=n.n(i),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),O=n("Bw9V"),k=n("enaV"),P=n("+qLk"),S=n("ega+"),N=n("5zAP"),j=n("hWib");function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function I(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function T(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(i){var e=function(e){u()(o,e);var a=I(o);function o(){var n;c()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),g()(l()(n),"initialDataFetch",function(e){n.fetchGallery(w(w({},e||n.props),{},{streamPage:0,insertionModifier:O.g}))}),g()(l()(n),"moreDataFetch",function(){n.fetchGallery(w(w({},n.props),{},{insertionModifier:O.a}))}),g()(l()(n),"replaceDataFetch",function(e){n.fetchGallery(w(w({},e),{},{streamPage:0,insertionModifier:O.o}))}),g()(l()(n),"fetchGallery",E()(function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.streamSection,t.streamParam,t.streamWindow,t.streamPage,t.streamSort,t.isPromoted,t.insertionModifier,t.isPostPageBeta,t.location)}},P.o,{leading:!0,trailing:!1})),g()(l()(n),"renderWithSpinner",function(){return b.a.createElement(N.b,{isLoading:n.props.isFetching,isScrollSpinner:n.props.hasPosts},b.a.createElement(i,{Child:S.d,moreDataFetch:n.moreDataFetch,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop,useOffset:n.props.useOffset}))}),g()(l()(n),"renderWithoutSpinner",function(){return b.a.createElement(i,{Child:S.d,moreDataFetch:n.moreDataFetch,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop,useOffset:n.props.useOffset})}),n}return s()(o,[{key:"componentDidMount",value:function(){t&&(this.props.isInitialized?this.props.cleanupGallery():this.props.setGalleryParams())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.streamSection,o=t.streamSort,i=t.streamWindow;if(n||!e.isInitialized)return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):a&&e.streamSection&&a!==e.streamSection?this.replaceDataFetch(this.props):o&&e.streamSort&&o!==e.streamSort?this.replaceDataFetch(this.props):i&&e.streamWindow&&i!==e.streamWindow?this.replaceDataFetch(this.props):void 0;this.props.setGalleryParams()}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(j.a,{action:this.fetchGallery,retries:e},n?this.renderWithSpinner():this.renderWithoutSpinner())}}]),o}(b.a.Component);return e.displayName="WithGalleryData(".concat(function(e){return e.displayName||e.name||"Component"}(i),")"),Object(v.b)(function(e){var t=e.gallery,n=e.posts,r=e.user;return{streamSection:t.get("streamSection"),streamSort:t.get("streamSort"),streamPage:t.get("streamPage"),streamParam:t.get("streamParam"),streamWindow:t.get("streamWindow"),isFetching:t.get("isFetching"),isPromoted:t.get("streamIsPromoted"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),hasPosts:0<n.get("posts").size,isPostPageBeta:r.get("flags").get("desktopPostPageBeta")}},function(u,d){return{fetchGallery:function(e,t,n,r,a,o,i,c,s){var l=d.displayAnalytics;u(Object(O.H)({isFetching:!0})),u(Object(k.a)({gallery:e,param:t,streamWindow:n,page:r,sort:a,isPromoted:o,insertionModifier:i,isPostPageBeta:c,location:s})),0===r&&l&&l()},galleryPostRendererReady:function(){return u(Object(O.E)(r))},cleanupGallery:function(){return u(Object(O.u)())}}})(e)}}},w1ny:function(e,t,n){},w8Sv:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("pVnL"),f=n.n(p),h=n("q1tI"),g=n.n(h),y=(n("17x9"),n("/MKj")),b=n("UX+T");n("QFwP");function v(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m()(r);if(a){var n=m()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}function C(e){var t=e.statuses;return t.length?g.a.createElement("div",{className:"StatusList"},t.map(function(e){return g.a.createElement(k,f()({key:e.id},e))})):null}var E=Object(y.b)(function(e){return{statuses:e.status?e.status.get("status").filter(function(e){return e.get("active")}).valueSeq().toJS():[]}})(C);var O=function(e){s()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDelay;setTimeout(function(){(0,e.props.handleClearStatus)()},t+3e3)}},{key:"render",value:function(){return g.a.createElement(P,this.props)}}]),n}(h.Component);O.defaultProps={animationDelay:0};var k=Object(y.b)(null,function(e,t){var n=t.id;return{handleClearStatus:function(){return e(Object(b.f)({id:n}))}}})(O);function P(e){var t=e.type,n=e.message,r=e.handleClearStatus,a=e.animationDelay;return g.a.createElement("div",{className:"Status Status-".concat(t),onClick:r,style:{animationDelay:"".concat(a,"ms")}},g.a.createElement("div",{className:"Status-container",dangerouslySetInnerHTML:{__html:n}}))}C.__docgenInfo={description:"",methods:[],displayName:"StatusListContainer",props:{statuses:{type:{name:"array"},required:!(P.defaultProps={animationDelay:0}),description:""}}},O.__docgenInfo={description:"",methods:[],displayName:"StatusContainer",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},statusType:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}},P.__docgenInfo={description:"",methods:[],displayName:"Status",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}}},wMLv:function(e,t,n){},"wT/c":function(e,t,n){},wcKY:function(e,t,n){},wmkP:function(e,t,n){},xbNk:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("wAdX"),E=n("7oyi"),O=n("/PhX"),k=n("p5w4"),P=n("G5ih"),S=(n("ghid"),n("Nm7g")),N=n("TSYQ"),j=n.n(N),q=n("pNV7");function w(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}n.d(t,"b",function(){return k.d}),n.d(t,"c",function(){return k.e});var I="report",T=function(e){u()(n,e);var t=w(n);function n(e){var c;return a()(this,n),c=t.call(this,e),g()(s()(c),"handleClose",function(){c.setState({reason:null,reasonDetail:null},function(){return c.props.close()})}),g()(s()(c),"handleReport",function(){var e=c.props,t=e.type,n=e.submit,r=e.id,a=e.reportedComments,o=e.reportedPosts;if(null!==c.state.reason){var i=t===k.d?a:o;n(t,r,c.state.reason,c.state.reasonDetail,i),c.setState({reason:null,reasonDetail:null})}}),g()(s()(c),"handleChoose",function(e){c.setState({reason:e})}),g()(s()(c),"handleDescription",function(e){var t=e;c.state.showDescription===e&&(t=null),c.setState({showDescription:t})}),g()(s()(c),"onChange",function(e){var t=c.state.value,n=e?e.target.value:t,r=Object(S.a)(n);c.setState({characterCount:r,reasonDetail:n})}),c.state={reason:e.isMature?-1:null,reasonDetail:null,showDescription:e.isMature?-1:null,value:"",characterCount:0,maxChars:140},c}return i()(n,[{key:"componentDidUpdate",value:function(e){e.isMature!==this.props.isMature&&this.setState({reason:this.props.isMature?-1:null,showDescription:this.props.isMature?-1:null})}},{key:"render",value:function(){var t=this,e=this.props,n=e.type,r=e.isMature,a=this.state,o=a.characterCount,i=a.maxChars-o<0,c=j()({"ReportDialog-Detail-Text":!0,over:i});if(n===k.f)return null;var s=[r?{label:Object(P.b)("precheckedMatureLabel",n),explanation:Object(P.b)("precheckedMatureExplanation"),value:-1,name:"reportpost-disabled",onClick:function(e){e.preventDefault()},extraClass:" disabled",defaultChecked:!0}:{label:Object(P.b)("matureLabel"),explanation:Object(P.b)("matureExplanation",n),value:4},{label:Object(P.b)("sexuallyLabel"),explanation:Object(P.b)("sexuallyExplanation",n),value:5},{label:Object(P.b)("spamLabel"),explanation:Object(P.b)("spamExplanation",n),value:2},{label:Object(P.b)("abusiveLabel"),explanation:Object(P.b)("abusiveExplanation",n),value:3},{label:Object(P.b)("dnboiLabel"),explanation:Object(P.b)("dnboiExplanation",n),value:1}],l=!(0<this.state.reason&&this.state.characterCount<141);return b.a.createElement(C.a,{className:"ReportDialog",isModal:!1,onClose:this.handleClose,name:I},b.a.createElement("div",{className:"ReportDialog-head"},b.a.createElement("span",null,Object(P.b)("reportTitle",n)),b.a.createElement(E.a,{className:"ReportDialog-head--close",imageSrc:q.a[q.j],onClick:this.handleClose})),b.a.createElement("div",{className:"ReportDialog-content"},s.map(function(e){return t.renderOption(e)}),this.state.reason&&b.a.createElement("div",{className:"ReportDialog-Detail"},b.a.createElement("form",{className:"ReportDialog-Detail-Form"},b.a.createElement("textarea",{className:c,onChange:this.onChange,placeholder:Object(P.b)("describeReportReason",n)})),140<this.state.characterCount&&b.a.createElement("p",{className:"ReportDialog-Detail-Text-Exceeded"},Object(P.b)("charactersExceeded",140)))),b.a.createElement("div",{className:"ReportDialog-footer"},b.a.createElement("p",{className:"ReportDialog-CommunityRules"},Object(P.b)("reportRules")),b.a.createElement("button",{type:"button",disabled:l,className:"ReportDialog-button--do",onClick:this.handleReport},Object(P.b)("report"))))}},{key:"renderOption",value:function(e){var t=this,n=this.state.showDescription===e.value?" active":"";return b.a.createElement("label",{className:"ReportDialog-RadioBox-item".concat(e.extraClass||"").concat(n),key:e.value},b.a.createElement("div",{className:"ReportDialog-RadioBox-content-wrapper"},b.a.createElement("input",{className:"ReportDialog-RadioBox-radio",type:"radio",onClick:e.onClick||function(){return t.handleChoose(e.value)},name:e.name||"reportpost"}),b.a.createElement("div",{className:"ReportDialog-RadioBox-checkbox"}," "),b.a.createElement("div",{className:"ReportDialog-RadioBox-title"},e.label),b.a.createElement("div",{className:"ReportDialog-RadioBox-chevron",onClick:function(){return t.handleDescription(e.value)}},b.a.createElement("i",{className:"ReportDialog-RadioBox-chevron-icon"}))),b.a.createElement("div",{className:"ReportDialog-RadioBox-description"},e.explanation))}}]),n}(y.Component);T.defaultProps={isMature:!1},T.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleReport",docblock:null,modifiers:[],params:[],returns:null},{name:"handleChoose",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"handleDescription",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"renderOption",docblock:null,modifiers:[],params:[{name:"option",type:null}],returns:null}],displayName:"Report",props:{isMature:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},close:{type:{name:"func"},required:!0,description:""},submit:{type:{name:"func"},required:!0,description:""},type:{type:{name:"string"},required:!0,description:""},reportedComments:{type:{name:"object"},required:!1,description:""},reportedPosts:{type:{name:"object"},required:!1,description:""}}},t.d=Object(v.b)(function(e,t){var n=e.report,r=t.type;return{id:n.get("id"),reportedComments:n.get("reportedComments"),reportedPosts:n.get("reportedPosts"),isMature:!!n.get("isMature"),type:n.get("type")||r}},function(o){return{close:function(){o(Object(O.y)(I))},submit:function(e,t,n,r,a){e===k.d?o(Object(k.g)(t,n,r,a)):o(Object(k.i)(t,n,r,a)),o(Object(O.y)(I))}}})(T)},xsax:function(e,t,n){},"y/VL":function(e,t,n){},yQno:function(e,t,n){},yosD:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("ANjH"),E=n("2OyZ"),O=n("pNV7"),k=n("G5ih"),P=n("flVz"),S=n("/PhX"),N=n("dZW6"),j=n("wAdX"),q=n("7oyi"),w=n("Ot+t"),I=n("QlZ4");function T(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var A=function(e){u()(n,e);var t=T(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidMount",value:function(){this.props.mountEmbedNode(this.props.nodeId)}},{key:"componentWillUnmount",value:function(){this.props.unmountEmbedNode(this.props.nodeId)}},{key:"render",value:function(){var e=this.props,t=e.isRenderReady,n=e.children,r=e.height,a=e.className;return b.a.createElement("div",{className:a},b.a.createElement("div",{id:this.props.nodeId,style:{height:t?r:0,overflow:"hidden"}}),t?null:n)}}]),n}(b.a.Component);A.__docgenInfo={description:"",methods:[],displayName:"EmbedNode",props:{mountEmbedNode:{type:{name:"func"},required:!0,description:""},unmountEmbedNode:{type:{name:"func"},required:!0,description:""},nodeId:{type:{name:"string"},required:!0,description:""},isRenderReady:{type:{name:"bool"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""}}};var D=Object(C.d)(Object(v.b)(function(e){var t=e.embed;return{isRenderReady:t.get("isRenderReady"),height:t.get("height"),hasTitle:t.get("hasTitle")}},{mountEmbedNode:P.g,unmountEmbedNode:P.m}),Object(I.a)(w.a,w.h))(A),R=n("iww3"),x=n("xypG");n("20NG");function M(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var F=function(e){u()(o,e);var a=M(o);function o(){var t;i()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),g()(s()(t),"onClose",function(){var e=t.props;(0,e.closeDialog)(e.name||E.a)}),t}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.renderInput,n=e.clipboardCopy,r=e.embedSnippet,a=e.toggleTitle,o=e.hasTitle,i=e.isCopySuccess,c=e.name,s=e.nodeId;return b.a.createElement(j.a,{className:"EmbedDialog",name:c||E.a,isModal:!1},b.a.createElement("div",{className:"CommonUploadDialog-head"},b.a.createElement("span",null,Object(k.b)("embedDialogHead")),b.a.createElement(q.a,{className:"CommonUploadDialog-head--close",imageSrc:O.a[O.j],onClick:this.onClose})),b.a.createElement("div",{className:"EmbedDialog-content"},b.a.createElement("div",{className:"EmbedDialog-copyLink"},t({className:"EmbedDialog-copyLink--input",text:r}),b.a.createElement("button",{type:"button",className:"EmbedDialog-copyLink--button",onClick:n},Object(k.b)("embedDialogCopy".concat(i?"Done":"")),i&&b.a.createElement(O.W,{name:O.e}))),b.a.createElement(D,{className:"EmbedDialog-embed",nodeId:s||E.b},b.a.createElement(x.a,{size:60,className:"EmbedDialog-embed--spinner"})),b.a.createElement("div",{className:"EmbedDialog-titleToggle"},Object(k.b)("embedDialogTitleToggle"),b.a.createElement(R.a,{name:"titleToggle",className:"EmbedDialog-titleToggle--checkbox",value:!o,toggleHandler:a,labelText:Object(k.b)("embedDialogTitleToggleLabel")}))))}}]),o}(b.a.Component);F.__docgenInfo={description:"",methods:[{name:"onClose",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EmbedDialog",props:{hasTitle:{type:{name:"bool"},required:!1,description:""},isCopySuccess:{type:{name:"bool"},required:!1,description:""},embedSnippet:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},nodeId:{type:{name:"string"},required:!1,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},toggleTitle:{type:{name:"func"},required:!0,description:""},closeDialog:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.d)(N.a,Object(v.b)(function(e){var t=e.embed,n=e.ui;return{embedSnippet:t.get("snippet"),hasTitle:t.get("hasTitle"),isCopySuccess:n.clipboardCopy.get("isSuccess")}},{toggleTitle:P.l,closeDialog:S.y}))(F)},yzGh:function(e,t,n){},zMZQ:function(e,t,n){e.exports=n.p+"desktop-assets/s1.db8c19b82d156f87cd9fcf09311622c1.svg"},zuLI:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("7W2i"),s=n.n(o),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("GB65")),g=function e(t,n){i()(this,e),this.x=t||0,this.y=n||0},y=function(){function t(e){i()(this,t),this.animationState=e,this.x=.5*e.viewWidth,this.y=.5*e.viewHeight,this.r=24,this._progress=0,this.complete=!1}return c()(t,[{key:"reset",value:function(){this._progress=0,this.complete=!1}},{key:"draw",value:function(){this.animationState.ctx.fillStyle=this.animationState.loadingColor,this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.r,-E,C*this._progress-E),this.animationState.ctx.lineTo(this.x,this.y),this.animationState.ctx.closePath(),this.animationState.ctx.fill()}},{key:"progress",set:function(e){this._progress=e<0?0:1<e?1:e,this.complete=1<=this._progress},get:function(){return this._progress}}]),t}(),b=function(){function t(e){i()(this,t),this.animationState=e,this.x=.5*e.viewWidth,this.y=.5*e.viewHeight,this.startRadius=24,this.time=0,this.duration=.4,this.progress=0,this.complete=!1}return c()(t,[{key:"reset",value:function(){this.time=0,this.progress=0,this.complete=!1}},{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep),this.progress=k.inBack(this.time,0,1,this.duration),this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.fillStyle="transparent",this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.startRadius*(1-this.progress),0,C),this.animationState.ctx.fill()}}]),t}(),v=function(){function o(e,t,n,r,a){i()(this,o),this.animationState=e,this.p0=t,this.p1=n,this.p2=r,this.p3=a,this.time=0,this.duration=3+2*Math.random(),this.color="#".concat(Math.floor(16777215*Math.random()).toString(16)),this.w=8,this.h=8,this.complete=!1}return c()(o,[{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep);var e=k.outCubic(this.time,0,1,this.duration),t=function(e,t,n,r,a){var o=new g,i=1-a;return o.x=i*i*i*e.x+3*i*i*a*t.x+3*i*a*a*n.x+a*a*a*r.x,o.y=i*i*i*e.y+3*i*i*a*t.y+3*i*a*a*n.y+a*a*a*r.y,o}(this.p0,this.p1,this.p2,this.p3,e),n=t.x-this.x,r=t.y-this.y;this.r=Math.atan2(r,n)+E,this.sy=Math.sin(Math.PI*e*10),this.x=t.x,this.y=t.y,this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.save(),this.animationState.ctx.translate(this.x,this.y),this.animationState.ctx.rotate(this.r),this.animationState.ctx.scale(1,this.sy),this.animationState.ctx.fillStyle=this.color,this.animationState.ctx.fillRect(.5*-this.w,.5*-this.h,this.w,this.h),this.animationState.ctx.restore()}}]),o}(),C=2*Math.PI,E=.5*Math.PI;function O(e){for(var t=e.viewWidth,n=e.viewHeight,r=e.particles,a=0;a<128;a++){var o=new g(.5*t,.5*n),i=new g(Math.random()*t,Math.random()*n),c=new g(Math.random()*t,Math.random()*n),s=new g(Math.random()*t,n+64);r.push(new v(e,o,i,c,s))}}var k={inCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},outCubic:function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t},inOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},inBack:function(e,t,n,r,a){return n*(e/=r)*e*(((a=a||1.70158)+1)*e-a)+t}};n("hibn");function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m()(r);if(a){var n=m()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var S=function(e){s()(r,e);var n=P(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).canvas=f.a.createRef(),t}return c()(r,[{key:"componentDidMount",value:function(){this.run()}},{key:"componentDidUpdate",value:function(){this.run()}},{key:"shouldComponentUpdate",value:function(e){return this.props.run!==e.run}},{key:"run",value:function(){var e=this.props,t=e.viewWidth,n=e.viewHeight,r=e.loadSpeed,a=e.loadingColor,o={ctx:this.canvas.current.getContext("2d"),particles:[],phase:0,timeStep:1/70,viewWidth:t,viewHeight:n,loadSpeed:r,loadingColor:a},i=function(e){return new y(e)}(o),c=function(e){return new b(e)}(o);O(o),Object(h.pb)(function(n,r,a){return function e(){!function(e,t,n){switch(e.phase){case 0:t.progress+=1/e.loadSpeed;break;case 1:n.update();break;case 2:e.particles.forEach(function(e){e.update()})}}(n,r,a),function(e,t,n){var r=e.viewWidth,a=e.viewHeight,o=e.phase,i=e.ctx,c=e.particles;switch(i.clearRect(0,0,r,a),o){case 0:t.draw();break;case 1:n.draw();break;case 2:c.forEach(function(e){e.draw()})}}(n,r,a);var t=!1;0===n.phase&&r.complete?n.phase=1:1===n.phase&&a.complete?n.phase=2:2===n.phase&&function(e){for(var t=0;t<e.length;t++)if(!1===e[t].complete)return!1;return!0}(n.particles)&&(n.phase=0,r.reset(),a.reset(),n.particles.length=0,O(n),t=!0),t||Object(h.pb)(e)}}(o,i,c))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.viewWidth,r=e.viewHeight;return f.a.createElement("div",{className:"ThankYouConfetti ".concat(t)},f.a.createElement("canvas",{width:n,height:r,className:"ThankYouConfetti-canvas",ref:this.canvas}))}}]),r}(f.a.Component);S.defaultProps={className:"",loadingColor:"transparent",loadSpeed:45,run:0},S.__docgenInfo={description:"",methods:[{name:"run",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ThankYouConfetti",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},loadingColor:{defaultValue:{value:"'transparent'",computed:!1},type:{name:"string"},required:!1,description:""},loadSpeed:{defaultValue:{value:"45",computed:!1},type:{name:"number"},required:!1,description:""},run:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},viewWidth:{type:{name:"number"},required:!0,description:""},viewHeight:{type:{name:"number"},required:!0,description:""}}}}}]);